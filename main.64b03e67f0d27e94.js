(self.webpackChunkcurriculum_jaime=self.webpackChunkcurriculum_jaime||[]).push([[179],{2011:(Mt,Be,V)=>{"use strict";V.d(Be,{Dh:()=>te,GT:()=>Te,cc:()=>J,hO:()=>Ze,on:()=>B,pX:()=>we,xv:()=>ae});var _=V(4650),le=V(9260),k=V(4976);Mt=V.hmd(Mt);const _e=["ngOnDestroy"],we=(Ee,ht,ut,Le={})=>new Proxy(Ee,{get:(re,Se)=>ut.runOutsideAngular(()=>{var ne;if(Ee[Se])return!(null===(ne=Le?.spy)||void 0===ne)&&ne.get&&Le.spy.get(Se,Ee[Se]),Ee[Se];if(_e.indexOf(Se)>-1)return()=>{};const fe=ht.toPromise().then(qe=>{const se=qe&&qe[Se];return"function"==typeof se?se.bind(qe):se&&se.then?se.then(pt=>ut.run(()=>pt)):ut.run(()=>se)});return new Proxy(()=>{},{get:(qe,se)=>fe[se],apply:(qe,se,pt)=>fe.then(tt=>{var Gt;const gt=tt&&tt(...pt);return!(null===(Gt=Le?.spy)||void 0===Gt)&&Gt.apply&&Le.spy.apply(Se,pt,gt),gt})})})}),Te=(Ee,ht)=>{ht.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Le=>{Object.defineProperty(Ee.prototype,Le,Object.getOwnPropertyDescriptor(ut.prototype||ut,Le))})})};class G{constructor(ht){return ht}}const te=new _.OlP("angularfire2.app.options"),ae=new _.OlP("angularfire2.app.name");function B(Ee,ht,ut){const re="object"==typeof ut&&ut||{};re.name=re.name||"string"==typeof ut&&ut||"[DEFAULT]";const ne=le.Z.apps.filter(fe=>fe&&fe.name===re.name)[0]||ht.runOutsideAngular(()=>le.Z.initializeApp(Ee,re));try{JSON.stringify(Ee)!==JSON.stringify(ne.options)&&H("error",`${ne.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new G(ne)}const H=(Ee,...ht)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ee](...ht)},Q={provide:G,useFactory:B,deps:[te,_.R0b,[new _.FiY,ae]]};let Ze=(()=>{class Ee{constructor(ut){le.Z.registerVersion("angularfire",k.q4.full,"core"),le.Z.registerVersion("angularfire",k.q4.full,"app-compat"),le.Z.registerVersion("angular",_.q4F.full,ut.toString())}static initializeApp(ut,Le){return{ngModule:Ee,providers:[{provide:te,useValue:ut},{provide:ae,useValue:Le}]}}}return Ee.\u0275fac=function(ut){return new(ut||Ee)(_.LFG(_.Lbi))},Ee.\u0275mod=_.oAB({type:Ee}),Ee.\u0275inj=_.cJS({providers:[Q]}),Ee})();function J(Ee,ht,ut,Le,re){const[,Se,ne]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===Ee)||[];if(Se)return function X(Ee,ht){try{return Ee.toString()===ht.toString()}catch{return Ee===ht}}(re,ne)||(ge("error",`${ht} was already initialized on the ${ut} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:re,was:ne})),Se;{const fe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ee,fe,re]),fe}}const Fe=!!Mt.hot,ge=(Ee,...ht)=>{(0,_.X6Q)()&&typeof console<"u"&&console[Ee](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Mt,Be,V)=>{"use strict";V.d(Be,{q4:()=>sr,iC:()=>Mc,HU:()=>Du,vb:()=>Xl,JM:()=>zp});var _=V(4650),le=V(259),k=V(5861),_e=V(6881),we=V(2090),Te=V(4859),G=V(1877);let ae,B;const Ze=new WeakMap,J=new WeakMap,X=new WeakMap,Fe=new WeakMap,ge=new WeakMap;let ut={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return J.get(I);if("objectStoreNames"===C)return I.objectStoreNames||X.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ne(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function Se(I){return"function"==typeof I?function re(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(fe(this),C),ne(Ze.get(this))}:function(...C){return ne(I.apply(fe(this),C))}:function(C,...M){const L=I.call(fe(this),C,...M);return X.set(L,C.sort?C.sort():[C]),ne(L)}}(I):(I instanceof IDBTransaction&&function ht(I){if(J.has(I))return;const C=new Promise((M,L)=>{const Z=()=>{I.removeEventListener("complete",ie),I.removeEventListener("error",Me),I.removeEventListener("abort",Me)},ie=()=>{M(),Z()},Me=()=>{L(I.error||new DOMException("AbortError","AbortError")),Z()};I.addEventListener("complete",ie),I.addEventListener("error",Me),I.addEventListener("abort",Me)});J.set(I,C)}(I),((I,C)=>C.some(M=>I instanceof M))(I,function H(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ut):I)}function ne(I){if(I instanceof IDBRequest)return function Ee(I){const C=new Promise((M,L)=>{const Z=()=>{I.removeEventListener("success",ie),I.removeEventListener("error",Me)},ie=()=>{M(ne(I.result)),Z()},Me=()=>{L(I.error),Z()};I.addEventListener("success",ie),I.addEventListener("error",Me)});return C.then(M=>{M instanceof IDBCursor&&Ze.set(M,I)}).catch(()=>{}),ge.set(C,I),C}(I);if(Fe.has(I))return Fe.get(I);const C=Se(I);return C!==I&&(Fe.set(I,C),ge.set(C,I)),C}const fe=I=>ge.get(I),pt=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Gt=new Map;function gt(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(Gt.get(C))return Gt.get(C);const M=C.replace(/FromIndex$/,""),L=C!==M,Z=tt.includes(M);if(!(M in(L?IDBIndex:IDBObjectStore).prototype)||!Z&&!pt.includes(M))return;const ie=function(){var Me=(0,k.Z)(function*(rt,...Je){const Tt=this.transaction(rt,Z?"readwrite":"readonly");let St=Tt.store;return L&&(St=St.index(Je.shift())),(yield Promise.all([St[M](...Je),Z&&Tt.done]))[0]});return function(Je){return Me.apply(this,arguments)}}();return Gt.set(C,ie),ie}!function Le(I){ut=I(ut)}(I=>({...I,get:(C,M,L)=>gt(C,M)||I.get(C,M,L),has:(C,M)=>!!gt(C,M)||I.has(C,M)}));const Sr="@firebase/installations",ve="w:0.6.4",Y="FIS_v2",wt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function he(I){return I instanceof we.ZR&&I.code.includes("request-failed")}function $e({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function it(I){return{token:I.token,requestStatus:2,expiresIn:pr(I.expiresIn),creationTime:Date.now()}}function Rt(I,C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(I,C){const L=(yield C.json()).error;return wt.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Zt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Bt(I,{refreshToken:C}){const M=Zt(I);return M.append("Authorization",function Di(I){return`${Y} ${I}`}(C)),M}function ln(I){return jn.apply(this,arguments)}function jn(){return(jn=(0,k.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function pr(I){return Number(I.replace("s","000"))}function vt(I,C){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const L=$e(I),Z=Zt(I),ie=C.getImmediate({optional:!0});if(ie){const Tt=yield ie.getHeartbeatsHeader();Tt&&Z.append("x-firebase-client",Tt)}const rt={method:"POST",headers:Z,body:JSON.stringify({fid:M,authVersion:Y,appId:I.appId,sdkVersion:ve})},Je=yield ln(()=>fetch(L,rt));if(Je.ok){const Tt=yield Je.json();return{fid:Tt.fid||M,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:it(Tt.authToken)}}throw yield Rt("Create Installation",Je)})).apply(this,arguments)}function ui(I){return new Promise(C=>{setTimeout(C,I)})}const aa=/^[cdef][\w-]{21}$/;function gr(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function On(I){return function ci(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return aa.test(M)?M:""}catch{return""}}function an(I){return`${I.appName}!${I.appId}`}const Et=new Map;function Nt(I,C){const M=an(I);bi(M,C),function ar(I,C){const M=function Lr(){return!jt&&"BroadcastChannel"in self&&(jt=new BroadcastChannel("[Firebase] FID Change"),jt.onmessage=I=>{bi(I.data.key,I.data.fid)}),jt}();M&&M.postMessage({key:I,fid:C}),function vn(){0===Et.size&&jt&&(jt.close(),jt=null)}()}(M,C)}function bi(I,C){const M=Et.get(I);if(M)for(const L of M)L(C)}let jt=null;const mr="firebase-installations-store";let Fr=null;function Xi(){return Fr||(Fr=function qe(I,C,{blocked:M,upgrade:L,blocking:Z,terminated:ie}={}){const Me=indexedDB.open(I,C),rt=ne(Me);return L&&Me.addEventListener("upgradeneeded",Je=>{L(ne(Me.result),Je.oldVersion,Je.newVersion,ne(Me.transaction))}),M&&Me.addEventListener("blocked",()=>M()),rt.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),Z&&Je.addEventListener("versionchange",()=>Z())}).catch(()=>{}),rt}("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(mr)}})),Fr}function $n(I,C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,k.Z)(function*(I,C){const M=an(I),Z=(yield Xi()).transaction(mr,"readwrite"),ie=Z.objectStore(mr),Me=yield ie.get(M);return yield ie.put(C,M),yield Z.done,(!Me||Me.fid!==C.fid)&&Nt(I,C.fid),C})).apply(this,arguments)}function Is(I){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,k.Z)(function*(I){const C=an(I),L=(yield Xi()).transaction(mr,"readwrite");yield L.objectStore(mr).delete(C),yield L.done})).apply(this,arguments)}function Ci(I,C){return li.apply(this,arguments)}function li(){return(li=(0,k.Z)(function*(I,C){const M=an(I),Z=(yield Xi()).transaction(mr,"readwrite"),ie=Z.objectStore(mr),Me=yield ie.get(M),rt=C(Me);return void 0===rt?yield ie.delete(M):yield ie.put(rt,M),yield Z.done,rt&&(!Me||Me.fid!==rt.fid)&&Nt(I,rt.fid),rt})).apply(this,arguments)}function z(I){return j.apply(this,arguments)}function j(){return(j=(0,k.Z)(function*(I){let C;const M=yield Ci(I.appConfig,L=>{const Z=ee(L),ie=be(I,Z);return C=ie.registrationPromise,ie.installationEntry});return""===M.fid?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}})).apply(this,arguments)}function ee(I){return Qe(I||{fid:gr(),registrationStatus:0})}function be(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(wt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function de(I,C){return nt.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Ht(I)}:{installationEntry:C}}function nt(){return(nt=(0,k.Z)(function*(I,C){try{const M=yield vt(I,C);return $n(I.appConfig,M)}catch(M){throw he(M)&&409===M.customData.serverCode?yield Is(I.appConfig):yield $n(I.appConfig,{fid:C.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Ht(I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*(I){let C=yield yn(I.appConfig);for(;1===C.registrationStatus;)yield ui(100),C=yield yn(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield z(I);return L||M}return C})).apply(this,arguments)}function yn(I){return Ci(I,C=>{if(!C)throw wt.create("installation-not-found");return Qe(C)})}function Qe(I){return function Ct(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function kt(I,C){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const L=Vr(I,M),Z=Bt(I,M),ie=C.getImmediate({optional:!0});if(ie){const Tt=yield ie.getHeartbeatsHeader();Tt&&Z.append("x-firebase-client",Tt)}const rt={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:ve,appId:I.appId}})},Je=yield ln(()=>fetch(L,rt));if(Je.ok)return it(yield Je.json());throw yield Rt("Generate Auth Token",Je)})).apply(this,arguments)}function Vr(I,{fid:C}){return`${$e(I)}/${C}/authTokens:generate`}function bn(I){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,k.Z)(function*(I,C=!1){let M;const L=yield Ci(I.appConfig,ie=>{if(!Qt(ie))throw wt.create("not-registered");const Me=ie.authToken;if(!C&&cn(Me))return ie;if(1===Me.requestStatus)return M=ye(I,C),ie;{if(!navigator.onLine)throw wt.create("app-offline");const rt=sn(ie);return M=We(I,rt),rt}});return M?yield M:L.authToken})).apply(this,arguments)}function ye(I,C){return pe.apply(this,arguments)}function pe(){return(pe=(0,k.Z)(function*(I,C){let M=yield Ge(I.appConfig);for(;1===M.authToken.requestStatus;)yield ui(100),M=yield Ge(I.appConfig);const L=M.authToken;return 0===L.requestStatus?bn(I,C):L})).apply(this,arguments)}function Ge(I){return Ci(I,C=>{if(!Qt(C))throw wt.create("not-registered");return function Br(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function We(I,C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,k.Z)(function*(I,C){try{const M=yield kt(I,C),L=Object.assign(Object.assign({},C),{authToken:M});return yield $n(I.appConfig,L),M}catch(M){if(!he(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield $n(I.appConfig,L)}else yield Is(I.appConfig);throw M}})).apply(this,arguments)}function Qt(I){return void 0!==I&&2===I.registrationStatus}function cn(I){return 2===I.requestStatus&&!function Fn(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function sn(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function Ti(){return(Ti=(0,k.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:L}=yield z(C);return L?L.catch(console.error):bn(C).catch(console.error),M.fid})).apply(this,arguments)}function Ku(){return(Ku=(0,k.Z)(function*(I,C=!1){const M=I;return yield Cn(M),(yield bn(M,C)).token})).apply(this,arguments)}function Cn(I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,k.Z)(function*(I){const{registrationPromise:C}=yield z(I);C&&(yield C)})).apply(this,arguments)}function yr(I){return wt.create("missing-app-config-values",{valueName:I})}const di="installations",Yu=I=>{const C=I.getProvider("app").getImmediate(),M=function ih(I){if(!I||!I.options)throw yr("App Configuration");if(!I.name)throw yr("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw yr(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,_e._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Vs=I=>{const C=I.getProvider("app").getImmediate(),M=(0,_e._getProvider)(C,di).getImmediate();return{getId:()=>function Hi(I){return Ti.apply(this,arguments)}(M),getToken:Z=>function Xa(I){return Ku.apply(this,arguments)}(M,Z)}};(function es(){(0,_e._registerComponent)(new Te.wA(di,Yu,"PUBLIC")),(0,_e._registerComponent)(new Te.wA("installations-internal",Vs,"PRIVATE"))})(),(0,_e.registerVersion)(Sr,"0.6.4"),(0,_e.registerVersion)(Sr,"0.6.4","esm2017");const da="@firebase/remote-config",xn=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zi{constructor(C,M,L,Z){this.client=C,this.storage=M,this.storageCache=L,this.logger=Z}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Z=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Z}.`),Z}fetch(C){var M=this;return(0,k.Z)(function*(){const[L,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(C.cacheMaxAgeMillis,L))return Z;C.eTag=Z&&Z.eTag;const ie=yield M.client.fetch(C),Me=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Me.push(M.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Me),ie})()}}function ph(I=navigator){return I.languages&&I.languages[0]||I.language}class Ja{constructor(C,M,L,Z,ie,Me){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=L,this.projectId=Z,this.apiKey=ie,this.appId=Me}fetch(C){var M=this;return(0,k.Z)(function*(){const[L,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Je={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:M.appId,language_code:ph()},Tt={method:"POST",headers:rt,body:JSON.stringify(Je)},St=fetch(Me,Tt),Wt=new Promise((xr,Qs)=>{C.signal.addEventListener(()=>{const Rc=new Error("The operation was aborted.");Rc.name="AbortError",Qs(Rc)})});let zr;try{yield Promise.race([St,Wt]),zr=yield St}catch(xr){let Qs="fetch-client-network";throw"AbortError"===xr?.name&&(Qs="fetch-timeout"),xn.create(Qs,{originalErrorMessage:xr?.message})}let Tn=zr.status;const Pt=zr.headers.get("ETag")||void 0;let ls,go;if(200===zr.status){let xr;try{xr=yield zr.json()}catch(Qs){throw xn.create("fetch-client-parse",{originalErrorMessage:Qs?.message})}ls=xr.entries,go=xr.state}if("INSTANCE_STATE_UNSPECIFIED"===go?Tn=500:"NO_CHANGE"===go?Tn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(ls={}),304!==Tn&&200!==Tn)throw xn.create("fetch-status",{httpStatus:Tn});return{status:Tn,eTag:Pt,config:ls}})()}}class Ep{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,k.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:L}){var Z=this;return(0,k.Z)(function*(){yield function Cl(I,C){return new Promise((M,L)=>{const Z=Math.max(C-Date.now(),0),ie=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ie),L(xn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const ie=yield Z.client.fetch(C);return yield Z.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function eu(I){if(!(I instanceof we.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ie))throw ie;const Me={throttleEndTimeMillis:Date.now()+(0,we.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Me),Z.attemptFetch(C,Me)}})()}}class Ip{constructor(C,M,L,Z,ie){this.app=C,this._client=M,this._storageCache=L,this._storage=Z,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ar(I,C){const M=I.target.error||void 0;return xn.create(C,{originalErrorMessage:M&&M?.message})}const Qr="app_namespace_store";class qE{constructor(C,M,L,Z=function nc(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{C(Ar(L,"storage-open"))},M.onsuccess=L=>{I(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Qr,{keyPath:"compositeKey"})}}catch(M){C(xn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ie)=>{const rt=L.transaction([Qr],"readonly").objectStore(Qr),Je=M.createCompositeKey(C);try{const Tt=rt.get(Je);Tt.onerror=St=>{ie(Ar(St,"storage-get"))},Tt.onsuccess=St=>{const Wt=St.target.result;Z(Wt?Wt.value:void 0)}}catch(Tt){ie(xn.create("storage-get",{originalErrorMessage:Tt?.message}))}})})()}set(C,M){var L=this;return(0,k.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ie,Me)=>{const Je=Z.transaction([Qr],"readwrite").objectStore(Qr),Tt=L.createCompositeKey(C);try{const St=Je.put({compositeKey:Tt,value:M});St.onerror=Wt=>{Me(Ar(Wt,"storage-set"))},St.onsuccess=()=>{ie()}}catch(St){Me(xn.create("storage-set",{originalErrorMessage:St?.message}))}})})()}delete(C){var M=this;return(0,k.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Z,ie)=>{const rt=L.transaction([Qr],"readwrite").objectStore(Qr),Je=M.createCompositeKey(C);try{const Tt=rt.delete(Je);Tt.onerror=St=>{ie(Ar(St,"storage-delete"))},Tt.onsuccess=()=>{Z()}}catch(Tt){ie(xn.create("storage-delete",{originalErrorMessage:Tt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Yn{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const M=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),Z=C.storage.getActiveConfig(),ie=yield M;ie&&(C.lastFetchStatus=ie);const Me=yield L;Me&&(C.lastSuccessfulFetchTimestampMillis=Me);const rt=yield Z;rt&&(C.activeConfig=rt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function hi(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,k.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}let ha,Qn;!function js(){(0,_e._registerComponent)(new Te.wA("remote-config",function I(C,{instanceIdentifier:M}){const L=C.getProvider("app").getImmediate(),Z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xn.create("registration-window");if(!(0,we.hl)())throw xn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Me,appId:rt}=L.options;if(!ie)throw xn.create("registration-project-id");if(!Me)throw xn.create("registration-api-key");if(!rt)throw xn.create("registration-app-id");const Je=new qE(rt,L.name,M=M||"firebase"),Tt=new Yn(Je),St=new G.Yd(da);St.logLevel=G.in.ERROR;const Wt=new Ja(Z,_e.SDK_VERSION,M,ie,Me,rt),zr=new Ep(Wt,Je),Tn=new zi(zr,Je,Tt,St),Pt=new Ip(L,Tn,Tt,Je,St);return function ey(I){const C=(0,we.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Pt),Pt},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(da,"0.4.4"),(0,_e.registerVersion)(da,"0.4.4","esm2017")}();const Sl=new WeakMap,Si=new WeakMap,co=new WeakMap,jr=new WeakMap,zt=new WeakMap;let tu={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return Si.get(I);if("objectStoreNames"===C)return I.objectStoreNames||co.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ns(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function vh(I){return"function"==typeof I?function _h(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mo(){return Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(sc(this),C),ns(Sl.get(this))}:function(...C){return ns(I.apply(sc(this),C))}:function(C,...M){const L=I.call(sc(this),C,...M);return co.set(L,C.sort?C.sort():[C]),ns(L)}}(I):(I instanceof IDBTransaction&&function mh(I){if(Si.has(I))return;const C=new Promise((M,L)=>{const Z=()=>{I.removeEventListener("complete",ie),I.removeEventListener("error",Me),I.removeEventListener("abort",Me)},ie=()=>{M(),Z()},Me=()=>{L(I.error||new DOMException("AbortError","AbortError")),Z()};I.addEventListener("complete",ie),I.addEventListener("error",Me),I.addEventListener("abort",Me)});Si.set(I,C)}(I),((I,C)=>C.some(M=>I instanceof M))(I,function ny(){return ha||(ha=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,tu):I)}function ns(I){if(I instanceof IDBRequest)return function gh(I){const C=new Promise((M,L)=>{const Z=()=>{I.removeEventListener("success",ie),I.removeEventListener("error",Me)},ie=()=>{M(ns(I.result)),Z()},Me=()=>{L(I.error),Z()};I.addEventListener("success",ie),I.addEventListener("error",Me)});return C.then(M=>{M instanceof IDBCursor&&Sl.set(M,I)}).catch(()=>{}),zt.set(C,I),C}(I);if(jr.has(I))return jr.get(I);const C=vh(I);return C!==I&&(jr.set(I,C),zt.set(C,I)),C}const sc=I=>zt.get(I);function Ue(I,C,{blocked:M,upgrade:L,blocking:Z,terminated:ie}={}){const Me=indexedDB.open(I,C),rt=ns(Me);return L&&Me.addEventListener("upgradeneeded",Je=>{L(ns(Me.result),Je.oldVersion,Je.newVersion,ns(Me.transaction))}),M&&Me.addEventListener("blocked",()=>M()),rt.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),Z&&Je.addEventListener("versionchange",()=>Z())}).catch(()=>{}),rt}function tn(I,{blocked:C}={}){const M=indexedDB.deleteDatabase(I);return C&&M.addEventListener("blocked",()=>C()),ns(M).then(()=>{})}const Al=["get","getKey","getAll","getAllKeys","count"],wh=["put","add","delete","clear"],Hn=new Map;function oc(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(Hn.get(C))return Hn.get(C);const M=C.replace(/FromIndex$/,""),L=C!==M,Z=wh.includes(M);if(!(M in(L?IDBIndex:IDBObjectStore).prototype)||!Z&&!Al.includes(M))return;const ie=function(){var Me=(0,k.Z)(function*(rt,...Je){const Tt=this.transaction(rt,Z?"readwrite":"readonly");let St=Tt.store;return L&&(St=St.index(Je.shift())),(yield Promise.all([St[M](...Je),Z&&Tt.done]))[0]});return function(Je){return Me.apply(this,arguments)}}();return Hn.set(C,ie),ie}!function yh(I){tu=I(tu)}(I=>({...I,get:(C,M,L)=>oc(C,M)||I.get(C,M,L),has:(C,M)=>!!oc(C,M)||I.has(C,M)}));const Ro="/firebase-messaging-sw.js",Ai="/firebase-cloud-messaging-push-scope",fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ml="google.c.a.c_id",zn="google.c.a.c_l",Dp="google.c.a.ts",bp="google.c.a.e";var xi=(()=>{return(I=xi||(xi={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",xi;var I})();function rs(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $s(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Z=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)Z[ie]=L.charCodeAt(ie);return Z}const Mi="fcm_token_details_db",Po="fcm_token_object_Store";function ry(I){return pa.apply(this,arguments)}function pa(){return pa=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Mi))return null;let C=null;return(yield Ue(Mi,5,{upgrade:(L=(0,k.Z)(function*(Z,ie,Me,rt){var Je;if(ie<2||!Z.objectStoreNames.contains(Po))return;const Tt=rt.objectStore(Po),St=yield Tt.index("fcmSenderId").get(I);if(yield Tt.clear(),St)if(2===ie){const Wt=St;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;C={token:Wt.fcmToken,createTime:null!==(Je=Wt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:rs(Wt.vapidKey)}}}else if(3===ie){const Wt=St;C={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:rs(Wt.auth),p256dh:rs(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:rs(Wt.vapidKey)}}}else if(4===ie){const Wt=St;C={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:rs(Wt.auth),p256dh:rs(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:rs(Wt.vapidKey)}}}}),function(ie,Me,rt,Je){return L.apply(this,arguments)})})).close(),yield tn(Mi),yield tn("fcm_vapid_details_db"),yield tn("undefined"),Rl(C)?C:null;var L}),pa.apply(this,arguments)}function Rl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Jr="firebase-messaging-store";let Pl=null;function ru(){return Pl||(Pl=Ue("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Jr)}})),Pl}function iu(I){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(I){const C=uc(I),L=yield(yield ru()).transaction(Jr).objectStore(Jr).get(C);if(L)return L;{const Z=yield ry(I.appConfig.senderId);if(Z)return yield Ol(I,Z),Z}})).apply(this,arguments)}function Ol(I,C){return su.apply(this,arguments)}function su(){return(su=(0,k.Z)(function*(I,C){const M=uc(I),Z=(yield ru()).transaction(Jr,"readwrite");return yield Z.objectStore(Jr).put(C,M),yield Z.done,C})).apply(this,arguments)}function Ih(I){return ga.apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(I){const C=uc(I),L=(yield ru()).transaction(Jr,"readwrite");yield L.objectStore(Jr).delete(C),yield L.done})).apply(this,arguments)}function uc({appConfig:I}){return I.appId}const dn=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hs(I,C){return kn.apply(this,arguments)}function kn(){return(kn=(0,k.Z)(function*(I,C){const M=yield Nl(I),L=ou(C),Z={method:"POST",headers:M,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(cc(I.appConfig),Z)).json()}catch(Me){throw dn.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(ie.error)throw dn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw dn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Dh(I,C){return bh.apply(this,arguments)}function bh(){return(bh=(0,k.Z)(function*(I,C){const M=yield Nl(I),L=ou(C.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${cc(I.appConfig)}/${C.token}`,Z)).json()}catch(Me){throw dn.create("token-update-failed",{errorInfo:Me?.toString()})}if(ie.error)throw dn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw dn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function kl(I,C){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,k.Z)(function*(I,C){const L={method:"DELETE",headers:yield Nl(I)};try{const ie=yield(yield fetch(`${cc(I.appConfig)}/${C}`,L)).json();if(ie.error)throw dn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Z){throw dn.create("token-unsubscribe-failed",{errorInfo:Z?.toString()})}})).apply(this,arguments)}function cc({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Nl(I){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ou({p256dh:I,auth:C,endpoint:M,vapidKey:L}){const Z={web:{endpoint:M,auth:C,p256dh:I}};return L!==fa&&(Z.web.applicationPubKey=L),Z}const ma=6048e5;function Th(I){return au.apply(this,arguments)}function au(){return(au=(0,k.Z)(function*(I){const C=yield Ll(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:rs(C.getKey("auth")),p256dh:rs(C.getKey("p256dh"))},L=yield iu(I.firebaseDependencies);if(L){if(Sp(L.subscriptionOptions,M))return Date.now()>=L.createTime+ma?uu(I,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield kl(I.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return Tp(I.firebaseDependencies,M)}return Tp(I.firebaseDependencies,M)})).apply(this,arguments)}function Cp(I){return zs.apply(this,arguments)}function zs(){return(zs=(0,k.Z)(function*(I){const C=yield iu(I.firebaseDependencies);C&&(yield kl(I.firebaseDependencies,C.token),yield Ih(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function uu(I,C){return lc.apply(this,arguments)}function lc(){return(lc=(0,k.Z)(function*(I,C){try{const M=yield Dh(I.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield Ol(I.firebaseDependencies,L),M}catch(M){throw yield Cp(I),M}})).apply(this,arguments)}function Tp(I,C){return is.apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(I,C){const L={token:yield Hs(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Ol(I,L),L.token})).apply(this,arguments)}function Ll(I,C){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,k.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$s(C)})})).apply(this,arguments)}function Sp(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function Fl(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function dc(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const L=C.notification.body;L&&(I.notification.body=L);const Z=C.notification.image;Z&&(I.notification.image=Z);const ie=C.notification.icon;ie&&(I.notification.icon=ie)}(C,I),function hc(I,C){!C.data||(I.data=C.data)}(C,I),function fc(I,C){var M,L,Z,ie,Me;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const rt=null!==(Z=null===(L=C.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Z?Z:null===(ie=C.notification)||void 0===ie?void 0:ie.click_action;rt&&(I.fcmOptions.link=rt);const Je=null===(Me=C.fcmOptions)||void 0===Me?void 0:Me.analytics_label;Je&&(I.fcmOptions.analyticsLabel=Je)}(C,I),C}function Ap(I){return"object"==typeof I&&!!I&&Ml in I}function ya(I,C){const M=[];for(let L=0;L<I.length;L++)M.push(I.charAt(L)),L<C.length&&M.push(C.charAt(L));return M.join("")}function Ul(I){return dn.create("missing-app-config-values",{valueName:I})}ya("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ya("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cu{constructor(C,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function Ah(I){if(!I||!I.options)throw Ul("App Configuration Object");if(!I.name)throw Ul("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const L of C)if(!M[L])throw Ul(L);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Z,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function xp(I){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ro,{scope:Ai}),I.swRegistration.update().catch(()=>{})}catch(C){throw dn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function lu(I,C){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,k.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield xp(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function No(I,C){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=fa)})).apply(this,arguments)}function du(){return(du=(0,k.Z)(function*(I,C){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield No(I,C?.vapidKey),yield lu(I,C?.serviceWorkerRegistration),Th(I)})).apply(this,arguments)}function qi(I,C,M){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,k.Z)(function*(I,C,M){const L=_a(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Ml],message_name:M[zn],message_time:M[Dp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a(I){switch(I){case xi.NOTIFICATION_CLICKED:return"notification_open";case xi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lo(){return(Lo=(0,k.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===xi.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Fl(M)):I.onMessageHandler.next(Fl(M)));const L=M.data;Ap(L)&&"1"===L[bp]&&(yield qi(I,M.messageType,L))})).apply(this,arguments)}const Fo="@firebase/messaging",Uo=I=>{const C=new cu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Bl(I,C){return Lo.apply(this,arguments)}(C,M)),C},gc=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:L=>function pc(I,C){return du.apply(this,arguments)}(C,L)}};function fu(){return va.apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mp(){(0,_e._registerComponent)(new Te.wA("messaging",Uo,"PUBLIC")),(0,_e._registerComponent)(new Te.wA("messaging-internal",gc,"PRIVATE")),(0,_e.registerVersion)(Fo,"0.12.4"),(0,_e.registerVersion)(Fo,"0.12.4","esm2017")}();const Un="analytics",jl="firebase_id",yc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",Gn=new G.Yd("@firebase/analytics"),$r=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wa(I){if(!I.startsWith(qs)){const C=$r.create("invalid-gtag-resource",{gtagURL:I});return Gn.warn(C.message),""}return I}function Ws(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function mu(I,C){const M=function _c(I,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(I,C)),M}("firebase-js-sdk-policy",{createScriptURL:wa}),L=document.createElement("script"),Z=`${qs}?l=${I}&id=${C}`;L.src=M?M?.createScriptURL(Z):Z,L.async=!0,document.head.appendChild(L)}function $l(I,C,M,L,Z,ie){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,k.Z)(function*(I,C,M,L,Z,ie){const Me=L[Z];try{if(Me)yield C[Me];else{const Je=(yield Ws(M)).find(Tt=>Tt.measurementId===Z);Je&&(yield C[Je.appId])}}catch(rt){Gn.error(rt)}I("config",Z,ie)})).apply(this,arguments)}function Op(I,C,M,L,Z){return xh.apply(this,arguments)}function xh(){return(xh=(0,k.Z)(function*(I,C,M,L,Z){try{let ie=[];if(Z&&Z.send_to){let Me=Z.send_to;Array.isArray(Me)||(Me=[Me]);const rt=yield Ws(M);for(const Je of Me){const Tt=rt.find(Wt=>Wt.measurementId===Je),St=Tt&&C[Tt.appId];if(!St){ie=[];break}ie.push(St)}}0===ie.length&&(ie=Object.values(C)),yield Promise.all(ie),I("event",L,Z||{})}catch(ie){Gn.error(ie)}})).apply(this,arguments)}function Lp(I){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(qs)&&M.src.includes(I))return M;return null}const ur=new class vc{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function wc(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Wi(I){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,k.Z)(function*(I){var C;const{appId:M,apiKey:L}=I,Z={method:"GET",headers:wc(L)},ie=yc.replace("{app-id}",M),Me=yield fetch(ie,Z);if(200!==Me.status&&304!==Me.status){let rt="";try{const Je=yield Me.json();null!==(C=Je.error)&&void 0!==C&&C.message&&(rt=Je.error.message)}catch{}throw $r.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:rt})}return Me.json()})).apply(this,arguments)}function Fp(I){return ir.apply(this,arguments)}function ir(){return(ir=(0,k.Z)(function*(I,C=ur,M){const{appId:L,apiKey:Z,measurementId:ie}=I.options;if(!L)throw $r.create("no-app-id");if(!Z){if(ie)return{measurementId:ie,appId:L};throw $r.create("no-api-key")}const Me=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Rh;return setTimeout((0,k.Z)(function*(){rt.abort()}),void 0!==M?M:6e4),ss({appId:L,apiKey:Z,measurementId:ie},Me,rt,C)})).apply(this,arguments)}function ss(I,C,M){return zl.apply(this,arguments)}function zl(){return(zl=(0,k.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},L,Z=ur){var ie;const{appId:Me,measurementId:rt}=I;try{yield Gl(L,C)}catch(Je){if(rt)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Me,measurementId:rt};throw Je}try{const Je=yield Wi(I);return Z.deleteThrottleMetadata(Me),Je}catch(Je){const Tt=Je;if(!Ea(Tt)){if(Z.deleteThrottleMetadata(Me),rt)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${Tt?.message}]`),{appId:Me,measurementId:rt};throw Je}const St=503===Number(null===(ie=Tt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,we.$s)(M,Z.intervalMillis,30):(0,we.$s)(M,Z.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+St,backoffCount:M+1};return Z.setThrottleMetadata(Me,Wt),Gn.debug(`Calling attemptFetch again in ${St} millis`),ss(I,Wt,L,Z)}})).apply(this,arguments)}function Gl(I,C){return new Promise((M,L)=>{const Z=Math.max(C-Date.now(),0),ie=setTimeout(M,Z);I.addEventListener(()=>{clearTimeout(ie),L($r.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Ea(I){if(!(I instanceof we.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Rh{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Ph,Oh;function Up(){return(Up=(0,k.Z)(function*(I,C,M,L,Z){if(Z&&Z.global)I("event",M,L);else{const ie=yield C;I("event",M,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function Cc(I){Oh=I}function Tc(I){Ph=I}function En(){return As.apply(this,arguments)}function As(){return(As=(0,k.Z)(function*(){if(!(0,we.hl)())return Gn.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(I){return Gn.warn($r.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function cr(){return(cr=(0,k.Z)(function*(I,C,M,L,Z,ie,Me){var rt;const Je=Fp(I);Je.then(Tn=>{M[Tn.measurementId]=Tn.appId,I.options.measurementId&&Tn.measurementId!==I.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Tn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tn=>Gn.error(Tn)),C.push(Je);const Tt=En().then(Tn=>{if(Tn)return L.getId()}),[St,Wt]=yield Promise.all([Je,Tt]);Lp(ie)||mu(ie,St.measurementId),Oh&&(Z("consent","default",Oh),Cc(void 0)),Z("js",new Date);const zr=null!==(rt=Me?.config)&&void 0!==rt?rt:{};return zr.origin="firebase",zr.update=!0,null!=Wt&&(zr[jl]=Wt),Z("config",St.measurementId,zr),Ph&&(Z("set",Ph),Tc(void 0)),St.measurementId})).apply(this,arguments)}class lr{constructor(C){this.app=C}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},vu=[];const Ks={};let jo,ti,Sc="dataLayer",Wl=!1;function qt(I,C,M){!function Ia(){const I=[];if((0,we.ru)()&&I.push("This is a browser extension environment."),(0,we.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),M=$r.create("invalid-analytics-context",{errorInfo:C});Gn.warn(M.message)}}();const L=I.options.appId;if(!L)throw $r.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw $r.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[L])throw $r.create("already-exists",{id:L});if(!Wl){!function wn(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(Sc);const{wrappedGtag:ie,gtagCore:Me}=function Np(I,C,M,L,Z){let ie=function(...Me){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ie=window[Z]),window[Z]=function kp(I,C,M,L){function ie(){return(ie=(0,k.Z)(function*(Me,...rt){try{if("event"===Me){const[Je,Tt]=rt;yield Op(I,C,M,Je,Tt)}else if("config"===Me){const[Je,Tt]=rt;yield $l(I,C,M,L,Je,Tt)}else if("consent"===Me){const[Je]=rt;I("consent","update",Je)}else if("get"===Me){const[Je,Tt,St]=rt;I("get",Je,Tt,St)}else if("set"===Me){const[Je]=rt;I("set",Je)}else I(Me,...rt)}catch(Je){Gn.error(Je)}})).apply(this,arguments)}return function Z(Me){return ie.apply(this,arguments)}}(ie,I,C,M),{gtagCore:ie,wrappedGtag:window[Z]}}(ei,vu,Ks,Sc,"gtag");ti=ie,jo=Me,Wl=!0}return ei[L]=function xt(I,C,M,L,Z,ie,Me){return cr.apply(this,arguments)}(I,vu,Ks,C,jo,Sc,M),new lr(I)}function Kl(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,k.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const Eu="@firebase/analytics";!function Ql(){(0,_e._registerComponent)(new Te.wA(Un,(C,{options:M})=>qt(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,_e._registerComponent)(new Te.wA("analytics-internal",function I(C){try{const M=C.getProvider(Un).getImmediate();return{logEvent:(L,Z,ie)=>function Zs(I,C,M,L){I=(0,we.m9)(I),function ay(I,C,M,L,Z){return Up.apply(this,arguments)}(ti,ei[I.app.options.appId],C,M,L).catch(Z=>Gn.error(Z))}(M,L,Z,ie)}}catch(M){throw $r.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,_e.registerVersion)(Eu,"0.10.0"),(0,_e.registerVersion)(Eu,"0.10.0","esm2017")}();var Ki=V(4408),Fh=V(7565);const Ac=new class Hr extends Fh.v{}(class os extends Ki.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(C,M,L):(C.flush(this),0)}});var dr=V(4986),Iu=V(8505),Ca=V(9468),fi=V(5363);const sr=new _.GfV("7.6.1"),ho="__angularfire_symbol__analyticsIsSupportedValue",Ta="__angularfire_symbol__analyticsIsSupported",xc="__angularfire_symbol__remoteConfigIsSupportedValue",as="__angularfire_symbol__remoteConfigIsSupported",us="__angularfire_symbol__messagingIsSupportedValue",vr="__angularfire_symbol__messagingIsSupported";function zp(I,C,M){if(C){if(1===C.length)return C[0];const ie=C.filter(Me=>Me.app===M);if(1===ie.length)return ie[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ta]||(globalThis[Ta]=Kl().then(I=>globalThis[ho]=I).catch(()=>globalThis[ho]=!1)),globalThis[vr]||(globalThis[vr]=fu().then(I=>globalThis[us]=I).catch(()=>globalThis[us]=!1)),globalThis[as]||(globalThis[as]=hi().then(I=>globalThis[xc]=I).catch(()=>globalThis[xc]=!1));const Xl=(I,C)=>{const M=C?[C]:(0,le.C6)(),L=[];return M.forEach(Z=>{Z.container.getProvider(I).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function zo(){}class Jl{constructor(C,M=Ac){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,L){const Z=this.zone;return this.delegate.schedule(function(Me){Z.runGuarded(()=>{C.apply(this,[Me])})},M,L)}}class nn{constructor(C){this.zone=C,this.task=null}call(C,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),M.pipe((0,Iu.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Du=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=M.run(()=>new Jl(Zone.current,dr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(_.LFG(_.R0b))},I.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Sa(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Mc(I){return Sa(),function ed(I){return function(M){return(M=M.lift(new nn(I.ngZone))).pipe((0,Ca.R)(I.outsideAngular),(0,fi.Q)(I.insideAngular))}}(Sa())(I)}},2090:(Mt,Be,V)=>{"use strict";V.d(Be,{$s:()=>Is,BH:()=>Se,G6:()=>ve,L:()=>ae,LL:()=>It,Pz:()=>re,Sg:()=>ne,UG:()=>se,US:()=>Te,ZB:()=>Q,ZR:()=>mt,aH:()=>Le,b$:()=>Gt,eu:()=>Ie,hl:()=>Y,jU:()=>pt,m9:()=>li,ne:()=>an,pd:()=>gr,r3:()=>jn,ru:()=>tt,tV:()=>B,uI:()=>qe,vZ:()=>Nr,w1:()=>Sr,xO:()=>aa,xb:()=>Di,z$:()=>fe,zI:()=>je,zd:()=>$i});const _e=function(z){const j=[];let ee=0;for(let be=0;be<z.length;be++){let de=z.charCodeAt(be);de<128?j[ee++]=de:de<2048?(j[ee++]=de>>6|192,j[ee++]=63&de|128):55296==(64512&de)&&be+1<z.length&&56320==(64512&z.charCodeAt(be+1))?(de=65536+((1023&de)<<10)+(1023&z.charCodeAt(++be)),j[ee++]=de>>18|240,j[ee++]=de>>12&63|128,j[ee++]=de>>6&63|128,j[ee++]=63&de|128):(j[ee++]=de>>12|224,j[ee++]=de>>6&63|128,j[ee++]=63&de|128)}return j},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,j){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let de=0;de<z.length;de+=3){const nt=z[de],Ht=de+1<z.length,Yt=Ht?z[de+1]:0,yn=de+2<z.length,Qe=yn?z[de+2]:0;let Dn=(15&Yt)<<2|Qe>>6,Vr=63&Qe;yn||(Vr=64,Ht||(Dn=64)),be.push(ee[nt>>2],ee[(3&nt)<<4|Yt>>4],ee[Dn],ee[Vr])}return be.join("")},encodeString(z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(z):this.encodeByteArray(_e(z),j)},decodeString(z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(z):function(z){const j=[];let ee=0,be=0;for(;ee<z.length;){const de=z[ee++];if(de<128)j[be++]=String.fromCharCode(de);else if(de>191&&de<224){const nt=z[ee++];j[be++]=String.fromCharCode((31&de)<<6|63&nt)}else if(de>239&&de<365){const yn=((7&de)<<18|(63&z[ee++])<<12|(63&z[ee++])<<6|63&z[ee++])-65536;j[be++]=String.fromCharCode(55296+(yn>>10)),j[be++]=String.fromCharCode(56320+(1023&yn))}else{const nt=z[ee++],Ht=z[ee++];j[be++]=String.fromCharCode((15&de)<<12|(63&nt)<<6|63&Ht)}}return j.join("")}(this.decodeStringToByteArray(z,j))},decodeStringToByteArray(z,j){this.init_();const ee=j?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let de=0;de<z.length;){const nt=ee[z.charAt(de++)],Yt=de<z.length?ee[z.charAt(de)]:0;++de;const Qe=de<z.length?ee[z.charAt(de)]:64;++de;const kt=de<z.length?ee[z.charAt(de)]:64;if(++de,null==nt||null==Yt||null==Qe||null==kt)throw new G;be.push(nt<<2|Yt>>4),64!==Qe&&(be.push(Yt<<4&240|Qe>>2),64!==kt&&be.push(Qe<<6&192|kt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class G extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(z){return function(z){const j=_e(z);return Te.encodeByteArray(j,!0)}(z).replace(/\./g,"")},B=function(z){try{return Te.decodeString(z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function Q(z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return j}for(const ee in j)!j.hasOwnProperty(ee)||!Ze(ee)||(z[ee]=Q(z[ee],j[ee]));return z}function Ze(z){return"__proto__"!==z}const Ee=()=>{try{return function J(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=z&&B(z[1]);return j&&JSON.parse(j)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Le=()=>{var z;return null===(z=Ee())||void 0===z?void 0:z.config},re=z=>{var j;return null===(j=Ee())||void 0===j?void 0:j[`_${z}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,ee)=>{this.resolve=j,this.reject=ee})}wrapCallback(j){return(ee,be)=>{ee?this.reject(ee):this.resolve(be),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(ee):j(ee,be))}}}function ne(z,j){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=j||"demo-project",de=z.iat||0,nt=z.sub||z.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:de,exp:de+3600,auth_time:de,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(Ht)),""].join(".")}function fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fe())}function se(){var z;const j=null===(z=Ee())||void 0===z?void 0:z.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function tt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const z=fe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ve(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((z,j)=>{try{let ee=!0;const be="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(be);de.onsuccess=()=>{de.result.close(),ee||self.indexedDB.deleteDatabase(be),z(!0)},de.onupgradeneeded=()=>{ee=!1},de.onerror=()=>{var nt;j((null===(nt=de.error)||void 0===nt?void 0:nt.message)||"")}}catch(ee){j(ee)}})}function je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mt extends Error{constructor(j,ee,be){super(ee),this.code=j,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(j,ee,be){this.service=j,this.serviceName=ee,this.errors=be}create(j,...ee){const be=ee[0]||{},de=`${this.service}/${j}`,nt=this.errors[j],Ht=nt?function wt(z,j){return z.replace(he,(ee,be)=>{const de=j[be];return null!=de?String(de):`<${be}?>`})}(nt,be):"Error";return new mt(de,`${this.serviceName}: ${Ht} (${de}).`,be)}}const he=/\{\$([^}]+)}/g;function jn(z,j){return Object.prototype.hasOwnProperty.call(z,j)}function Di(z){for(const j in z)if(Object.prototype.hasOwnProperty.call(z,j))return!1;return!0}function Nr(z,j){if(z===j)return!0;const ee=Object.keys(z),be=Object.keys(j);for(const de of ee){if(!be.includes(de))return!1;const nt=z[de],Ht=j[de];if(ui(nt)&&ui(Ht)){if(!Nr(nt,Ht))return!1}else if(nt!==Ht)return!1}for(const de of be)if(!ee.includes(de))return!1;return!0}function ui(z){return null!==z&&"object"==typeof z}function aa(z){const j=[];for(const[ee,be]of Object.entries(z))Array.isArray(be)?be.forEach(de=>{j.push(encodeURIComponent(ee)+"="+encodeURIComponent(de))}):j.push(encodeURIComponent(ee)+"="+encodeURIComponent(be));return j.length?"&"+j.join("&"):""}function $i(z){const j={};return z.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[de,nt]=be.split("=");j[decodeURIComponent(de)]=decodeURIComponent(nt)}}),j}function gr(z){const j=z.indexOf("?");if(!j)return"";const ee=z.indexOf("#",j);return z.substring(j,ee>0?ee:void 0)}function an(z,j){const ee=new Et(z,j);return ee.subscribe.bind(ee)}class Et{constructor(j,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{j(this)}).catch(be=>{this.error(be)})}next(j){this.forEachObserver(ee=>{ee.next(j)})}error(j){this.forEachObserver(ee=>{ee.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,ee,be){let de;if(void 0===j&&void 0===ee&&void 0===be)throw new Error("Missing Observer.");de=function In(z,j){if("object"!=typeof z||null===z)return!1;for(const ee of j)if(ee in z&&"function"==typeof z[ee])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:ee,complete:be},void 0===de.next&&(de.next=Es),void 0===de.error&&(de.error=Es),void 0===de.complete&&(de.complete=Es);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),nt}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,j)}sendOne(j,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{ee(this.observers[j])}catch(be){typeof console<"u"&&console.error&&console.error(be)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Es(){}function Is(z,j=1e3,ee=2){const be=j*Math.pow(ee,z),de=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+de)}function li(z){return z&&z._delegate?z._delegate:z}},9374:(Mt,Be,V)=>{"use strict";var _=V(4650);let le=null;function k(){return le}const G=new _.OlP("DocumentToken");let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return function ae(){return(0,_.LFG)(H)}()},providedIn:"platform"}),n})();const B=new _.OlP("Location Initialized");let H=(()=>{class n extends te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(G))},n.\u0275prov=_.Yz7({token:n,factory:function(){return function Ze(){return new H((0,_.LFG)(G))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function J(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function X(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(ht)},providedIn:"root"}),n})();const Ee=new _.OlP("appBaseHref");let ht=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(G).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return J(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Fe(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(te),_.LFG(Ee,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ut=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=J(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Fe(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(te),_.LFG(Ee,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=X(ne(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=J,n.stripTrailingSlash=X,n.\u0275fac=function(t){return new(t||n)(_.LFG(ge))},n.\u0275prov=_.Yz7({token:n,factory:function(){return function re(){return new Le((0,_.LFG)(ge))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}class wl{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wl(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,c),uo(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},n.\u0275dir=_.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function uo(n,e){n.context.$implicit=e.item}let eu=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw function xn(n,e){return new _.vHH(2100,!1)}();return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=_.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();function tc(n){return"server"===n}let js=(()=>{class n{}return n.\u0275prov=(0,_.Yz7)({token:n,providedIn:"root",factory:()=>new rc((0,_.LFG)(G),window)}),n})();class rc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Gi(this.window.history)||Gi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Gi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Fl extends class Sp extends class Te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function we(n){le||(le=n)}(new Fl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hc(){return dc=dc||document.querySelector("base"),dc?dc.getAttribute("href"):null}();return null==t?null:function Ap(n){fc=fc||document.createElement("a"),fc.setAttribute("href",n);const e=fc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ku(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let fc,dc=null;const ya=new _.OlP("TRANSITION_ID"),Ul=[{provide:_.ip1,useFactory:function Ah(n,e,t){return()=>{t.get(_.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[ya,G,_.zs3],multi:!0}];let xp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const bs=new _.OlP("EventManagerPlugins");let lu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(bs),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let No=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends No{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pc))}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(G))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function pc(n){k().remove(n)}const du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qi=/%COMP%/g;function Uo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Uo(n,i,t):(i=i.replace(qi,n),t.push(i))}return t}function gc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new va(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case _.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Vo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case _.ifc.ShadowDom:return new Rp(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Uo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(lu),_.LFG(Cs),_.LFG(_.AFp))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class va{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(du[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pu(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pu(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=du[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=du[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(_.JOm.DashCase|_.JOm.Important)?e.style.setProperty(t,r,i&_.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gc(r)):this.eventManager.addEventListener(e,t,gc(r))}}function pu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Vo extends va{constructor(e,t,r,i){super(e),this.component=r;const a=Uo(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Fo(n){return"_ngcontent-%COMP%".replace(qi,n)}(i+"-"+r.id),this.hostAttr=function hu(n){return"_nghost-%COMP%".replace(qi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Rp extends va{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Uo(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const h=document.createElement("style");h.textContent=a[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mc=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(G))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=["alt","control","meta","shift"],oy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jl=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),Ss.forEach(w=>{const b=r.indexOf(w);b>-1&&(r.splice(b,1),c+=w+".")}),c+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=oy[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ss.forEach(c=>{c!==i&&(0,Un[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(G))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:"browser"},{provide:_.g9A,useValue:function Bo(){Fl.makeCurrent()},multi:!0},{provide:G,useFactory:function wa(){return(0,_.RDi)(document),document},deps:[]}]),mu=new _.OlP(""),wn=[{provide:_.rWj,useClass:class cu{addToWindow(e){_.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},_.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(r=>{const i=_.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const h=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],$l=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function $r(){return new _.qLn},deps:[]},{provide:bs,useClass:mc,multi:!0,deps:[G,_.R0b,_.Lbi]},{provide:bs,useClass:jl,multi:!0,deps:[G]},{provide:fu,useClass:fu,deps:[lu,Cs,_.AFp]},{provide:_.FYo,useExisting:fu},{provide:No,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[G]},{provide:lu,useClass:lu,deps:[bs,_.R0b]},{provide:class ic{},useClass:xp,deps:[]},[]];let Hl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_.AFp,useValue:t.appId},{provide:ya,useExisting:_.AFp},Ul]}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(mu,12))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[...$l,...wn],imports:[Ju,_.hGG]}),n})(),Lp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(G))},n.\u0275prov=_.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Np(){return new Lp((0,_.LFG)(G))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var En=V(8996),As=V(7669);function xt(...n){const e=(0,As.yG)(n);return(0,En.D)(n,e)}var cr=V(7579);class lr extends cr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vu=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ks=V(9751);const{isArray:Sc}=Array,{getPrototypeOf:wu,prototype:jo,keys:ti}=Object;var Ia=V(4671),qt=V(4004);const{isArray:kh}=Array;var _r=V(5403),Nh=V(9672);function lo(...n){const e=(0,As.yG)(n),t=(0,As.jO)(n),{args:r,keys:i}=function Wl(n){if(1===n.length){const e=n[0];if(Sc(e))return{args:e,keys:null};if(function Xn(n){return n&&"object"==typeof n&&wu(n)===jo}(e)){const t=ti(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,En.D)([],e);const a=new Ks.y(function Yl(n,e,t=Ia.y){return r=>{Ho(e,()=>{const{length:i}=n,a=new Array(i);let c=i,h=i;for(let m=0;m<i;m++)Ho(e,()=>{const w=(0,En.D)(n[m],e);let b=!1;w.subscribe((0,_r.x)(r,S=>{a[m]=S,b||(b=!0,h--),h||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>function Zl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,c):Ia.y));return t?a.pipe(function Kl(n){return(0,qt.U)(e=>function $o(n,e){return kh(e)?n(...e):n(e)}(n,e))}(t)):a}function Ho(n,e,t){n?(0,Nh.f)(t,n,e):e()}var Da=V(8189);function Zs(...n){return function Bp(){return(0,Da.J)(1)}()((0,En.D)(n,(0,As.yG)(n)))}var ba=V(8421);function Eu(n){return new Ks.y(e=>{(0,ba.Xf)(n()).subscribe(e)})}var Lh=V(9635),Ql=V(576);function Ki(n,e){const t=(0,Ql.m)(n)?n:()=>n,r=i=>i.error(t());return new Ks.y(e?i=>e.schedule(r,0,i):r)}var os=V(515),Fh=V(727),Hr=V(4482);function Ac(){return(0,Hr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_r.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jp extends Ks.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fh.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_r.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fh.w0.EMPTY)}return e}refCount(){return Ac()(this)}}function dr(n,e){return(0,Hr.e)((t,r)=>{let i=null,a=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,_r.x)(r,m=>{i?.unsubscribe();let w=0;const b=a++;(0,ba.Xf)(n(m,b)).subscribe(i=(0,_r.x)(r,S=>r.next(e?e(m,S,b,w++):S),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Iu(n){return n<=0?()=>os.E:(0,Hr.e)((e,t)=>{let r=0;e.subscribe((0,_r.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ca(...n){const e=(0,As.yG)(n);return(0,Hr.e)((t,r)=>{(e?Zs(n,t,e):Zs(n,t)).subscribe(r)})}function fi(n,e){return(0,Hr.e)((t,r)=>{let i=0;t.subscribe((0,_r.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var sr=V(5577);function ho(n){return(0,Hr.e)((e,t)=>{let r=!1;e.subscribe((0,_r.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ta(n=xc){return(0,Hr.e)((e,t)=>{let r=!1;e.subscribe((0,_r.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function xc(){return new vu}function as(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,a)=>n(i,a,r)):Ia.y,Iu(1),t?ho(e):Ta(()=>new vu))}function us(n,e){return(0,Ql.m)(e)?(0,sr.z)(n,e,1):(0,sr.z)(n,1)}var vr=V(8505);function xs(n){return(0,Hr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,_r.x)(t,void 0,void 0,c=>{a=(0,ba.Xf)(n(c,xs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function $p(n,e,t,r,i){return(a,c)=>{let h=t,m=e,w=0;a.subscribe((0,_r.x)(c,b=>{const S=w++;m=h?n(m,b,S):(h=!0,b),r&&c.next(m)},i&&(()=>{h&&c.next(m),c.complete()})))}}function fo(n,e){return(0,Hr.e)($p(n,e,arguments.length>=2,!0))}function Hp(n){return n<=0?()=>os.E:(0,Hr.e)((e,t)=>{let r=[];e.subscribe((0,_r.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((i,a)=>n(i,a,r)):Ia.y,Hp(1),t?ho(e):Ta(()=>new vu))}function Jl(n){return(0,Hr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const nn="primary",Du=Symbol("RouteTitle");class Sa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new Sa(n)}function po(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],h=n[a];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ms(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Mc(n[i],e[i]))return!1;return!0}function Mc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function ed(n){return Array.prototype.concat.apply([],n)}function cs(n){return n.length>0?n[n.length-1]:null}function I(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function C(n){return(0,_.CqO)(n)?n:(0,_.QGY)(n)?(0,En.D)(Promise.resolve(n)):xt(n)}const M=!1,Z={exact:function Je(n,e,t){if(!xr(n.segments,e.segments)||!zr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Je(n.children[r],e.children[r],t))return!1;return!0},subset:St},ie={exact:function rt(n,e){return Ms(n,e)},subset:function Tt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Mc(n[t],e[t]))},ignored:()=>!0};function Me(n,e,t){return Z[t.paths](n.root,e.root,t.matrixParams)&&ie[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function St(n,e,t){return Wt(n,e,e.segments,t)}function Wt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!xr(i,t)||e.hasChildren()||!zr(i,t,r))}if(n.segments.length===t.length){if(!xr(n.segments,t)||!zr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!St(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(xr(n.segments,i)&&zr(n.segments,i,r)&&n.children[nn])&&Wt(n.children[nn],e,a,r)}}function zr(n,e,t){return e.every((r,i)=>ie[t](n[i].parameters,r.parameters))}class Tn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return cy.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,I(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gp(this)}}class ls{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return ly(this)}}function xr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return new td},providedIn:"root"}),n})();class td{parse(e){const t=new rd(e);return new Tn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Aa(e.root,!0)}`,r=function Bv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bu(t)}=${bu(i)}`).join("&"):`${bu(t)}=${bu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Vh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cy=new td;function Gp(n){return n.segments.map(e=>ly(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return Gp(n);if(e){const t=n.children[nn]?Aa(n.children[nn],!1):"",r=[];return I(n.children,(i,a)=>{a!==nn&&r.push(`${a}:${Aa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qs(n,e){let t=[];return I(n.children,(r,i)=>{i===nn&&(t=t.concat(e(r,i)))}),I(n.children,(r,i)=>{i!==nn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===nn?[Aa(n.children[nn],!1)]:[`${i}:${Aa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${Gp(n)}/${t[0]}`:`${Gp(n)}/(${t.join("//")})`}}function qp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bu(n){return qp(n).replace(/%3B/gi,";")}function Pc(n){return qp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(n){return decodeURIComponent(n)}function Wp(n){return Bh(n.replace(/\+/g,"%20"))}function ly(n){return`${Pc(n.path)}${function nd(n){return Object.keys(n).map(e=>`;${Pc(e)}=${Pc(n[e])}`).join("")}(n.parameters)}`}const dy=/^[^\/()?;=#]+/;function Oc(n){const e=n.match(dy);return e?e[0]:""}const hy=/^[^=?&#]+/,WE=/^[^&#]+/;class rd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nn]=new Pt(e,t)),r}parseSegment(){const e=Oc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new _.vHH(4009,M);return this.capture(e),new ls(Bh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Oc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Oc(this.remaining);i&&(r=i,this.capture(r))}e[Bh(t)]=Bh(r)}parseQueryParam(e){const t=function xa(n){const e=n.match(hy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function kc(n){const e=n.match(WE);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Wp(t),a=Wp(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Oc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _.vHH(4010,M);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=nn);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[nn]:new Pt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new _.vHH(4011,M)}}function jh(n){return n.segments.length>0?new Pt([],{[nn]:n}):n}function Nc(n){const e={};for(const r of Object.keys(n.children)){const a=Nc(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Kp(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}function Cu(n){return n instanceof Tn}function $v(n,e,t,r,i){if(0===t.length)return Su(e.root,e.root,e.root,r,i);const a=function Hh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return I(a.outlets,(m,w)=>{h[w]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new Yp(t,e,r)}(t);return a.toRoot()?Su(e.root,e.root,new Pt([],{}),r,i):function c(m){const w=function Go(n,e,t,r){if(n.isAbsolute)return new Au(e.root,!0,0);if(-1===r)return new Au(t,t===e.root,0);return function sd(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new _.vHH(4005,!1);i=r.segments.length}return new Au(r,!1,i-a)}(t,r+(Lc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),b=w.processChildren?xu(w.segmentGroup,w.index,a.commands):Qp(w.segmentGroup,w.index,a.commands);return Su(e.root,w.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function Lc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tu(n){return"object"==typeof n&&null!=n&&n.outlets}function Su(n,e,t,r,i){let c,a={};r&&I(r,(m,w)=>{a[w]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),c=n===e?t:$h(n,e,t);const h=jh(Nc(c));return new Tn(h,a,i)}function $h(n,e,t){const r={};return I(n.children,(i,a)=>{r[a]=i===e?t:$h(i,e,t)}),new Pt(n.segments,r)}class Yp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lc(r[0]))throw new _.vHH(4003,!1);const i=r.find(Tu);if(i&&i!==cs(r))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Au{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qp(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return xu(n,e,t);const r=function zh(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],h=t[r];if(Tu(h))break;const m=`${h}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&w&&"object"==typeof w&&void 0===w.outlets){if(!Jp(m,w,c))return a;r+=2}else{if(!Jp(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Pt(n.segments.slice(0,r.pathIndex),{});return a.children[nn]=new Pt(n.segments.slice(r.pathIndex),n.children),xu(a,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Xp(n,e,t):r.match?xu(n,0,i):Xp(n,e,t)}function xu(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function py(n){return Tu(n[0])?n[0].outlets:{[nn]:n}}(t),i={};return I(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Qp(n.children[c],e,a))}),I(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Pt(n.segments,i)}}function Xp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Tu(a)){const m=gy(a.outlets);return new Pt(r,m)}if(0===i&&Lc(t[0])){r.push(new ls(n.segments[e].path,Gh(t[0]))),i++;continue}const c=Tu(a)?a.outlets[nn]:`${a}`,h=i<t.length-1?t[i+1]:null;c&&h&&Lc(h)?(r.push(new ls(c,Gh(h))),i+=2):(r.push(new ls(c,{})),i++)}return new Pt(r,{})}function gy(n){const e={};return I(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Xp(new Pt([],{}),0,t))}),e}function Gh(n){const e={};return I(n,(t,r)=>e[r]=`${t}`),e}function Jp(n,e,t){return n==t.path&&Ms(e,t.parameters)}class Xs{constructor(e,t){this.id=e,this.url=t}}class qh extends Xs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class mo extends Xs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Js extends Xs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eg extends Xs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wh extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ng extends Xs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class od extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hv extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ig{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class og{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ag{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Zh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Zh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=my(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return my(e,this._root).map(t=>t.value)}}function Zh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Zh(n,t);if(r)return r}return null}function my(n,e){if(n===e.value)return[e];for(const t of e.children){const r=my(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yy extends Uc{constructor(e,t){super(e),this.snapshot=t,Jh(this,e)}toString(){return this.snapshot.toString()}}function Yh(n,e){const t=function Qh(n,e){const c=new ad([],{},{},"",{},nn,e,null,n.root,-1,{});return new ug("",new eo(c,[]))}(n,e),r=new lr([new ls("",{})]),i=new lr({}),a=new lr({}),c=new lr({}),h=new lr(""),m=new pi(r,i,c,h,a,nn,e,t.root);return m.snapshot=t.root,new yy(new eo(m,[]),t)}class pi{constructor(e,t,r,i,a,c,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,qt.U)(w=>w[Du]))??xt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function _y(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ad{constructor(e,t,r,i,a,c,h,m,w,b,S,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.[Du],this.routeConfig=m,this._urlSegment=w,this._lastPathIndex=b,this._correctedLastPathIndex=P??b,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ug extends Uc{constructor(e,t){super(t),this.url=e,Jh(this,t)}toString(){return Pi(this._root)}}function Jh(n,e){e.value._routerState=n,e.children.forEach(t=>Jh(n,t))}function Pi(n){const e=n.children.length>0?` { ${n.children.map(Pi).join(", ")} } `:"";return`${n.value}${e}`}function ud(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ms(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ms(e.params,t.params)||n.params.next(t.params),function Uh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ms(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ms(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cd(n,e){const t=Ms(n.params,e.params)&&function go(n,e){return xr(n,e)&&n.every((t,r)=>Ms(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||cd(n.parent,e.parent))}function wr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qo(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wr(n,r,i);return wr(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>wr(n,h)),c}}const r=function vy(n){return new pi(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>wr(n,a));return new eo(r,i)}}const cg="ngNavigationCancelingError";function Gv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lg(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function lg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function qv(n){return Wv(n)&&Cu(n.url)}function Wv(n){return n&&n[cg]}class wy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ld,this.attachRef=null}}let ld=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wy,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y=!1;let f=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=i||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,y);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,y);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,y);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _.vHH(4013,y);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new p(t,h,i.injector);if(r&&function E(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(c);this.activated=i.createComponent(w,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(ld),_.Y36(_.s_b),_.$8M("name"),_.Y36(_.sBO),_.Y36(_.lqb))},n.\u0275dir=_.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class p{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pi?this.route:e===ld?this.childContexts:this.parent.get(e,t)}}let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(t,r){1&t&&_._UZ(0,"router-outlet")},dependencies:[f],encapsulation:2}),n})();function R(n,e){return n.providers&&!n._injector&&(n._injector=(0,_.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dd(n){const e=n.children&&n.children.map(dd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=A),t}function Rs(n){return n.outlet||nn}function hd(n,e){const t=n.filter(r=>Rs(r)===e);return t.push(...n.filter(r=>Rs(r)!==e)),t}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ud(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yo(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),I(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yo(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=yo(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=yo(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Fc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new og(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ud(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),ud(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Vc(i.snapshot),m=h?.get(_._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class hg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bc{constructor(e,t){this.component=e,this.route=t}}function jc(n,e,t){const r=n._root;return Mu(r,e?e._root:null,t,[r.value])}function Ma(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,_.Z0I)(n)?e.get(n):n:r}function Mu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=yo(e);return n.children.forEach(c=>{(function Er(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function NC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xr(n.url,e.url)||!Ms(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cd(n,e)||!Ms(n.queryParams,e.queryParams);default:return!cd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new hg(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Mu(n,e,a.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Bc(h.outlet.component,c))}else c&&fg(e,h,i),i.canActivateChecks.push(new hg(r)),Mu(n,null,a.component?h?h.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),I(a,(c,h)=>fg(c,t.getContext(h),i)),i}function fg(n,e,t){const r=yo(n),i=n.value;I(r,(a,c)=>{fg(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Bc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fd(n){return"function"==typeof n}function pd(n){return n instanceof vu||"EmptyError"===n?.name}const ef=Symbol("INITIAL_VALUE");function gd(){return dr(n=>lo(n.map(e=>e.pipe(Iu(1),Ca(ef)))).pipe((0,qt.U)(e=>{for(const t of e)if(!0!==t){if(t===ef)return ef;if(!1===t||t instanceof Tn)return t}return!0}),fi(e=>e!==ef),Iu(1)))}function Yv(n){return(0,Lh.z)((0,vr.b)(e=>{if(Cu(e))throw Gv(0,e)}),(0,qt.U)(e=>!0===e))}const Ru={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tI(n,e,t,r,i){const a=pg(n,e,t);return a.matched?function eI(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?xt(i.map(c=>{const h=Ma(c,n);return C(function BC(n){return n&&fd(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(gd(),Yv()):xt(!0)}(r=R(e,r),e,t).pipe((0,qt.U)(c=>!0===c?a:{...Ru})):xt(a)}function pg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ru}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||po)(t,n,e);if(!i)return{...Ru};const a={};I(i.posParams,(h,m)=>{a[m]=h.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function md(n,e,t,r,i="corrected"){if(t.length>0&&function Dy(n,e,t){return t.some(r=>gg(n,e,r)&&Rs(r)!==nn)}(n,t,r)){const c=new Pt(e,function Qv(n,e,t,r){const i={};i[nn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Rs(a)!==nn){const c=new Pt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Rs(a)]=c}return i}(n,e,r,new Pt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function yd(n,e,t){return t.some(r=>gg(n,e,r))}(n,t,r)){const c=new Pt(n.segments,function HC(n,e,t,r,i,a){const c={};for(const h of r)if(gg(n,t,h)&&!i[Rs(h)]){const m=new Pt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Rs(h)]=m}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Pt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function gg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function by(n,e,t,r){return!!(Rs(n)===r||r!==nn&&gg(e,t,n))&&("**"===n.path||pg(e,n,t).matched)}function nI(n,e,t){return 0===e.length&&!n.children[t]}const Cy=!1;class mg{constructor(e){this.segmentGroup=e||null}}class _d{constructor(e){this.urlTree=e}}function yg(n){return Ki(new mg(n))}function rI(n){return Ki(new _d(n))}class qC{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=md(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,nn).pipe((0,qt.U)(a=>this.createUrlTree(Nc(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xs(a=>{if(a instanceof _d)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof mg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,nn).pipe((0,qt.U)(i=>this.createUrlTree(Nc(i),e.queryParams,e.fragment))).pipe(xs(i=>{throw i instanceof mg?this.noMatchError(i):i}))}noMatchError(e){return new _.vHH(4002,Cy)}createUrlTree(e,t,r){const i=jh(e);return new Tn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,qt.U)(a=>new Pt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,En.D)(i).pipe(us(a=>{const c=r.children[a],h=hd(t,a);return this.expandSegmentGroup(e,h,c,a).pipe((0,qt.U)(m=>({segment:m,outlet:a})))}),fo((a,c)=>(a[c.outlet]=c.segment,a),{}),zp())}expandSegment(e,t,r,i,a,c){return(0,En.D)(r).pipe(us(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,c).pipe(xs(w=>{if(w instanceof mg)return xt(null);throw w}))),as(h=>!!h),xs((h,m)=>{if(pd(h))return nI(t,i,a)?xt(new Pt([],{})):yg(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,c,h){return by(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):yg(t):yg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rI(a):this.lineralizeSegments(r,a).pipe((0,sr.z)(c=>{const h=new Pt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:h,consumedSegments:m,remainingSegments:w,positionalParamSegments:b}=pg(t,i,a);if(!h)return yg(t);const S=this.applyRedirectCommands(m,i.redirectTo,b);return i.redirectTo.startsWith("/")?rI(S):this.lineralizeSegments(i,S).pipe((0,sr.z)(P=>this.expandSegment(e,t,r,P.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=R(r,e),r.loadChildren?(r._loadedRoutes?xt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,qt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Pt(i,{})))):xt(new Pt(i,{}))):tI(t,r,i,e).pipe(dr(({matched:c,consumedSegments:h,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,sr.z)(b=>{const S=b.injector??e,P=b.routes,{segmentGroup:N,slicedSegments:$}=md(t,h,m,P),U=new Pt(N.segments,N.children);if(0===$.length&&U.hasChildren())return this.expandChildren(S,P,U).pipe((0,qt.U)(Re=>new Pt(h,Re)));if(0===P.length&&0===$.length)return xt(new Pt(h,{}));const K=Rs(r)===a;return this.expandSegment(S,U,P,$,K?nn:a,!0).pipe((0,qt.U)(Ae=>new Pt(h.concat(Ae.segments),Ae.children)))})):yg(t)))}getChildConfig(e,t,r){return t.children?xt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Zv(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?xt(!0):xt(i.map(c=>{const h=Ma(c,n);return C(function LC(n){return n&&fd(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(gd(),Yv())}(e,t,r).pipe((0,sr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,vr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function GC(n){return Ki(lg(Cy,3))}())):xt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return xt(r);if(i.numberOfChildren>1||!i.children[nn])return Ki(new _.vHH(4e3,Cy));i=i.children[nn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Tn(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return I(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return I(t.children,(h,m)=>{c[m]=this.createSegmentGroup(e,h,r,i)}),new Pt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new _.vHH(4001,Cy);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class sI{}class _g{constructor(e,t,r,i,a,c,h,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const e=md(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nn).pipe((0,qt.U)(t=>{if(null===t)return null;const r=new ad([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eo(r,t),a=new ug(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Xh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,En.D)(Object.keys(r.children)).pipe(us(i=>{const a=r.children[i],c=hd(t,i);return this.processSegmentGroup(e,c,a,i)}),fo((i,a)=>i&&a?(i.push(...a),i):null),function Xl(n,e=!1){return(0,Hr.e)((t,r)=>{let i=0;t.subscribe((0,_r.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),ho(null),zp(),(0,qt.U)(i=>{if(null===i)return null;const a=oI(i);return function KC(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,En.D)(t).pipe(us(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),as(c=>!!c),xs(c=>{if(pd(c))return nI(r,i,a)?xt([]):xt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!by(t,r,i,a))return xt(null);let c;if("**"===t.path){const h=i.length>0?cs(i).parameters:{},m=aI(r)+i.length;c=xt({snapshot:new ad(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cI(t),Rs(t),t.component??t._loadedComponent??null,t,Jv(r),m,e0(t),m),consumedSegments:[],remainingSegments:[]})}else c=tI(r,t,i,e).pipe((0,qt.U)(({matched:h,consumedSegments:m,remainingSegments:w,parameters:b})=>{if(!h)return null;const S=aI(r)+m.length;return{snapshot:new ad(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cI(t),Rs(t),t.component??t._loadedComponent??null,t,Jv(r),S,e0(t),S),consumedSegments:m,remainingSegments:w}}));return c.pipe(dr(h=>{if(null===h)return xt(null);const{snapshot:m,consumedSegments:w,remainingSegments:b}=h;e=t._injector??e;const S=t._loadedInjector??e,P=function tf(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:$}=md(r,w,b,P.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===$.length&&N.hasChildren())return this.processChildren(S,P,N).pipe((0,qt.U)(K=>null===K?null:[new eo(m,K)]));if(0===P.length&&0===$.length)return xt([new eo(m,[])]);const U=Rs(t)===a;return this.processSegment(S,P,N,$,U?nn:a).pipe((0,qt.U)(K=>null===K?null:[new eo(m,K)]))}))}}function vg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oI(n){const e=[],t=new Set;for(const r of n){if(!vg(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oI(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function Jv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function cI(n){return n.data||{}}function e0(n){return n.resolve||{}}function dI(n){return"string"==typeof n.title||null===n.title}function s0(n){return dr(e=>{const t=n(e);return t?(0,En.D)(t).pipe((0,qt.U)(()=>e)):xt(e)})}let hI=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===nn);return r}getResolvedTitleForRoute(t){return t.data[Du]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:function(){return(0,_.f3M)(fI)},providedIn:"root"}),n})(),fI=(()=>{class n extends hI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Lp))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YC{}class nf extends class QC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Sy=new _.OlP("",{providedIn:"root",factory:()=>({})}),gI=new _.OlP("ROUTES");let mI=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=C(t.loadComponent()).pipe((0,vr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Jl(()=>{this.componentLoaders.delete(t)})),i=new jp(r,()=>new cr.x).pipe(Ac());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return xt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,qt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,w,b=!1;Array.isArray(h)?w=h:(m=h.create(t).injector,w=ed(m.get(gI,[],_.XFs.Self|_.XFs.Optional)));return{routes:w.map(dd),injector:m}}),Jl(()=>{this.childrenLoaders.delete(r)})),c=new jp(a,()=>new cr.x).pipe(Ac());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return C(t()).pipe((0,sr.z)(r=>r instanceof _.YKP||Array.isArray(r)?xt(r):(0,En.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.zs3),_.LFG(_.Sil))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yI{}class D1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function b1(n){throw n}function _I(n,e,t){return e.parse("/")}const XC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wI(){const n=(0,_.f3M)(Rc),e=(0,_.f3M)(ld),t=(0,_.f3M)(Le),r=(0,_.f3M)(_.zs3),i=(0,_.f3M)(_.Sil),a=(0,_.f3M)(gI,{optional:!0})??[],c=(0,_.f3M)(Sy,{optional:!0})??{},h=(0,_.f3M)(fI),m=(0,_.f3M)(hI,{optional:!0}),w=(0,_.f3M)(yI,{optional:!0}),b=(0,_.f3M)(YC,{optional:!0}),S=new Bn(null,n,e,t,r,i,ed(a));return w&&(S.urlHandlingStrategy=w),b&&(S.routeReuseStrategy=b),S.titleStrategy=m??h,function JC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,S),S}let Bn=(()=>{class n{constructor(t,r,i,a,c,h,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cr.x,this.errorHandler=b1,this.malformedUriErrorHandler=_I,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>xt(void 0),this.urlHandlingStrategy=new D1,this.routeReuseStrategy=new nf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(mI),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new ig(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new rg(P)),this.ngModule=c.get(_.h0i),this.console=c.get(_.c2e);const S=c.get(_.R0b);this.isNgZoneEnabled=S instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function L(){return new Tn(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yh(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(fi(i=>0!==i.id),(0,qt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),dr(i=>{let a=!1,c=!1;return xt(i).pipe((0,vr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dr(h=>{const m=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return o0(h.source)&&(this.browserUrlTree=h.extractedUrl),xt(h).pipe(dr(S=>{const P=this.transitions.getValue();return r.next(new qh(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions.getValue()?os.E:Promise.resolve(S)}),function iI(n,e,t,r){return dr(i=>function Xv(n,e,t,r,i){return new qC(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,qt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function lI(n,e,t,r,i,a){return(0,sr.z)(c=>function WC(n,e,t,r,i,a,c="emptyOnly",h="legacy"){return new _g(n,e,t,r,i,c,h,a).recognize().pipe(dr(m=>null===m?function w1(n){return new Ks.y(e=>e.error(n))}(new sI):xt(m)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,qt.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vr.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(N,S)}this.browserUrlTree=S.urlAfterRedirects}const P=new Wh(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:N,source:$,restoredState:U,extras:K}=h,De=new qh(P,this.serializeUrl(N),$,U);r.next(De);const Ae=Yh(N,this.rootComponentType).snapshot;return xt(i={...h,targetSnapshot:Ae,urlAfterRedirects:N,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),os.E}),(0,vr.b)(h=>{const m=new tg(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,qt.U)(h=>i={...h,guards:jc(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function YE(n,e){return(0,sr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?xt({...t,guardsResult:!0}):function QE(n,e,t,r){return(0,En.D)(n).pipe((0,sr.z)(i=>function $C(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?xt(a.map(h=>{const m=Vc(e)??i,w=Ma(h,m);return C(function VC(n){return n&&fd(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):m.runInContext(()=>w(n,e,t,r))).pipe(as())})).pipe(gd()):xt(!0)}(i.component,i.route,t,e,r)),as(i=>!0!==i,!0))}(c,r,i,n).pipe((0,sr.z)(h=>h&&function ZE(n){return"boolean"==typeof n}(h)?function jC(n,e,t,r){return(0,En.D)(e).pipe(us(i=>Zs(function JE(n,e){return null!==n&&e&&e(new sg(n)),xt(!0)}(i.route.parent,r),function XE(n,e){return null!==n&&e&&e(new ag(n)),xt(!0)}(i.route,r),function v1(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Iy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Eu(()=>xt(c.guards.map(m=>{const w=Vc(c.node)??t,b=Ma(m,w);return C(function UC(n){return n&&fd(n.canActivateChild)}(b)?b.canActivateChild(r,n):w.runInContext(()=>b(r,n))).pipe(as())})).pipe(gd())));return xt(a).pipe(gd())}(n,i.path,t),function Kv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return xt(!0);const i=r.map(a=>Eu(()=>{const c=Vc(e)??t,h=Ma(a,c);return C(function FC(n){return n&&fd(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(as())}));return xt(i).pipe(gd())}(n,i.route,t))),as(i=>!0!==i,!0))}(r,a,n,e):xt(h)),(0,qt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,vr.b)(h=>{if(i.guardsResult=h.guardsResult,Cu(h.guardsResult))throw Gv(0,h.guardsResult);const m=new ng(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),fi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),s0(h=>{if(h.guards.canActivateChecks.length)return xt(h).pipe((0,vr.b)(m=>{const w=new od(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),dr(m=>{let w=!1;return xt(m).pipe(function t0(n,e){return(0,sr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return xt(t);let a=0;return(0,En.D)(i).pipe(us(c=>function n0(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!dI(i)&&(a[Du]=i.title),function ZC(n,e,t,r){const i=function r0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return xt({});const a={};return(0,En.D)(i).pipe((0,sr.z)(c=>function wg(n,e,t,r){const i=Vc(e)??r,a=Ma(n,i);return C(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(as(),(0,vr.b)(h=>{a[c]=h}))),Hp(1),function zo(n){return(0,qt.U)(()=>n)}(a),xs(c=>pd(c)?os.E:Ki(c)))}(a,n,e,r).pipe((0,qt.U)(c=>(n._resolvedData=c,n.data=Xh(n,t).resolve,i&&dI(i)&&(n.data[Du]=i.title),null)))}(c.route,r,n,e)),(0,vr.b)(()=>a++),Hp(1),(0,sr.z)(c=>a===i.length?xt(t):os.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vr.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,vr.b)(m=>{const w=new Hv(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}))}),s0(h=>{const m=w=>{const b=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,vr.b)(S=>{w.component=S}),(0,qt.U)(()=>{})));for(const S of w.children)b.push(...m(S));return b};return lo(m(h.targetSnapshot.root)).pipe(ho(),Iu(1))}),s0(()=>this.afterPreactivation()),(0,qt.U)(h=>{const m=function zv(n,e,t){const r=wr(n,e._root,t?t._root:void 0);return new yy(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),(0,vr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,qt.U)(r=>(new dg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,vr.b)({next(){a=!0},complete(){a=!0}}),Jl(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),xs(h=>{if(c=!0,Wv(h)){qv(h)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new Js(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(m),qv(h)){const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o0(i.source)};this.scheduleNavigation(w,"imperative",null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new eg(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(h))}catch(w){i.reject(w)}}return os.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(dd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:m}=r,w=i||this.routerState.root,b=m?this.currentUrlTree.fragment:c;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),$v(w,this.currentUrlTree,t,S,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Cu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function eT(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new _.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...XC}:!1===r?{...vI}:r,Cu(t))return Me(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Me(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new mo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let h,m,w;c?(h=c.resolve,m=c.reject,w=c.promise):w=new Promise((P,N)=>{h=P,m=N});const b=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:b,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Js(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){_.$Z()},n.\u0275prov=_.Yz7({token:n,factory:function(){return wI()},providedIn:"root"}),n})();function o0(n){return"imperative"!==n}class c0{}let rT=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof mo),us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,_.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,h=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,En.D)(i).pipe((0,Da.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):xt(null);const a=i.pipe((0,sr.z)(c=>null===c?xt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,En.D)([a,c]).pipe((0,Da.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Bn),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(c0),_.LFG(mI))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xt=new _.OlP("");let l0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof mo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Kh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){_.$Z()},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function rf(n,e){return{\u0275kind:n,\u0275providers:e}}function Ay(n){return[{provide:gI,multi:!0,useValue:n}]}function d0(){const n=(0,_.f3M)(_.zs3);return e=>{const t=n.get(_.z2F);if(e!==t.components[0])return;const r=n.get(Bn),i=n.get(II);1===n.get(h0)&&r.initialNavigation(),n.get($c,null,_.XFs.Optional)?.setUpPreloading(),n.get(Xt,null,_.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const II=new _.OlP("",{factory:()=>new cr.x}),h0=new _.OlP("",{providedIn:"root",factory:()=>1});const $c=new _.OlP("");function sT(n){return rf(0,[{provide:$c,useExisting:rT},{provide:c0,useExisting:n}])}const oT=new _.OlP("ROUTER_FORROOT_GUARD"),M1=[Le,{provide:Rc,useClass:td},{provide:Bn,useFactory:wI},ld,{provide:pi,useFactory:function EI(n){return n.routerState.root},deps:[Bn]},mI];function R1(){return new _.PXZ("Router",Bn)}let TI=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[M1,[],Ay(t),{provide:oT,useFactory:af,deps:[[Bn,new _.FiY,new _.tp0]]},{provide:Sy,useValue:r||{}},r?.useHash?{provide:ge,useClass:ut}:{provide:ge,useClass:ht},{provide:Xt,useFactory:()=>{const n=(0,_.f3M)(Bn),e=(0,_.f3M)(js),t=(0,_.f3M)(Sy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new l0(n,e,t)}},r?.preloadingStrategy?sT(r.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:R1},r?.initialNavigation?uT(r):[],[{provide:f0,useFactory:d0},{provide:_.tb,multi:!0,useExisting:f0}]]}}static forChild(t){return{ngModule:n,providers:[Ay(t)]}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(oT,8))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[A]}),n})();function af(n){return"guarded"}function uT(n){return["disabled"===n.initialNavigation?rf(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const e=(0,_.f3M)(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:h0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?rf(2,[{provide:h0,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:e=>{const t=e.get(B,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Bn),h=e.get(II);(function i(a){e.get(Bn).events.pipe(fi(h=>h instanceof mo||h instanceof Js||h instanceof eg),(0,qt.U)(h=>h instanceof mo||h instanceof Js&&(0===h.code||1===h.code)&&null),fi(h=>null!==h),Iu(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||h.closed?xt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const f0=new _.OlP("");var AI=V(4986),Oi=V(4976);function p0(){return(0,Hr.e)((n,e)=>{let t,r=!1;n.subscribe((0,_r.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function lT(n,e){return n===e}var ct,Wo=V(2011),hT=(V(2644),V(3942)),Pe=V(5861),Hc=V(6881),uf=V(4859),vd=V(1877),hn=V(2090),fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ra={},My=My||{},Jt=fT||self;function wd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hs(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var g0="closure_uid_"+(1e9*Math.random()>>>0),m0=0;function Ou(n,e,t){return n.call.apply(n.bind,arguments)}function y0(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ou:y0).apply(null,arguments)}function cf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ni(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function ku(){this.s=this.s,this.o=this.o}ku.prototype.s=!1,ku.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xI(n){Object.prototype.hasOwnProperty.call(n,g0)&&n[g0]||(n[g0]=++m0)}(this)},ku.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ry(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wd(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var _0=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",()=>{},e),Jt.removeEventListener("test",()=>{},e)}catch{}return n}();function Py(n){return/^[\s\xa0]*$/.test(n)}function Oy(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function Pa(n){return-1!=Oy().indexOf(n)}function v0(n){return v0[" "](n),n}v0[" "]=function(){};var Cg,n,MI=Pa("Opera"),bg=Pa("Trident")||Pa("MSIE"),RI=Pa("Edge"),PI=RI||bg,w0=Pa("Gecko")&&!(-1!=Oy().toLowerCase().indexOf("webkit")&&!Pa("Edge"))&&!(Pa("Trident")||Pa("MSIE"))&&!Pa("Edge"),OI=-1!=Oy().toLowerCase().indexOf("webkit")&&!Pa("Edge");function kI(){var n=Jt.document;return n?n.documentMode:void 0}e:{var NI="",LI=(n=Oy(),w0?/rv:([^\);]+)(\)|;)/.exec(n):RI?/Edge\/([\d\.]+)/.exec(n):bg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OI?/WebKit\/(\S+)/.exec(n):MI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LI&&(NI=LI?LI[1]:""),bg){var FI=kI();if(null!=FI&&FI>parseFloat(NI)){Cg=String(FI);break e}}Cg=NI}var N1=Jt.document&&bg&&(kI()||parseInt(Cg,10))||void 0;function ky(n,e){if(gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(w0){e:{try{v0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:L1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ky.$.h.call(this)}}Ni(ky,gi);var L1={2:"touch",3:"pen",4:"mouse"};ky.prototype.h=function(){ky.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ny="closure_listenable_"+(1e6*Math.random()|0),F1=0;function zc(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++F1,this.fa=this.ia=!1}function df(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function E0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ly(n){const e={};for(const t in n)e[t]=n[t];return e}const I0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<I0.length;a++)t=I0[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Uy(n){this.src=n,this.g={},this.h=0}function Oa(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Dg(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(df(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vy(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}Uy.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Vy(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new zc(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var D0="closure_lm_"+(1e6*Math.random()|0),b0={};function C0(n,e,t,r,i){if(r&&r.once)return Tg(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)C0(n,e[a],t,r,i);return null}return t=jy(t),n&&n[Ny]?n.O(e,t,hs(r)?!!r.capture:!!r,i):BI(n,e,t,!1,r,i)}function BI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=hs(i)?!!i.capture:!!i,h=hf(n);if(h||(n[D0]=h=new Uy(n)),(t=h.add(e,t,r,c,a)).proxy)return t;if(r=function mT(){const e=T0;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)_0||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Id(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Tg(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Tg(n,e[a],t,r,i);return null}return t=jy(t),n&&n[Ny]?n.P(e,t,hs(r)?!!r.capture:!!r,i):BI(n,e,t,!0,r,i)}function Ed(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Ed(n,e[a],t,r,i);else r=hs(r)?!!r.capture:!!r,t=jy(t),n&&n[Ny]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vy(a=n.g[e],t,r,i))&&(df(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=hf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vy(e,t,r,i)),(t=-1<n?e[n]:null)&&Sg(t))}function Sg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ny])Oa(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Id(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hf(e))?(Oa(t,n),0==t.h&&(t.src=null,e[D0]=null)):df(n)}}}function Id(n){return n in b0?b0[n]:b0[n]="on"+n}function T0(n,e){if(n.fa)n=!0;else{e=new ky(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Sg(n),n=t.call(r,e)}return n}function hf(n){return(n=n[D0])instanceof Uy?n:null}var By="__closure_events_fn_"+(1e9*Math.random()>>>0);function jy(n){return"function"==typeof n?n:(n[By]||(n[By]=function(e){return n.handleEvent(e)}),n[By])}function Gr(){ku.call(this),this.i=new Uy(this),this.S=this,this.J=null}function ni(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new gi(e,n);else if(e instanceof gi)e.target=e.target||n;else{var i=e;Fy(e=new gi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Ag(c,r,!0,e)&&i}if(i=Ag(c=e.g=n,r,!0,e)&&i,i=Ag(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ag(c=e.g=t[a],r,!1,e)&&i}function Ag(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var h=c.listener,m=c.la||c.src;c.ia&&Oa(n.i,c),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}Ni(Gr,ku),Gr.prototype[Ny]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){Ed(this,n,e,t,r)},Gr.prototype.N=function(){if(Gr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)df(t[r]);delete n.g[e],n.h--}}this.J=null},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xg=Jt.JSON.stringify;function U1(){var n=$y;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var S0=new class yT{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vT,n=>n.reset());class vT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function jI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function $I(n){Jt.setTimeout(()=>{throw n},0)}let Mg,Li=!1,$y=new class _T{constructor(){this.h=this.g=null}add(e,t){const r=S0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},HI=()=>{const n=Jt.Promise.resolve(void 0);Mg=()=>{n.then(V1)}};var V1=()=>{for(var n;n=U1();){try{n.h.call(n.g)}catch(t){$I(t)}var e=S0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Li=!1};function Hy(n,e){Gr.call(this),this.h=n||1,this.g=e||Jt,this.j=ki(this.qb,this),this.l=Date.now()}function Rg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function zy(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function zI(n){n.g=zy(()=>{n.g=null,n.i&&(n.i=!1,zI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ni(Hy,Gr),(ct=Hy.prototype).ga=!1,ct.T=null,ct.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ni(this,"tick"),this.ga&&(Rg(this),this.start()))}},ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.N=function(){Hy.$.N.call(this),Rg(this),delete this.g};class wT extends ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pg(n){ku.call(this),this.h=n,this.g={}}Ni(Pg,ku);var A0=[];function GI(n,e,t,r){Array.isArray(t)||(t&&(A0[0]=t.toString()),t=A0);for(var i=0;i<t.length;i++){var a=C0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function x0(n){E0(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sg(e)},n),n.g={}}function Gy(){this.g=!0}function Dd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ka(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return xg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Pg.prototype.N=function(){Pg.$.N.call(this),x0(this)},Pg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gy.prototype.Ea=function(){this.g=!1},Gy.prototype.info=function(){};var Nu={},WI=null;function qy(){return WI=WI||new Gr}function DT(n){gi.call(this,Nu.Ta,n)}function ff(n){const e=qy();ni(e,new DT(e))}function KI(n,e){gi.call(this,Nu.STAT_EVENT,n),this.stat=e}function fs(n){const e=qy();ni(e,new KI(e,n))}function ZI(n,e){gi.call(this,Nu.Ua,n),this.size=e}function bd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}Nu.Ta="serverreachability",Ni(DT,gi),Nu.STAT_EVENT="statevent",Ni(KI,gi),Nu.Ua="timingevent",Ni(ZI,gi);var Wy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pf(){}function Og(){}pf.prototype.h=null;var Yy,Zy={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kg(){gi.call(this,"d")}function QI(){gi.call(this,"c")}function Ng(){}function gf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Pg(this),this.P=R0,this.V=new Hy(n=PI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M0}function M0(){this.i=null,this.g="",this.h=!1}Ni(kg,gi),Ni(QI,gi),Ni(Ng,pf),Ng.prototype.g=function(){return new XMLHttpRequest},Ng.prototype.i=function(){return{}},Yy=new Ng;var R0=45e3,Ko={},Cd={};function mf(n,e,t){n.L=1,n.v=Jy(Lu(e)),n.s=t,n.S=!0,yf(n,null)}function yf(n,e){n.G=Date.now(),Lg(n),n.A=Lu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Fi(t.i,"t",r),n.C=0,t=n.l.J,n.h=new M0,n.g=Z0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new wT(ki(n.Pa,n,n.g),n.O)),GI(n.U,n.g,"readystatechange",n.nb),e=n.I?Ly(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ff(),function ET(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),m=0;m<h.length;m++){var w=h[m].split("=");if(1<w.length){var b=w[0];w=w[1];var S=b.split("_");c=2<=S.length&&"type"==S[1]?c+(b+"=")+w+"&":c+(b+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Qy(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=JI(n,t),i==Cd){4==e&&(n.o=4,fs(14),r=!1),Dd(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ko){n.o=4,fs(15),Dd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dd(n.j,n.m,i,null),P0(n,i)}XI(n)&&i!=Cd&&i!=Ko&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),H0(e),e.M=!0,fs(11))):(Dd(n.j,n.m,t,"[Invalid Chunked Response]"),_f(n),Fg(n))}function JI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Cd:(t=Number(e.substring(t,r)),isNaN(t)?Ko:(r+=1)+t>e.length?Cd:(e=e.slice(r,r+t),n.C=r+t,e))}function Lg(n){n.Y=Date.now()+n.P,eD(n,n.P)}function eD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bd(ki(n.lb,n),e)}function Gc(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function Fg(n){0==n.l.H||n.J||G0(n.l,n)}function _f(n){Gc(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Rg(n.V),x0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function P0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Zc(t.i,n)))if(!n.K&&Zc(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;xf(t),Sf(t)}$0(t),fs(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=bd(ki(t.ib,t),6e3));if(1>=Ad(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qc(t,11)}else if((n.K||t.g==n)&&xf(t),!Py(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const b=w[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.L=r=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const $=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.i;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Yc(a,a.h),a.h=null))}if(r.F){const U=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(r.Da=U,Jn(r.I,r.F,U))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=K0(r,r.J?r.pa:null,r.Y),c.K){xd(r.i,c);var h=c,m=r.L;m&&h.setTimeout(m),h.B&&(Gc(h),Lg(h)),r.g=c}else lD(r);0<t.j.length&&u_(t)}else"stop"!=w[0]&&"close"!=w[0]||Qc(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Qc(t,7):a_(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}ff()}catch{}}function tD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function B1(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ct=gf.prototype).setTimeout=function(n){this.P=n},ct.nb=function(n){n=n.target;const e=this.M;e&&3==Na(n)?e.l():this.Pa(n)},ct.Pa=function(n){try{if(n==this.g)e:{const b=Na(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||PI||this.g&&(this.h.h||this.g.ja()||o_(this.g)))){this.J||4!=b||7==e||ff(),Gc(this);var t=this.g.da();this.ca=t;t:if(XI(this)){var r=o_(this.g);n="";var i=r.length,a=4==Na(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_f(this),Fg(this);var c="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function qI(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Py(h)){var w=h;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,fs(12),_f(this),Fg(this);break e}Dd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,P0(this,t)}this.S?(Qy(this,b,c),PI&&this.i&&3==b&&(GI(this.U,this.V,"tick",this.mb),this.V.start())):(Dd(this.j,this.m,c,null),P0(this,c)),4==b&&_f(this),this.i&&!this.J&&(4==b?G0(this.l,this):(this.i=!1,Lg(this)))}else(function L0(n){const e={};n=(n.g&&2<=Na(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Py(n[r]))continue;var t=jI(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function VI(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,fs(12)):(this.o=0,fs(13)),_f(this),Fg(this)}}}catch{}},ct.mb=function(){if(this.g){var n=Na(this.g),e=this.g.ja();this.C<e.length&&(Gc(this),Qy(this,n,e),this.i&&4!=n&&Lg(this))}},ct.cancel=function(){this.J=!0,_f(this)},ct.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function IT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ff(),fs(17)),_f(this),this.o=2,Fg(this)):eD(this,this.Y-n)};var nD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,vf(this,n.j),this.s=n.s,this.g=n.g,Xy(this,n.m),this.l=n.l;var e=n.i,t=new Td;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iD(this,t),this.o=n.o}else n&&(e=String(n).match(nD))?(this.h=!1,vf(this,e[1]||"",!0),this.s=Ug(e[2]||""),this.g=Ug(e[3]||"",!0),Xy(this,e[4]),this.l=Ug(e[5]||"",!0),iD(this,e[6]||"",!0),this.o=Ug(e[7]||"")):(this.h=!1,this.i=new Td(null,this.h))}function Lu(n){return new qc(n)}function vf(n,e,t){n.j=t?Ug(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iD(n,e,t){e instanceof Td?(n.i=e,function t_(n,e){e&&!n.j&&(Kc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Zo(this,r),Fi(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vg(e,CT)),n.i=new Td(e,n.h))}function Jn(n,e,t){n.i.set(e,t)}function Jy(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ug(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,e_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function e_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vg(e,Wc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vg(e,Wc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vg(t,"/"==t.charAt(0)?Bg:j1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vg(t,TT)),n.join("")};var Wc=/[#\/\?@]/g,j1=/[#\?:]/g,Bg=/[#\?]/g,CT=/[#\?@]/g,TT=/#/g;function Td(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kc(n){n.g||(n.g=new Map,n.h=0,n.i&&function rD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zo(n,e){Kc(n),e=_o(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function wf(n,e){return Kc(n),e=_o(n,e),n.g.has(e)}function Fi(n,e,t){Zo(n,e),0<t.length&&(n.i=null,n.g.set(_o(n,e),lf(t)),n.h+=t.length)}function _o(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function n_(n){this.l=n||Ef,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Td.prototype).add=function(n,e){Kc(this),this.i=null,n=_o(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Kc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ct.ta=function(){Kc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ct.Z=function(n){Kc(this);let e=[];if("string"==typeof n)wf(this,n)&&(e=e.concat(this.g.get(_o(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return Kc(this),this.i=null,wf(this,n=_o(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var Ef=10;function Sd(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ad(n){return n.h?1:n.g?n.g.size:0}function Zc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Yc(n,e){n.g?n.g.add(e):n.h=e}function xd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Md(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return lf(n.i)}function Df(){this.g=new class{stringify(n){return Jt.JSON.stringify(n,void 0)}parse(n){return Jt.JSON.parse(n,void 0)}}}function sD(n,e,t){const r=t||"";try{tD(n,function(i,a){let c=i;hs(i)&&(c=xg(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bf(n){this.l=n.fc||null,this.j=n.ob||!1}function $g(n,e){Gr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=r_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}n_.prototype.cancel=function(){if(this.i=Md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ni(bf,pf),bf.prototype.g=function(){return new $g(this.l,this.j)},bf.prototype.i=function(n){return function(){return n}}({}),Ni($g,Gr);var r_=0;function O0(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Cf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Tf(n)}function Tf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=$g.prototype).open=function(n,e){if(this.readyState!=r_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Tf(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cf(this)),this.readyState=r_},ct.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Tf(this)),this.g&&(this.readyState=3,Tf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O0(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ct.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Cf(this):Tf(this),3==this.readyState&&O0(this)}},ct.Za=function(n){this.g&&(this.response=this.responseText=n,Cf(this))},ct.Ya=function(n){this.g&&(this.response=n,Cf(this))},ct.ka=function(){this.g&&Cf(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ST=Jt.JSON.parse;function Ir(n){Gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=k0,this.L=this.M=!1}Ni(Ir,Gr);var k0="",AT=/^https?$/i,xT=["POST","PUT"];function i_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,aD(n),Rd(n)}function aD(n){n.F||(n.F=!0,ni(n,"complete"),ni(n,"error"))}function Hg(n){if(n.h&&typeof My<"u"&&(!n.C[1]||4!=Na(n)||2!=n.da()))if(n.v&&4==Na(n))zy(n.La,0,n);else if(ni(n,"readystatechange"),4==Na(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(nD)[1]||null;!i&&Jt.self&&Jt.self.location&&(i=Jt.self.location.protocol.slice(0,-1)),r=!AT.test(i?i.toLowerCase():"")}t=r}if(t)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var a=2<Na(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",aD(n)}}finally{Rd(n)}}}function Rd(n,e){if(n.g){s_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function s_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function Na(n){return n.g?n.g.readyState:0}function o_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case k0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function F0(n){let e="";return E0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function U0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=F0(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Pd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function V0(n){this.Ga=0,this.j=[],this.l=new Gy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pd("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pd("baseRetryDelayMs",5e3,n),this.hb=Pd("retryDelaySeedMs",1e4,n),this.eb=Pd("forwardChannelMaxRetries",2,n),this.xa=Pd("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new n_(n&&n.concurrentRequestLimit),this.Ja=new Df,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function a_(n){if(B0(n),3==n.H){var e=n.W++,t=Lu(n.I);if(Jn(t,"SID",n.K),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Af(n,t),(e=new gf(n,n.l,e)).L=2,e.v=Jy(Lu(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon)try{t=Jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Z0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lg(e)}W0(n)}function Sf(n){n.g&&(H0(n),n.g.cancel(),n.g=null)}function B0(n){Sf(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),xf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function u_(n){if(!Sd(n.i)&&!n.m){n.m=!0;var e=n.Na;Mg||HI(),Li||(Mg(),Li=!0),$y.add(e,n),n.C=0}}function j0(n,e){var t;t=e?e.m:n.W++;const r=Lu(n.I);Jn(r,"SID",n.K),Jn(r,"RID",t),Jn(r,"AID",n.V),Af(n,r),n.o&&n.s&&U0(r,n.o,n.s),t=new gf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=cD(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Yc(n.i,t),mf(t,r,e)}function Af(n,e){n.na&&E0(n.na,function(t,r){Jn(e,r,t)}),n.h&&tD({},function(t,r){Jn(e,r,t)})}function cD(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ki(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let m=0;m<t;m++){let w=i[m].g;const b=i[m].map;if(w-=a,0>w)a=Math.max(0,i[m].g-100),h=!1;else try{sD(b,c,"req"+w+"_")}catch{r&&r(b)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function lD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Mg||HI(),Li||(Mg(),Li=!0),$y.add(e,n),n.A=0}}function $0(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bd(ki(n.Ma,n),q0(n,n.A)),n.A++,0))}function H0(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function z0(n){n.g=new gf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Lu(n.wa);Jn(e,"RID","rpc"),Jn(e,"SID",n.K),Jn(e,"AID",n.V),Jn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Jn(e,"TO",n.qa),Jn(e,"TYPE","xmlhttp"),Af(n,e),n.o&&n.s&&U0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Jy(Lu(e)),t.s=null,t.S=!0,yf(t,n)}function xf(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function G0(n,e){var t=null;if(n.g==e){xf(n),H0(n),n.g=null;var r=2}else{if(!Zc(n.i,e))return;t=e.F,xd(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ni(r=qy(),new ZI(r,t)),u_(n)}else lD(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function uD(n,e){return!(Ad(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bd(ki(n.Na,n,e),q0(n,n.C)),n.C++,0)))}(n,e)||2==r&&$0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qc(n,5);break;case 4:Qc(n,10);break;case 3:Qc(n,6);break;default:Qc(n,2)}}function q0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ki(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||vf(t,"https"),Jy(t)),function oD(n,e){const t=new Gy;if(Jt.Image){const r=new Image;r.onload=cf(jg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=cf(jg,t,r,"TestLoadImage: error",!1,e),r.onabort=cf(jg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=cf(jg,t,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fs(2);n.H=0,n.h&&n.h.za(e),W0(n),B0(n)}function W0(n){if(n.H=0,n.ma=[],n.h){const e=Md(n.i);(0!=e.length||0!=n.j.length)&&(Ry(n.ma,e),Ry(n.ma,n.j),n.i.i.length=0,lf(n.j),n.j.length=0),n.h.ya()}}function K0(n,e,t){var r=t instanceof qc?Lu(t):new qc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Xy(r,r.m);else{var i=Jt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new qc(null);r&&vf(a,r),e&&(a.g=e),i&&Xy(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Jn(r,t,e),Jn(r,"VER",n.ra),Af(n,r),r}function Z0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Ha&&!n.va?new bf({ob:!0}):n.va)).Oa(n.J),e}function Y0(){}function zg(){if(bg&&!(10<=Number(N1)))throw Error("Environmental error: no available transport.")}function wo(n,e){Gr.call(this),this.g=new V0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Py(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Py(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Od(this)}function dD(n){kg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hD(){QI.call(this),this.status=1}function Od(n){this.g=n}function Mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function c_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Rn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(ct=Ir.prototype).Oa=function(n){this.M=n},ct.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yy.g(),this.C=function Ky(n){return n.h||(n.h=n.i())}(this.u?this.u:Yy),this.g.onreadystatechange=ki(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void i_(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Jt.FormData&&n instanceof Jt.FormData,!(0<=Dg(xT,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{s_(this),0<this.B&&((this.L=function N0(n){return bg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.ua,this)):this.A=zy(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){i_(this,a)}},ct.ua=function(){typeof My<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),Rd(this))},ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),Ir.$.N.call(this)},ct.La=function(){this.s||(this.G||this.v||this.l?Hg(this):this.kb())},ct.kb=function(){Hg(this)},ct.isActive=function(){return!!this.g},ct.da=function(){try{return 2<Na(this)?this.g.status:-1}catch{return-1}},ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ST(e)}},ct.Ia=function(){return this.m},ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=V0.prototype).ra=8,ct.H=1,ct.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new gf(this,this.l,n);let a=this.s;if(this.U&&(a?(a=Ly(a),Fy(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cD(this,i,e),Jn(t=Lu(this.I),"RID",n),Jn(t,"CVER",22),this.F&&Jn(t,"X-HTTP-Session-Id",this.F),Af(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(F0(a)))+"&"+e:this.o&&U0(t,this.o,a)),Yc(this.i,i),this.bb&&Jn(t,"TYPE","init"),this.P?(Jn(t,"$req",e),Jn(t,"SID","null"),i.aa=!0,mf(i,t,null)):mf(i,t,e),this.H=2}}else 3==this.H&&(n?j0(this,n):0==this.j.length||Sd(this.i)||j0(this))},ct.Ma=function(){if(this.u=null,z0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bd(ki(this.jb,this),n)}},ct.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fs(10),Sf(this),z0(this))},ct.ib=function(){null!=this.v&&(this.v=null,Sf(this),$0(this),fs(19))},ct.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fs(2)):(this.l.info("Failed to ping google.com"),fs(1))},ct.isActive=function(){return!!this.h&&this.h.isActive(this)},(ct=Y0.prototype).Ba=function(){},ct.Aa=function(){},ct.za=function(){},ct.ya=function(){},ct.isActive=function(){return!0},ct.Va=function(){},zg.prototype.g=function(n,e){return new wo(n,e)},Ni(wo,Gr),wo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fs(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=K0(n,null,n.Y),u_(n)},wo.prototype.close=function(){a_(this.g)},wo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=xg(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&u_(e)},wo.prototype.N=function(){this.g.h=null,delete this.j,a_(this.g),delete this.g,wo.$.N.call(this)},Ni(dD,kg),Ni(hD,QI),Ni(Od,Y0),Od.prototype.Ba=function(){ni(this.g,"a")},Od.prototype.Aa=function(n){ni(this.g,new dD(n))},Od.prototype.za=function(n){ni(this.g,new hD)},Od.prototype.ya=function(){ni(this.g,"b")},Ni(Mn,function MT(){this.blockSize=-1}),Mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Mn.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)c_(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){c_(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){c_(this,r),i=0;break}}this.h=i,this.i+=e},Mn.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var RT={};function l_(n){return-128<=n&&128>n?function pT(n,e){var t=RT;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Rn([0|e],0>e?-1:0)}):new Rn([0|n],0>n?-1:0)}function La(n){if(isNaN(n)||!isFinite(n))return Yo;if(0>n)return mi(La(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=d_;return new Rn(e,0)}var d_=4294967296,Yo=l_(0),X0=l_(1),fD=l_(16777216);function Fa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Eo(n){return-1==n.h}function mi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Rn(t,~n.h).add(X0)}function J0(n,e){return n.add(mi(e))}function Gg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Mf(n,e){this.g=n,this.h=e}function to(n,e){if(Fa(e))throw Error("division by zero");if(Fa(n))return new Mf(Yo,Yo);if(Eo(n))return e=to(mi(n),e),new Mf(mi(e.g),mi(e.h));if(Eo(e))return e=to(n,mi(e)),new Mf(mi(e.g),e.h);if(30<n.g.length){if(Eo(n)||Eo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=X0,r=e;0>=r.X(n);)t=pD(t),r=pD(r);var i=Rf(t,1),a=Rf(r,1);for(r=Rf(r,2),t=Rf(t,2);!Fa(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=Rf(r,1),t=Rf(t,1)}return e=J0(n,i.R(e)),new Mf(i,e)}for(i=Yo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=La(t)).R(e);Eo(c)||0<c.X(n);)c=(a=La(t-=r)).R(e);Fa(a)&&(a=X0),i=i.add(a),n=J0(n,c)}return new Mf(i,n)}function pD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Rn(t,n.h)}function Rf(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Rn(i,n.h)}(ct=Rn.prototype).ea=function(){if(Eo(this))return-mi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:d_+r)*e,e*=d_}return n},ct.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Fa(this))return"0";if(Eo(this))return"-"+mi(this).toString(n);for(var e=La(Math.pow(n,6)),t=this,r="";;){var i=to(t,e).g,a=((0<(t=J0(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Fa(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ct.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ct.X=function(n){return Eo(n=J0(this,n))?-1:Fa(n)?0:1},ct.abs=function(){return Eo(this)?mi(this):this},ct.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new Rn(t,-2147483648&t[t.length-1]?-1:0)},ct.R=function(n){if(Fa(this)||Fa(n))return Yo;if(Eo(this))return Eo(n)?mi(this).R(mi(n)):mi(mi(this).R(n));if(Eo(n))return mi(this.R(mi(n)));if(0>this.X(fD)&&0>n.X(fD))return La(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,Gg(t,2*r+2*i),t[2*r+2*i+1]+=a*m,Gg(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,Gg(t,2*r+2*i+1),t[2*r+2*i+2]+=a*h,Gg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Rn(t,0)},ct.gb=function(n){return to(this,n).h},ct.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Rn(t,this.h&n.h)},ct.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Rn(t,this.h|n.h)},ct.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Rn(t,this.h^n.h)},zg.prototype.createWebChannel=zg.prototype.g,wo.prototype.send=wo.prototype.u,wo.prototype.open=wo.prototype.m,wo.prototype.close=wo.prototype.close,Wy.NO_ERROR=0,Wy.TIMEOUT=8,Wy.HTTP_ERROR=6,YI.COMPLETE="complete",Og.EventType=Zy,Zy.OPEN="a",Zy.CLOSE="b",Zy.ERROR="c",Zy.MESSAGE="d",Gr.prototype.listen=Gr.prototype.O,Ir.prototype.listenOnce=Ir.prototype.P,Ir.prototype.getLastError=Ir.prototype.Sa,Ir.prototype.getLastErrorCode=Ir.prototype.Ia,Ir.prototype.getStatus=Ir.prototype.da,Ir.prototype.getResponseJson=Ir.prototype.Wa,Ir.prototype.getResponseText=Ir.prototype.ja,Ir.prototype.send=Ir.prototype.ha,Ir.prototype.setWithCredentials=Ir.prototype.Oa,Mn.prototype.digest=Mn.prototype.l,Mn.prototype.reset=Mn.prototype.reset,Mn.prototype.update=Mn.prototype.j,Rn.prototype.add=Rn.prototype.add,Rn.prototype.multiply=Rn.prototype.R,Rn.prototype.modulo=Rn.prototype.gb,Rn.prototype.compare=Rn.prototype.X,Rn.prototype.toNumber=Rn.prototype.ea,Rn.prototype.toString=Rn.prototype.toString,Rn.prototype.getBits=Rn.prototype.D,Rn.fromNumber=La,Rn.fromString=function Q0(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return mi(Q0(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=La(Math.pow(e,8)),r=Yo,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=La(Math.pow(e,a)),r=r.R(a).add(La(c))):r=(r=r.R(t)).add(La(c))}return r};var Ua=Ra.createWebChannelTransport=function(){return new zg},Qo=Ra.getStatEventTarget=function(){return qy()},no=Ra.ErrorCode=Wy,gD=Ra.EventType=YI,mD=Ra.Event=Nu,yD=Ra.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},PT=Ra.FetchXmlHttpFactory=bf,h_=Ra.WebChannel=Og,OT=Ra.XhrIo=Ir,ew=Ra.Md5=Mn,Va=Ra.Integer=Rn;const _D="@firebase/firestore";class ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");let Pf="9.22.1";const Fu=new vd.Yd("@firebase/firestore");function f_(){return Fu.logLevel}function Ke(n,...e){if(Fu.logLevel<=vd.in.DEBUG){const t=e.map(qg);Fu.debug(`Firestore (${Pf}): ${n}`,...t)}}function Dr(n,...e){if(Fu.logLevel<=vd.in.ERROR){const t=e.map(qg);Fu.error(`Firestore (${Pf}): ${n}`,...t)}}function ro(n,...e){if(Fu.logLevel<=vd.in.WARN){const t=e.map(qg);Fu.warn(`Firestore (${Pf}): ${n}`,...t)}}function qg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: `+n;throw Dr(e),new Error(e)}function Ot(n,e){n||_t()}function ft(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends hn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ri.UNAUTHENTICATED))}shutdown(){}}class kT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NT{constructor(e){this.t=e,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const w=c;e.enqueueRetryable((0,Pe.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},m=w=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>m(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?m(w):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new tw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new ri(e)}}class LT{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class FT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ED{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.T=t.token,new ED(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ID{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function Of(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function DD(n){return n+"\0"}class or{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new or(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new or(0,0))}static max(){return new Lt(new or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wg{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends Wg{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const BT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends Wg{construct(e,t,r){return new br(e,t,r)}static isValidIdentifier(e){return BT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Ve(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ve(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new Ve(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(t)}static emptyPath(){return new br([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(fn.fromString(e))}static fromName(e){return new lt(fn.fromString(e).popFirst(5))}static empty(){return new lt(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new fn(e.slice()))}}class Kg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function g_(n){return n.fields.find(e=>2===e.kind)}function Xc(n){return n.fields.filter(e=>2!==e.kind)}Kg.UNKNOWN_ID=-1;class Zg{constructor(e,t){this.fieldPath=e,this.kind=t}}class kf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kf(0,Ps.min())}}function nw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(1e9===r?new or(t+1,0):new or(t,r));return new Ps(i,lt.empty(),e)}function rw(n){return new Ps(n.readTime,n.key,-1)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(Lt.min(),lt.empty(),-1)}static max(){return new Ps(Lt.max(),lt.empty(),-1)}}function Uu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function io(n){return AD.apply(this,arguments)}function AD(){return AD=(0,Pe.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==TD)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),AD.apply(this,arguments)}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let i=0,a=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(i=>i?me.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new me((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let m=0;m<a;m++){const w=m;t(e[w]).next(b=>{c[w]=b,++h,h===a&&r(c)},b=>i(b))}})}static doWhile(e,t){return new me((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class iw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new m_(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Jc(r.target.error);this.v.reject(new m_(e,i))}}static open(e,t,r,i){try{return new iw(t,e.transaction(i,r))}catch(a){throw new m_(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jT(t)}}class Io{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Io.S((0,hn.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),kd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.hl)())return!1;if(Io.C())return!0;const e=(0,hn.z$)(),t=Io.S(e),r=0<t&&t<10,i=Io.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Pe.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new m_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Ve(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ve(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new m_(e,h))},a.onupgradeneeded=c=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Pe.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.$(e);const m=iw.open(a.db,e,c?"readonly":"readwrite",r),w=i(m).next(b=>(m.P(),b)).catch(b=>(m.abort(b),me.reject(b))).toPromise();return w.catch(()=>{}),yield m.R,w}catch(m){const w=m,b="FirebaseError"!==w.name&&h<3;if(Ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",b),a.close(),!b)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return kd(this.L.delete())}}class m_ extends Ve{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ft(n){return"IndexedDbTransactionError"===n.name}class jT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kd(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),kd(this.store.add(e))}get(e){return kd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),kd(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),kd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(c,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new me((a,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new me((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new me((r,i)=>{t.onerror=a=>{const c=Jc(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new me((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const m=new xD(h),w=t(h.primaryKey,h.value,m);if(w instanceof me){const b=w.catch(S=>(m.done(),me.reject(S)));r.push(b)}m.isDone?i():null===m.K?h.continue():h.continue(m.K)}}).next(()=>me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kd(n){return new me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Jc(r.target.error);t(i)}})}let MD=!1;function Jc(n){const e=Io.S((0,hn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MD||(MD=!0,setTimeout(()=>{throw r},0)),r}}return n}class $T{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Pe.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ft(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield io(r)}yield t.et(6e4)}))}}class y_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return me.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ke("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,a)).next(h=>(Ke("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=rw(a);Uu(c,r)>0&&(r=c)}),new Ps(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function qn(n){return null==n}function __(n){return 0===n&&1/n==-1/0}function sw(n){return"number"==typeof n&&Number.isInteger(n)&&!__(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ui(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ow(e)),e=HT(n.get(t),e);return ow(e)}function HT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function ow(n){return n+"\x01\x01"}function Xo(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&_t(),n.charAt(c+1)){case"\x01":const h=n.substring(a,c);let m;0===i.length?m=h:(i+=h,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:_t()}a=c+2}return new fn(r)}const aw=["userId","batchId"];function Yg(n,e){return[n,Ui(e)]}function RD(n,e,t){return[n,Ui(e),t]}const zT={},GT=["prefixPath","collectionGroup","readTime","documentId"],Qg=["prefixPath","collectionGroup","documentId"],qT=["collectionGroup","readTime","prefixPath","documentId"],WT=["canonicalId","targetId"],KT=["targetId","path"],v_=["path","targetId"],PD=["collectionId","parent"],OD=["indexId","uid"],kD=["uid","sequenceNumber"],ZT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xg=["indexId","uid","orderedDocumentKey"],Jg=["userId","collectionPath","documentId"],YT=["userId","collectionPath","largestBatchId"],QT=["userId","collectionGroup","largestBatchId"],ND=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LD=[...ND,"documentOverlays"],uw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cw=uw,XT=[...cw,"indexConfiguration","indexState","indexEntries"];class w_ extends SD{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function yi(n,e){const t=ft(n);return Io.M(t.ht,e)}function FD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class er{constructor(e,t){this.comparator=e,this.root=t||_i.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lw(this.root,e,this.comparator,!1)}getReverseIterator(){return new lw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lw(this.root,e,this.comparator,!0)}}class lw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??_i.RED,this.left=i??_i.EMPTY,this.right=a??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new _i(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nn{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UD(this.data.getIterator())}getIteratorFrom(e){return new UD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class UD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nf(n){return n.hasNext()?n.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new ps([])}unionWith(e){let t=new Nn(br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Of(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Lf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lf("Invalid base64 string: "+i):i}}(e);return new ii(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const tS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=tS.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ba(n){return"string"==typeof n?ii.fromBase64String(n):ii.fromUint8Array(n)}function E_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function I_(n){const e=n.mapValue.fields.__previous_value__;return E_(e)?I_(e):e}function Vu(n){const e=el(n.mapValue.fields.__local_write_time__.timestampValue);return new or(e.seconds,e.nanos)}class nS{constructor(e,t,r,i,a,c,h,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=w}}class Bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},em={nullValue:"NULL_VALUE"};function nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?E_(n)?4:jD(n)?9007199254740991:10:_t()}function Jo(n,e){if(n===e)return!0;const t=nl(n);if(t!==nl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vu(n).isEqual(Vu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=el(r.timestampValue),c=el(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ba(n.bytesValue).isEqual(Ba(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Cr(r.geoPointValue.latitude)===Cr(i.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cr(r.integerValue)===Cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Cr(r.doubleValue),c=Cr(i.doubleValue);return a===c?__(a)===__(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Of(n.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(FD(a)!==FD(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!Jo(a[h],c[h])))return!1;return!0}(n,e);default:return _t()}var i}function tm(n,e){return void 0!==(n.values||[]).find(t=>Jo(t,e))}function ja(n,e){if(n===e)return 0;const t=nl(n),r=nl(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Cr(i.integerValue||i.doubleValue),h=Cr(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return VD(n.timestampValue,e.timestampValue);case 4:return VD(Vu(n),Vu(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Ba(i),h=Ba(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),h=a.split("/");for(let m=0;m<c.length&&m<h.length;m++){const w=en(c[m],h[m]);if(0!==w)return w}return en(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=en(Cr(i.latitude),Cr(a.latitude));return 0!==c?c:en(Cr(i.longitude),Cr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],h=a.values||[];for(let m=0;m<c.length&&m<h.length;++m){const w=ja(c[m],h[m]);if(w)return w}return en(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===tl.mapValue&&a===tl.mapValue)return 0;if(i===tl.mapValue)return 1;if(a===tl.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),m=a.fields||{},w=Object.keys(m);h.sort(),w.sort();for(let b=0;b<h.length&&b<w.length;++b){const S=en(h[b],w[b]);if(0!==S)return S;const P=ja(c[h[b]],m[w[b]]);if(0!==P)return P}return en(h.length,w.length)}(n.mapValue,e.mapValue);default:throw _t()}}function VD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=el(n),r=el(e),i=en(t.seconds,r.seconds);return 0!==i?i:en(t.nanos,r.nanos)}function Ld(n){return D_(n)}function D_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=el(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ba(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=D_(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${D_(r.fields[h])}`;return a+"}"}(n.mapValue):_t();var e}function Fd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dw(n){return!!n&&"integerValue"in n}function Ud(n){return!!n&&"arrayValue"in n}function BD(n){return!!n&&"nullValue"in n}function hw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C_(n){return!!n&&"mapValue"in n}function nm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function rS(n){return"nullValue"in n?em:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fd(Bu.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function iS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fd(Bu.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?tl:_t()}function $D(n,e){const t=ja(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function HD(n,e){const t=ja(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!C_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nm(t)}setAll(e){let t=br.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=nm(c):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());C_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];C_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Vi(nm(this.value))}}function fw(n){const e=[];return Nd(n.fields,(t,r)=>{const i=new br([t]);if(C_(r)){const a=fw(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new ps(e)}class Wn{constructor(e,t,r,i,a,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wn(e,0,Lt.min(),Lt.min(),Lt.min(),Vi.empty(),0)}static newFoundDocument(e,t,r,i){return new Wn(e,1,t,Lt.min(),r,i,0)}static newNoDocument(e,t){return new Wn(e,2,t,Lt.min(),Lt.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Lt.min(),Lt.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rl{constructor(e,t){this.position=e,this.inclusive=t}}function zD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?lt.comparator(lt.fromName(c.referenceValue),t.key):ja(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function pw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jo(n.position[t],e.position[t]))return!1;return!0}class Ff{constructor(e,t="asc"){this.field=e,this.dir=t}}function sS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class GD{}class on extends GD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ZD(e,t,r):"array-contains"===t?new yw(e,r):"in"===t?new YD(e,r):"not-in"===t?new _w(e,r):"array-contains-any"===t?new aS(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new oS(e,r):new H1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ja(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends GD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Sn(e,t)}matches(e){return Vd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vd(n){return"and"===n.op}function rm(n){return"or"===n.op}function gw(n){return qD(n)&&Vd(n)}function qD(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}function im(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Ld(n.value);if(gw(n))return n.filters.map(e=>im(e)).join(",");{const e=n.filters.map(t=>im(t)).join(",");return`${n.op}(${e})`}}function WD(n,e){return n instanceof on?(t=n,(r=e)instanceof on&&t.op===r.op&&t.field.isEqual(r.field)&&Jo(t.value,r.value)):n instanceof Sn?function(t,r){return r instanceof Sn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&WD(a,r.filters[c]),!0)}(n,e):void _t();var t,r}function KD(n,e){const t=n.filters.concat(e);return Sn.create(t,n.op)}function Bd(n){return n instanceof on?`${(e=n).field.canonicalString()} ${e.op} ${Ld(e.value)}`:n instanceof Sn?function(e){return e.op.toString()+" {"+e.getFilters().map(Bd).join(" ,")+"}"}(n):"Filter";var e}class ZD extends on{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class oS extends on{constructor(e,t){super(e,"in",t),this.keys=mw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class H1 extends on{constructor(e,t){super(e,"not-in",t),this.keys=mw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class yw extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ud(t)&&tm(t.arrayValue,this.value)}}class YD extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tm(this.value.arrayValue,t)}}class _w extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(tm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tm(this.value.arrayValue,t)}}class aS extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ud(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tm(this.value.arrayValue,r))}}class QD{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.dt=null}}function sm(n,e=null,t=[],r=[],i=null,a=null,c=null){return new QD(n,e,t,r,i,a,c)}function il(n){const e=ft(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>im(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ld(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ld(r)).join(",")),e.dt=t}return e.dt}function Uf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pw(n.startAt,e.startAt)&&pw(n.endAt,e.endAt)}function om(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function am(n,e){return n.filters.filter(t=>t instanceof on&&t.field.isEqual(e))}function XD(n,e,t){let r=em,i=!0;for(const a of am(n,e)){let c=em,h=!0;switch(a.op){case"<":case"<=":c=rS(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,h=!1;break;case"!=":case"not-in":c=em}$D({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];$D({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function JD(n,e,t){let r=tl,i=!0;for(const a of am(n,e)){let c=tl,h=!0;switch(a.op){case">=":case">":c=iS(a.value),h=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,h=!1;break;case"!=":case"not-in":c=tl}HD({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];HD({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class ju{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function eb(n,e,t,r,i,a,c,h){return new ju(n,e,t,r,i,a,c,h)}function jd(n){return new ju(n)}function uS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function T_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function S_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vw(n){return null!==n.collectionGroup}function Vf(n){const e=ft(n);if(null===e.wt){e.wt=[];const t=S_(e),r=T_(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ff(t)),e.wt.push(new Ff(br.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ff(br.keyField(),a))}}}return e.wt}function Os(n){const e=ft(n);if(!e._t)if("F"===e.limitType)e._t=sm(e.path,e.collectionGroup,Vf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Vf(e))t.push(new Ff(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new rl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new rl(e.startAt.position,e.startAt.inclusive):null;e._t=sm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function ww(n,e){e.getFirstInequalityField(),S_(n);const t=n.filters.concat([e]);return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function A_(n,e,t){return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function um(n,e){return Uf(Os(n),Os(e))&&n.limitType===e.limitType}function tb(n){return`${il(Os(n))}|lt:${n.limitType}`}function Ew(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Bd(r)).join(", ")}]`),qn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ld(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ld(r)).join(",")),`Target(${t})`}(Os(n))}; limitType=${n.limitType})`}function cm(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Vf(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const h=zD(i,a,c);return i.inclusive?h<=0:h<0}(t.startAt,Vf(t),r)||t.endAt&&!function(i,a,c){const h=zD(i,a,c);return i.inclusive?h>=0:h>0}(t.endAt,Vf(t),r)));var t,r}function nb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rb(n){return(e,t)=>{let r=!1;for(const i of Vf(n)){const a=cS(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function cS(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(i,a,c){const h=a.data.field(i),m=c.data.field(i);return null!==h&&null!==m?ja(h,m):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}class $u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return JT(this.inner)}size(){return this.innerSize}}const lS=new er(lt.comparator);function ks(){return lS}const Bf=new er(lt.comparator);function jf(...n){let e=Bf;for(const t of n)e=e.insert(t.key,t);return e}function Iw(n){let e=Bf;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ea(){return $f()}function Dw(){return $f()}function $f(){return new $u(n=>n.toString(),(n,e)=>n.isEqual(e))}const ib=new er(lt.comparator),dS=new Nn(lt.comparator);function rn(...n){let e=dS;for(const t of n)e=e.add(t);return e}const hS=new Nn(en);function bw(){return hS}function Cw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(e)?"-0":e}}function sb(n){return{integerValue:""+n}}function ob(n,e){return sw(e)?sb(e):Cw(n,e)}class sl{constructor(){this._=void 0}}function fS(n,e,t){return n instanceof Hf?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&E_(i)&&(i=I_(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Hu?zf(n,e):n instanceof $d?ab(n,e):function(r,i){const a=ta(r,i),c=lm(a)+lm(r.gt);return dw(a)&&dw(r.gt)?sb(c):Cw(r.serializer,c)}(n,e)}function Tw(n,e,t){return n instanceof Hu?zf(n,e):n instanceof $d?ab(n,e):t}function ta(n,e){return n instanceof Gf?dw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Hf extends sl{}class Hu extends sl{constructor(e){super(),this.elements=e}}function zf(n,e){const t=dm(e);for(const r of n.elements)t.some(i=>Jo(i,r))||t.push(r);return{arrayValue:{values:t}}}class $d extends sl{constructor(e){super(),this.elements=e}}function ab(n,e){let t=dm(e);for(const r of n.elements)t=t.filter(i=>!Jo(i,r));return{arrayValue:{values:t}}}class Gf extends sl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function lm(n){return Cr(n.integerValue||n.doubleValue)}function dm(n){return Ud(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hm{constructor(e,t){this.field=e,this.transform=t}}class ub{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fm{}function cb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wf(n.key,tr.none()):new Hd(n.key,n.data,tr.none());{const t=n.data,r=Vi.empty();let i=new Nn(br.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new na(n.key,r,new ps(i.toArray()),tr.none())}}function gS(n,e,t){n instanceof Hd?function(r,i,a){const c=r.value.clone(),h=lb(r.fieldTransforms,i,a.transformResults);c.setAll(h),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof na?function(r,i,a){if(!qf(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=lb(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(R_(r)),h.setAll(c),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function x_(n,e,t,r){return n instanceof Hd?function(i,a,c,h){if(!qf(i.precondition,a))return c;const m=i.value.clone(),w=db(i.fieldTransforms,h,a);return m.setAll(w),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof na?function(i,a,c,h){if(!qf(i.precondition,a))return c;const m=db(i.fieldTransforms,h,a),w=a.data;return w.setAll(R_(i)),w.setAll(m),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(n,e,t,r):(c=t,qf(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function Sw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ta(r.transform,i||null);null!=a&&(null===t&&(t=Vi.empty()),t.set(r.field,a))}return t||null}function M_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Of(t,r,(i,a)=>function pS(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Hu&&r instanceof Hu||t instanceof $d&&r instanceof $d?Of(t.elements,r.elements,Jo):t instanceof Gf&&r instanceof Gf?Jo(t.gt,r.gt):t instanceof Hf&&r instanceof Hf);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Hd extends fm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class na extends fm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function R_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lb(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,Tw(c,h,t[i]))}return r}function db(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,fS(a,c,e))}return r}class Wf extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class P_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&gS(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=x_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=x_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Dw();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(i.key)?null:h;const m=cb(c,h);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&Of(this.mutations,e.mutations,(t,r)=>M_(t,r))&&Of(this.baseMutations,e.baseMutations,(t,r)=>M_(t,r))}}class pm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=ib;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new pm(e,t,r,i)}}class O_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hb{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rr,pn;function xw(n){switch(n){default:return _t();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function Mw(n){if(void 0===n)return Dr("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Rr.OK:return Ce.OK;case Rr.CANCELLED:return Ce.CANCELLED;case Rr.UNKNOWN:return Ce.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return Ce.INTERNAL;case Rr.UNAVAILABLE:return Ce.UNAVAILABLE;case Rr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Rr.NOT_FOUND:return Ce.NOT_FOUND;case Rr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Rr.ABORTED:return Ce.ABORTED;case Rr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Rr.DATA_LOSS:return Ce.DATA_LOSS;default:return _t()}}(pn=Rr||(Rr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class Rw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gm}static getOrCreateInstance(){return null===gm&&(gm=new Rw),gm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let gm=null;function fb(){return new TextEncoder}const gs=new Va([4294967295,4294967295],0);function zd(n){const e=fb().encode(n),t=new ew;return t.update(e),new Uint8Array(t.digest())}function pb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Va([t,r],0),new Va([i,a],0)]}class Pw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new k_(`Invalid padding: ${t}`);if(r<0)throw new k_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new k_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new k_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Va.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Va.fromNumber(r)));return 1===i.compare(gs)&&(i=new Va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zd(e),[r,i]=pb(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Pw(a,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=zd(e),[r,i]=pb(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class k_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class N_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new N_(Lt.min(),i,new er(en),ks(),rn())}}class Kf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kf(r,t,rn(),rn(),rn())}}class mm{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class Zf{constructor(e,t){this.targetId=e,this.Vt=t}}class gb{constructor(e,t,r=ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class L_{constructor(){this.St=0,this.Dt=mb(),this.Ct=ii.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=rn(),t=rn(),r=rn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new Kf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=mb()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yS{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ks(),this.zt=Ow(),this.Wt=new er(en)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(om(c))if(0===i){const h=new lt(c.path);this.Yt(r,h,Wn.newNoDocument(h,Lt.min()))}else Ot(1===i);else{const h=this.ie(r);if(h!==i){const m=this.re(e,h);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Rw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,b,S){var P,N,$,U,K,De;const Ae={localCacheCount:b,existenceFilterCount:S.count},Re=S.unchangedNames;return Re&&(Ae.bloomFilter={applied:0===w,hashCount:null!==(P=Re?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(U=null===($=null===(N=Re?.bits)||void 0===N?void 0:N.bitmap)||void 0===$?void 0:$.length)&&void 0!==U?U:0,padding:null!==(De=null===(K=Re?.bits)||void 0===K?void 0:K.padding)&&void 0!==De?De:0}),Ae}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:h=0}=r;let m,w;try{m=Ba(a).toUint8Array()}catch(b){if(b instanceof Lf)return ro("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{w=new Pw(m,c,h)}catch(b){return ro(b instanceof k_?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(h)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const h=this.se(c);if(h){if(a.current&&om(h.target)){const m=new lt(h.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,Wn.newNoDocument(m,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=rn();this.zt.forEach((a,c)=>{let h=!0;c.forEachWhile(m=>{const w=this.se(m);return!w||"TargetPurposeLimboResolution"===w.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new N_(e,t,this.Wt,this.jt,r);return this.jt=ks(),this.zt=Ow(),this.Wt=new er(en),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new L_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Nn(en),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new L_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ow(){return new er(lt.comparator)}function mb(){return new er(lt.comparator)}const _S={asc:"ASCENDING",desc:"DESCENDING"},vS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kw={and:"AND",or:"OR"};class yb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F_(n,e){return n.useProto3Json||qn(e)?e:{value:e}}function zu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function z1(n,e){return zu(n,e.toTimestamp())}function Tr(n){return Ot(!!n),Lt.fromTimestamp(function(e){const t=el(e);return new or(t.seconds,t.nanos)}(n))}function Nw(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Lw(n){const e=fn.fromString(n);return Ot(SS(e)),e}function $a(n,e){return Nw(n.databaseId,e.path)}function Ha(n,e){const t=Lw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(_b(t))}function V_(n,e){return Nw(n.databaseId,e)}function B_(n){const e=Lw(n);return 4===e.length?fn.emptyPath():_b(e)}function j_(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _b(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wS(n,e,t){return{name:$a(n,e),fields:t.value.mapValue.fields}}function vb(n,e,t){const r=Ha(n,e.name),i=Tr(e.updateTime),a=e.createTime?Tr(e.createTime):Lt.min(),c=new Vi({mapValue:{fields:e.fields}}),h=Wn.newFoundDocument(r,i,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Yf(n,e){let t;if(e instanceof Hd)t={update:wS(n,e.key,e.value)};else if(e instanceof Wf)t={delete:$a(n,e.key)};else if(e instanceof na)t={update:wS(n,e.key,e.data),updateMask:TS(e.fieldMask)};else{if(!(e instanceof Aw))return _t();t={verify:$a(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Hf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $d)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gf)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:z1(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function $_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?tr.updateTime(Tr(i.updateTime)):void 0!==i.exists?tr.exists(i.exists):tr.none():tr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let h=null;"setToServerValue"in c?(Ot("REQUEST_TIME"===c.setToServerValue),h=new Hf):"appendMissingElements"in c?h=new Hu(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new $d(c.removeAllFromArray.values||[]):"increment"in c?h=new Gf(a,c.increment):_t();const m=br.fromServerFormat(c.fieldPath);return new hm(m,h)}(n,i)):[];var i;if(e.update){const i=Ha(n,e.update.name),a=new Vi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ps((e.updateMask.fieldPaths||[]).map(w=>br.fromServerFormat(w)));return new na(i,a,c,t,r)}return new Hd(i,a,t,r)}if(e.delete){const i=Ha(n,e.delete);return new Wf(i,t)}if(e.verify){const i=Ha(n,e.verify);return new Aw(i,t)}return _t()}function Fw(n,e){return{documents:[V_(n,e.path)]}}function H_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=V_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=V_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return Db(Sn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(w=>{return{field:Gu((b=w).field),direction:CS(b.dir)};var b})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=F_(n,e.limit);var h,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function wb(n){let e=B_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let a=[];t.where&&(a=function(b){const S=Uw(b);return S instanceof Sn&&gw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new Ff(Gd((S=b).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(b){let S;return S="object"==typeof b?b.value:b,qn(S)?null:S}(t.limit));let m=null;var b;t.startAt&&(m=new rl((b=t.startAt).values||[],!!b.before));let w=null;return t.endAt&&(w=function(b){return new rl(b.values||[],!b.before)}(t.endAt)),eb(e,i,c,a,h,"F",m,w)}function Uw(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gd(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Gd(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gd(e.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gd(e.unaryFilter.field);return on.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?on.create(Gd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Sn.create(e.compositeFilter.filters.map(t=>Uw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(n):_t();var e}function CS(n){return _S[n]}function Eb(n){return vS[n]}function Ib(n){return kw[n]}function Gu(n){return{fieldPath:n.canonicalString()}}function Gd(n){return br.fromServerFormat(n.fieldPath)}function Db(n){return n instanceof on?function(e){if("=="===e.op){if(hw(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NAN"}};if(BD(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hw(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NAN"}};if(BD(e.value))return{unaryFilter:{field:Gu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(e.field),op:Eb(e.op),value:e.value}}}(n):n instanceof Sn?function(e){const t=e.getFilters().map(r=>Db(r));return 1===t.length?t[0]:{compositeFilter:{op:Ib(e.op),filters:t}}}(n):_t()}function TS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class za{constructor(e,t,r,i,a=Lt.min(),c=Lt.min(),h=ii.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AS{constructor(e){this.fe=e}}function xS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Vw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:$a(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:zu(i,a.version.toTimestamp()),createTime:zu(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Qf(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:Qf(e.version)}}var i,a;return r}function Vw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xf(n){const e=new or(n.seconds,n.nanoseconds);return Lt.fromTimestamp(e)}function Jf(n,e){const t=(e.baseMutations||[]).map(a=>$_(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>$_(n.fe,a)),i=or.fromMillis(e.localWriteTimeMs);return new P_(e.batchId,i,t,r)}function z_(n){const e=Xf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xf(n.lastLimboFreeSnapshotVersion):Lt.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=Os(jd(B_(i.documents[0])))):r=Os(wb(n.query)),new za(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ii.fromBase64String(n.resumeToken))}function ym(n,e){const t=Qf(e.snapshotVersion),r=Qf(e.lastLimboFreeSnapshotVersion);let i;i=om(e.target)?Fw(n.fe,e.target):H_(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:il(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bb(n){const e=wb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?A_(e,e.limit,"L"):e}function G_(n,e){return new O_(e.largestBatchId,$_(n.fe,e.overlayMutation))}function _m(n,e){const t=e.path.lastSegment();return[n,Ui(e.path.popLast()),t]}function Bw(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qf(r.readTime),documentKey:Ui(r.documentKey.path),largestBatchId:r.largestBatchId}}class Cb{getBundleMetadata(e,t){return MS(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Xf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return MS(e).put({bundleId:(r=t).id,createTime:Qf(Tr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return q_(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bb(i.bundledQuery),readTime:Xf(i.readTime)};var i})}saveNamedQuery(e,t){return q_(e).put({name:(r=t).name,readTime:Qf(Tr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function MS(n){return yi(n,"bundles")}function q_(n){return yi(n,"namedQueries")}class vm{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new vm(e,t.uid||"")}getOverlay(e,t){return wm(e).get(_m(this.userId,t)).next(r=>r?G_(this.serializer,r):null)}getOverlays(e,t){const r=ea();return me.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const h=new O_(t,c);i.push(this.we(e,h))}),me.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ui(c.getCollectionPath())));const a=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(wm(e).J("collectionPathOverlayIndex",h))}),me.waitFor(a)}getOverlaysForCollection(e,t,r){const i=ea(),a=Ui(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return wm(e).j("collectionPathOverlayIndex",c).next(h=>{for(const m of h){const w=G_(this.serializer,m);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=ea();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wm(e).X({index:"collectionGroupOverlayIndex",range:h},(m,w,b)=>{const S=G_(this.serializer,w);a.size()<i||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):b.done()}).next(()=>a)}we(e,t){return wm(e).put(function(r,i,a){const[c,h,m]=_m(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Yf(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function wm(n){return yi(n,"documentOverlays")}class ol{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),__(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ba(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?jD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):_t()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),lt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function q1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function RS(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=q1(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ol.Ve=new ol;class PS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=RS(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=RS(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class OS{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class W_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Em{constructor(){this.je=new PS,this.ze=new OS(this.je),this.We=new W_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ep{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ep(this.indexId,this.documentKey,this.arrayValue,r)}}function qd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kS(n.arrayValue,e.arrayValue),0!==t?t:(t=kS(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function kS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class NS{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ot(e.collectionGroup===this.collectionId);const t=g_(e);if(void 0!==t&&!this.en(t))return!1;const r=Xc(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const c=r[i];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],c))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Tb(n){var e,t;if(Ot(n instanceof on||n instanceof Sn),n instanceof on){if(n instanceof YD){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>on.create(n.field,"==",a)))||[];return Sn.create(i,"or")}return n}const r=n.filters.map(i=>Tb(i));return Sn.create(r,n.op)}function LS(n){if(0===n.getFilters().length)return[];const e=K_(Tb(n));return Ot($w(e)),Sb(e)||jw(e)?[e]:e.getFilters()}function Sb(n){return n instanceof on}function jw(n){return n instanceof Sn&&gw(n)}function $w(n){return Sb(n)||jw(n)||function(e){if(e instanceof Sn&&rm(e)){for(const t of e.getFilters())if(!Sb(t)&&!jw(t))return!1;return!0}return!1}(n)}function K_(n){if(Ot(n instanceof on||n instanceof Sn),n instanceof on)return n;if(1===n.filters.length)return K_(n.filters[0]);const e=n.filters.map(r=>K_(r));let t=Sn.create(e,n.op);return t=Z_(t),$w(t)?t:(Ot(t instanceof Sn),Ot(Vd(t)),Ot(t.filters.length>1),t.filters.reduce((r,i)=>Ab(r,i)))}function Ab(n,e){let t;return Ot(n instanceof on||n instanceof Sn),Ot(e instanceof on||e instanceof Sn),t=n instanceof on?e instanceof on?Sn.create([n,e],"and"):Do(n,e):e instanceof on?Do(e,n):function(r,i){if(Ot(r.filters.length>0&&i.filters.length>0),Vd(r)&&Vd(i))return KD(r,i.getFilters());const a=rm(r)?r:i,c=rm(r)?i:r,h=a.filters.map(m=>Ab(m,c));return Sn.create(h,"or")}(n,e),Z_(t)}function Do(n,e){if(Vd(e))return KD(e,n.getFilters());{const t=e.filters.map(r=>Ab(n,r));return Sn.create(t,"or")}}function Z_(n){if(Ot(n instanceof on||n instanceof Sn),n instanceof on)return n;const e=n.getFilters();if(1===e.length)return Z_(e[0]);if(qD(n))return n;const t=e.map(i=>Z_(i)),r=[];return t.forEach(i=>{i instanceof on?r.push(i):i instanceof Sn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Sn.create(r,n.op)}class Hw{constructor(){this.rn=new zw}addToCollectionParentIndex(e,t){return this.rn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Ps.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class zw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(fn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(fn.comparator)).toArray()}}const ms=new Uint8Array(0);class FS{constructor(e,t){this.user=e,this.databaseId=t,this.on=new zw,this.un=new $u(r=>il(r),(r,i)=>Uf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ui(i)};return Y_(e).put(a)}return me.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[DD(t),""],!1,!0);return Y_(e).j(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Xo(c.parent))}return r})}addFieldIndex(e,t){const r=Q_(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Wd(e);return a.next(h=>{c.put(Bw(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Q_(e),i=Wd(e),a=Im(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Im(e);let i=!0;const a=new Map;return me.forEach(this.cn(t),c=>this.an(e,c).next(h=>{i&&(i=!!h),a.set(c,h)})).next(()=>{if(i){let c=rn();const h=[];return me.forEach(a,(m,w)=>{var b;Ke("IndexedDbIndexManager",`Using index ${b=m,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${il(t)}`);const S=function(Re,Oe){const Ne=g_(Oe);if(void 0===Ne)return null;for(const Ye of am(Re,Ne.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(w,m),P=function(Re,Oe){const Ne=new Map;for(const Ye of Xc(Oe))for(const ot of am(Re,Ye.fieldPath))switch(ot.op){case"==":case"in":Ne.set(Ye.fieldPath.canonicalString(),ot.value);break;case"not-in":case"!=":return Ne.set(Ye.fieldPath.canonicalString(),ot.value),Array.from(Ne.values())}return null}(w,m),N=function(Re,Oe){const Ne=[];let Ye=!0;for(const ot of Xc(Oe)){const dt=0===ot.kind?XD(Re,ot.fieldPath,Re.startAt):JD(Re,ot.fieldPath,Re.startAt);Ne.push(dt.value),Ye&&(Ye=dt.inclusive)}return new rl(Ne,Ye)}(w,m),$=function(Re,Oe){const Ne=[];let Ye=!0;for(const ot of Xc(Oe)){const dt=0===ot.kind?JD(Re,ot.fieldPath,Re.endAt):XD(Re,ot.fieldPath,Re.endAt);Ne.push(dt.value),Ye&&(Ye=dt.inclusive)}return new rl(Ne,Ye)}(w,m),U=this.hn(m,w,N),K=this.hn(m,w,$),De=this.ln(m,w,P),Ae=this.fn(m.indexId,S,U,N.inclusive,K,$.inclusive,De);return me.forEach(Ae,Re=>r.H(Re,t.limit).next(Oe=>{Oe.forEach(Ne=>{const Ye=lt.fromSegments(Ne.documentKey);c.has(Ye)||(c=c.add(Ye),h.push(Ye))})}))}).next(()=>h)}return me.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:LS(Sn.create(e.filters,"and")).map(r=>sm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,c,h){const m=(null!=t?t.length:1)*Math.max(r.length,a.length),w=m/(null!=t?t.length:1),b=[];for(let S=0;S<m;++S){const P=t?this.dn(t[S/w]):ms,N=this.wn(e,P,r[S%w],i),$=this._n(e,P,a[S%w],c),U=h.map(K=>this.wn(e,P,K,!0));b.push(...this.createRange(N,$,U))}return b}wn(e,t,r,i){const a=new ep(e,lt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new ep(e,lt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new NS(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const h of a)r.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return me.forEach(i,a=>this.an(e,a).next(c=>{c?0!==r&&c.fields.length<function(h){let m=new Nn(br.comparator),w=!1;for(const b of h.filters)for(const S of b.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:m=m.add(S.field));for(const b of h.orderBy)b.field.isKeyField()||(m=m.add(b.field));return m.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Em;for(const i of Xc(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.He(i.kind);ol.Ve._e(a,c)}return r.Qe()}dn(e){const t=new Em;return ol.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Em;return ol.Ve._e(Fd(this.databaseId,t),r.He(function(i){const a=Xc(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Em);let a=0;for(const c of Xc(e)){const h=r[a++];for(const m of i)if(this.yn(t,c.fieldPath)&&Ud(h))i=this.pn(i,c,h);else{const w=m.He(c.kind);ol.Ve._e(h,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const h of i){const m=new Em;m.seed(h.Qe()),ol.Ve._e(c,m.He(t.kind)),a.push(m)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof on&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Q_(e),i=Wd(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const c=[];return me.forEach(a,h=>i.get([h.indexId,this.uid]).next(m=>{c.push(function(w,b){const S=b?new kf(b.sequenceNumber,new Ps(Xf(b.readTime),new lt(Xo(b.documentKey)),b.largestBatchId)):kf.empty(),P=w.fields.map(([N,$])=>new Zg(br.fromServerFormat(N),$));return new Kg(w.indexId,w.collectionGroup,P,S)}(h,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:en(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Q_(e),a=Wd(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>me.forEach(h,m=>a.put(Bw(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return me.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?me.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),me.forEach(h,m=>this.En(e,i,m).next(w=>{const b=this.An(a,m);return w.isEqual(b)?me.resolve():this.vn(e,a,m,w,b)}))))})}Rn(e,t,r,i){return Im(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Im(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Im(e);let a=new Nn(qd);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,h)=>{a=a.add(new ep(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}An(e,t){let r=new Nn(qd);const i=this.mn(t,e);if(null==i)return r;const a=g_(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Ud(c))for(const h of c.arrayValue.values||[])r=r.add(new ep(t.indexId,e.key,this.dn(h),i))}else r=r.add(new ep(t.indexId,e.key,ms,i));return r}vn(e,t,r,i,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,m,w,b,S){const P=h.getIterator(),N=m.getIterator();let $=Nf(P),U=Nf(N);for(;$||U;){let K=!1,De=!1;if($&&U){const Ae=w($,U);Ae<0?De=!0:Ae>0&&(K=!0)}else null!=$?De=!0:K=!0;K?(b(U),U=Nf(N)):De?(S($),$=Nf(P)):($=Nf(P),U=Nf(N))}}(i,a,qd,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.Pn(e,t,r,h))}),me.waitFor(c)}Tn(e){let t=1;return Wd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>qd(c,h)).filter((c,h,m)=>!h||0!==qd(c,m[h-1]));const i=[];i.push(e);for(const c of r){const h=qd(c,e),m=qd(c,t);if(0===h)i[0]=e.Je();else if(h>0&&m<0)i.push(c),i.push(c.Je());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,ms,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,ms,[]]))}return a}bn(e,t){return qd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Gw)}getMinOffset(e,t){return me.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||_t())).next(Gw)}}function Y_(n){return yi(n,"collectionParents")}function Im(n){return yi(n,"indexEntries")}function Q_(n){return yi(n,"indexConfiguration")}function Wd(n){return yi(n,"indexState")}function Gw(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Uu(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ps(e.readTime,e.documentKey,t)}const qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yi(e,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ww(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let h=0;const m=r.X({range:c},(b,S,P)=>(h++,P.delete()));a.push(m.next(()=>{Ot(1===h)}));const w=[];for(const b of t.mutations){const S=RD(e,b.key.path,t.batchId);a.push(i.delete(S)),w.push(b.key)}return me.waitFor(a).next(()=>w)}function Dm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(41943040,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);class X_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Ot(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new X_(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).X({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=ul(e),c=al(e);return c.add({}).next(h=>{Ot("number"==typeof h);const m=new P_(h,t,r,i),w=function(P,N,$){const U=$.baseMutations.map(De=>Yf(P.fe,De)),K=$.mutations.map(De=>Yf(P.fe,De));return{userId:N,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:U,mutations:K}}(this.serializer,this.userId,m),b=[];let S=new Nn((P,N)=>en(P.canonicalString(),N.canonicalString()));for(const P of i){const N=RD(this.userId,P.key.path,h);S=S.add(P.key.path.popLast()),b.push(c.put(w)),b.push(a.put(N,zT))}return S.forEach(P=>{b.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),me.waitFor(b).next(()=>m)})}lookupMutationBatch(e,t){return al(e).get(t).next(r=>r?(Ot(r.userId===this.userId),Jf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?me.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return al(e).X({index:"userMutationsIndex",range:i},(c,h,m)=>{h.userId===this.userId&&(Ot(h.batchId>=r),a=Jf(this.serializer,h)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return al(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).j("userMutationsIndex",t).next(r=>r.map(i=>Jf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Yg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ul(e).X({range:i},(c,h,m)=>{const[w,b,S]=c,P=Xo(b);if(w===this.userId&&t.path.isEqual(P))return al(e).get(S).next(N=>{if(!N)throw _t();Ot(N.userId===this.userId),a.push(Jf(this.serializer,N))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(en);const i=[];return t.forEach(a=>{const c=Yg(this.userId,a.path),h=IDBKeyRange.lowerBound(c),m=ul(e).X({range:h},(w,b,S)=>{const[P,N,$]=w,U=Xo(N);P===this.userId&&a.path.isEqual(U)?r=r.add($):S.done()});i.push(m)}),me.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Yg(this.userId,r),c=IDBKeyRange.lowerBound(a);let h=new Nn(en);return ul(e).X({range:c},(m,w,b)=>{const[S,P,N]=m,$=Xo(P);S===this.userId&&r.isPrefixOf($)?$.length===i&&(h=h.add(N)):b.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(al(e).get(a).next(c=>{if(null===c)throw _t();Ot(c.userId===this.userId),r.push(Jf(this.serializer,c))}))}),me.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ww(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),me.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return me.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ul(e).X({range:r},(a,c,h)=>{if(a[0]===this.userId){const m=Xo(a[1]);i.push(m)}else h.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return Kw(e,this.userId,t)}xn(e){return qu(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Kw(n,e,t){const r=Yg(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return ul(n).X({range:a,Y:!0},(h,m,w)=>{const[b,S,P]=h;b===e&&S===i&&(c=!0),w.done()}).next(()=>c)}function al(n){return yi(n,"mutations")}function ul(n){return yi(n,"documentMutations")}function qu(n){return yi(n,"mutationQueues")}class cl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new cl(0)}static Mn(){return new cl(-1)}}class Zw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new cl(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Lt.fromTimestamp(new or(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ns(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Ns(e).X((c,h)=>{const m=z_(h);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>me.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Ns(e).X((r,i)=>{const a=z_(i);t(a)})}$n(e){return xb(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}On(e,t){return xb(e).put("targetGlobalKey",t)}Fn(e,t){return Ns(e).put(ym(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=il(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Ns(e).X({range:i,index:"queryTargetsIndex"},(c,h,m)=>{const w=z_(h);Uf(t,w.target)&&(a=w,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Kd(e);return t.forEach(c=>{const h=Ui(c.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),me.waitFor(i)}removeMatchingKeys(e,t,r){const i=Kd(e);return me.forEach(t,a=>{const c=Ui(a.path);return me.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Kd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Kd(e);let a=rn();return i.X({range:r,Y:!0},(c,h,m)=>{const w=Xo(c[1]),b=new lt(w);a=a.add(b)}).next(()=>a)}containsKey(e,t){const r=Ui(t.path),i=IDBKeyRange.bound([r],[DD(r)],!1,!0);let a=0;return Kd(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],m,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}le(e,t){return Ns(e).get(t).next(r=>r?z_(r):null)}}function Ns(n){return yi(n,"targets")}function xb(n){return yi(n,"targetGlobal")}function Kd(n){return yi(n,"targetDocuments")}function Mb([n,e],[t,r]){const i=en(n,t);return 0===i?en(e,r):i}class US{constructor(e){this.Ln=e,this.buffer=new Nn(Mb),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Pe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ft(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield io(r)}yield t.Qn(3e5)}))}}class VS{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return me.resolve(Zi.ct);const r=new US(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(qw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qw):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,c,h,m,w;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,c=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,h=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(w=Date.now(),f_()<=vd.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${a} targets in `+(m-h)+`ms\n\tRemoved ${S} documents in `+(w-m)+`ms\nTotal Duration: ${w-b}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class W1{constructor(e,t){this.db=e,this.garbageCollector=function Yw(n,e){return new VS(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return bm(e,r)}removeReference(e,t,r){return bm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bm(e,t)}Xn(e,t){return function(r,i){let a=!1;return qu(r).Z(c=>Kw(r,c,i).next(h=>(h&&(a=!0),me.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(c,h)=>{if(h<=t){const m=this.Xn(e,c).next(w=>{if(!w)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Lt.min()),Kd(e).delete([0,Ui(c.path)])))});i.push(m)}}).next(()=>me.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bm(e,t)}Yn(e,t){const r=Kd(e);let i,a=Zi.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:m,sequenceNumber:w})=>{0===c?(a!==Zi.ct&&t(new lt(Xo(i)),a),a=w,i=m):a=Zi.ct}).next(()=>{a!==Zi.ct&&t(new lt(Xo(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bm(n,e){return Kd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ui(e.path),sequenceNumber:r}));var r}class Pb{constructor(){this.changes=new $u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ob{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ll(e).put(r)}removeEntry(e,t,r){return ll(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Vw(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Wn.newInvalidDocument(t);return ll(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tp(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Wn.newInvalidDocument(t)};return ll(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tp(t))},(i,a)=>{r={document:this.ts(t,a),size:Dm(a)}}).next(()=>r)}getEntries(e,t){let r=ks();return this.ns(e,t,(i,a)=>{const c=this.ts(i,a);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=ks(),i=new er(lt.comparator);return this.ns(e,t,(a,c)=>{const h=this.ts(a,c);r=r.insert(a,h),i=i.insert(a,Dm(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return me.resolve();let i=new Nn(eE);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(tp(i.first()),tp(i.last())),c=i.getIterator();let h=c.getNext();return ll(e).X({index:"documentKeyIndex",range:a},(m,w,b)=>{const S=lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&eE(h,S)<0;)r(h,null),h=c.getNext();h&&h.isEqual(S)&&(r(h,w),h=c.hasNext()?c.getNext():null),h?b.G(tp(h)):b.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),Vw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ll(e).j(IDBKeyRange.bound(c,h,!0)).next(m=>{let w=ks();for(const b of m){const S=this.ts(lt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);S.isFoundDocument()&&(cm(t,S)||i.has(S.key))&&(w=w.insert(S.key,S))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=ks();const c=Jw(t,r),h=Jw(t,Ps.max());return ll(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(m,w,b)=>{const S=this.ts(lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===i&&b.done()}).next(()=>a)}newChangeBuffer(e){return new Qw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xw(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Zn(e,t){return Xw(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function G1(n,e){let t;if(e.document)t=vb(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=lt.fromSegments(e.noDocument.path),i=Xf(e.noDocument.readTime);t=Wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=lt.fromSegments(e.unknownDocument.path),i=Xf(e.unknownDocument.version);t=Wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new or(r[0],r[1]);return Lt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return Wn.newInvalidDocument(e)}}function BS(n){return new Ob(n)}class Qw extends Pb{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new $u(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Nn((a,c)=>en(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const h=this.us.get(a);if(t.push(this.os.removeEntry(e,a,h.readTime)),c.isValidDocument()){const m=xS(this.os.serializer,c);i=i.add(a.path.popLast()),r+=Dm(m)-h.size,t.push(this.os.addEntry(e,a,m))}else if(r-=h.size,this.trackRemovals){const m=xS(this.os.serializer,c.convertToNoDocument(Lt.min()));t.push(this.os.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),me.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,c)=>{this.us.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function Xw(n){return yi(n,"remoteDocumentGlobal")}function ll(n){return yi(n,"remoteDocumentsV14")}function tp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jw(n,e){const t=e.documentKey.path.toArray();return[n,Vw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eE(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=en(t[a],r[a]),i)return i;return i=en(t.length,r.length),i||(i=en(t[t.length-2],r[r.length-2]),i||en(t[t.length-1],r[r.length-1]))}class J_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cm{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&x_(r.mutation,i,ps.empty(),or.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rn()){const i=ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=jf();return a.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ea();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let a=ks();const c=$f(),h=$f();return t.forEach((m,w)=>{const b=r.get(w.key);i.has(w.key)&&(void 0===b||b.mutation instanceof na)?a=a.insert(w.key,w):void 0!==b?(c.set(w.key,b.mutation.getFieldMask()),x_(b.mutation,w,b.mutation.getFieldMask(),or.now())):c.set(w.key,ps.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((w,b)=>c.set(w,b)),t.forEach((w,b)=>{var S;return h.set(w,new J_(b,null!==(S=c.get(w))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const r=$f();let i=new er((c,h)=>c-h),a=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const w=t.get(m);if(null===w)return;let b=r.get(m)||ps.empty();b=h.applyToLocalView(w,b),r.set(m,b);const S=(i.get(h.batchId)||rn()).add(m);i=i.insert(h.batchId,S)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),w=m.key,b=m.value,S=Dw();b.forEach(P=>{if(!a.has(P)){const N=cb(t.get(P),r.get(P));null!==N&&S.set(P,N),a=a.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,S))}return me.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):me.resolve(ea());let h=-1,m=a;return c.next(w=>me.forEach(w,(b,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(b)?me.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{m=m.insert(b,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,m,w,rn())).next(b=>({batchId:h,changes:Iw(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let i=jf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=jf();return this.indexManager.getCollectionParents(e,i).next(c=>me.forEach(c,h=>{const m=(w=t,b=h.child(i),new ju(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,b;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(w=>{w.forEach((b,S)=>{a=a.insert(b,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((h,m)=>{const w=m.getKey();null===a.get(w)&&(a=a.insert(w,Wn.newInvalidDocument(w)))});let c=jf();return a.forEach((h,m)=>{const w=i.get(h);void 0!==w&&x_(w.mutation,m,ps.empty(),or.now()),cm(t,m)&&(c=c.insert(h,m))}),c})}}class kb{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return me.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Tr(r.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:bb(r.bundledQuery),readTime:Tr(r.readTime)}),me.resolve();var r}}class jS{constructor(){this.overlays=new er(lt.comparator),this.ls=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ea();return me.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const i=ea(),a=t.length+1,c=new lt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,w=m.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new er((w,b)=>w-b);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let b=a.get(w.largestBatchId);null===b&&(b=ea(),a=a.insert(w.largestBatchId,b)),b.set(w.getKey(),w)}}const h=ea(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,b)=>h.set(w,b)),!(h.size()>=i)););return me.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new O_(t,r));let a=this.ls.get(t);void 0===a&&(a=rn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class ev{constructor(){this.fs=new Nn(si.ds),this.ws=new Nn(si._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new si(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new si(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new lt(new fn([])),r=new si(t,e),i=new si(t,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new lt(new fn([])),r=new si(t,e),i=new si(t,e+1);let a=rn();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new si(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class si{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return lt.comparator(e.key,t.key)||en(e.As,t.As)}static _s(e,t){return en(e.As,t.As)||lt.comparator(e.key,t.key)}}class $S{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Nn(si.ds)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const c=new P_(a,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new si(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return me.resolve(c)}lookupMutationBatch(e,t){return me.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new si(t,0),i=new si(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);a.push(h)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(en);return t.forEach(i=>{const a=new si(i,0),c=new si(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],h=>{r=r.add(h.As)})}),me.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;lt.isDocumentKey(a)||(a=a.child(""));const c=new si(new lt(a),0);let h=new Nn(en);return this.Rs.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(h=h.add(m.As)),!0)},c),me.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return me.forEach(t.mutations,i=>{const a=new si(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new si(t,0),i=this.Rs.firstAfterOrEqual(r);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return me.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HS{constructor(e){this.Ds=e,this.docs=new er(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=ks();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wn.newInvalidDocument(i))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ks();const c=t.path,h=new lt(c.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:w,value:{document:b}}=m.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||Uu(rw(b),r)<=0||(i.has(b.key)||cm(t,b))&&(a=a.insert(b.key,b.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,t,r,i){_t()}Cs(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new K1(this)}getSize(e){return me.resolve(this.size)}}class K1 extends Pb{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Z1{constructor(e){this.persistence=e,this.xs=new $u(t=>il(t),Uf),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ev,this.targetCount=0,this.Ms=cl.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),me.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Fn(t),me.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ks.containsKey(t))}}class tv{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Z1(this),this.indexManager=new Hw,this.remoteDocumentCache=new HS(r=>this.referenceDelegate.Ls(r)),this.serializer=new AS(t),this.qs=new kb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new $S(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new zS(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return me.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class zS extends SD{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Qs=new ev,this.js=null}static zs(e){return new nv(e)}get Ws(){if(this.js)return this.js;throw _t()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),me.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Ws,r=>{const i=lt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Lt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return me.or([()=>me.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Y1{constructor(e){this.serializer=e}O(e,t,r,i){const a=new iw("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aw,{unique:!0}),h.createObjectStore("documentMutations"),GS(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=me.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),GS(e)),c=c.next(()=>function(h){const m=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,m){return m.store("mutations").j().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aw,{unique:!0});const b=m.store("mutations"),S=w.map(P=>b.put(P));return me.waitFor(S)})}(e,a))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(a))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(a))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(a))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:Jg});m.createIndex("collectionPathOverlayIndex",YT,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",QT,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:GT});m.createIndex("documentKeyIndex",Qg),m.createIndex("collectionGroupIndex",qT)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,a))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:OD}).createIndex("sequenceNumberIndex",kD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:ZT}).createIndex("documentKeyIndex",Xg,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Dm(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>me.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>me.forEach(h,m=>{Ot(m.userId===a.userId);const w=Jf(this.serializer,m);return Ww(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((c,h)=>{const m=new fn(c),w=[0,Ui(m)];a.push(t.get(w).next(b=>b?me.resolve():t.put({targetId:0,path:Ui(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>me.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:PD});const r=t.store("collectionParents"),i=new zw,a=c=>{if(i.add(c)){const h=c.lastSegment(),m=c.popLast();return r.put({collectionId:h,parent:Ui(m)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const m=new fn(c);return a(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,m],w)=>{const b=Xo(h);return a(b.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=z_(i),c=ym(this.serializer,a);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,c)=>{const h=t.store("remoteDocumentsV14"),m=(w=c,w.document?new lt(fn.fromString(w.document.name).popFirst(5)):w.noDocument?lt.fromSegments(w.noDocument.path):w.unknownDocument?lt.fromSegments(w.unknownDocument.path):_t()).path.toArray();var w;const b={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(b))}).next(()=>me.waitFor(i))}si(e,t){const r=t.store("mutations"),i=BS(this.serializer),a=new tv(nv.zs,this.serializer.fe);return r.j().next(c=>{const h=new Map;return c.forEach(m=>{var w;let b=null!==(w=h.get(m.userId))&&void 0!==w?w:rn();Jf(this.serializer,m).keys().forEach(S=>b=b.add(S)),h.set(m.userId,b)}),me.forEach(h,(m,w)=>{const b=new ri(w),S=vm.de(this.serializer,b),P=a.getIndexManager(b),N=X_.de(b,this.serializer,P,a.referenceDelegate);return new Cm(i,N,S,P).recalculateAndSaveOverlaysForDocumentKeys(new w_(t,Zi.ct),m).next()})})}}function GS(n){n.createObjectStore("targetDocuments",{keyPath:KT}).createIndex("documentTargetsIndex",v_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WT,{unique:!0}),n.createObjectStore("targetGlobal")}const Nb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lb{constructor(e,t,r,i,a,c,h,m,w,b,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=c,this.document=h,this.ri=w,this.oi=b,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=P=>Promise.resolve(),!Lb.D())throw new Ve(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new W1(this,i),this.di=t+"main",this.serializer=new AS(m),this.wi=new Io(this.di,this.ui,new Y1(this.serializer)),this.Bs=new Zw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BS(this.serializer),this.qs=new Cb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(Ce.FAILED_PRECONDITION,Nb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Zi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Pe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ft(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return iv(e).get("owner").next(t=>me.resolve(this.Ri(t)))}Pi(e){return sv(e).delete(this.clientId)}bi(){var e=this;return(0,Pe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yi(r,"clientMetadata");return i.j().next(a=>{const c=e.Si(a,18e5),h=a.filter(m=>-1===c.indexOf(m));return me.forEach(h,m=>i.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?me.resolve(!0):iv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ve(Ce.FAILED_PRECONDITION,Nb);return!1}}return!(!this.networkEnabled||!this.inForeground)||sv(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Pe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new w_(t,Zi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>sv(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return X_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return vm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.ui)?XT:14===c?cw:13===c?uw:12===c?LD:11===c?ND:void _t();var c;let h;return this.wi.runTransaction(e,i,a,m=>(h=new w_(m,this.Os?this.Os.next():Zi.ct),"readwrite-primary"===t?this.Ti(h).next(w=>!!w||this.Ei(h)).next(w=>{if(!w)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ve(Ce.FAILED_PRECONDITION,TD);return r(h)}).next(w=>this.vi(h).next(()=>w)):this.Oi(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return iv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(Ce.FAILED_PRECONDITION,Nb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iv(e).put("owner",t)}static D(){return Io.D()}Ai(e){const t=iv(e);return t.get("owner").next(r=>this.Ri(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):me.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,hn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function iv(n){return yi(n,"owner")}function sv(n){return yi(n,"clientMetadata")}function np(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=rn(),i=rn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new tE(e,t.fromCache,r,i)}}class Fb{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(uS(t))return me.resolve(null);let r=Os(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=A_(t,null,"F"),r=Os(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=rn(...a);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(m=>{const w=this.ji(t,h);return this.zi(t,w,c,m.readTime)?this.Ki(e,A_(t,null,"F")):this.Wi(e,w,t,m)}))})))}Gi(e,t,r,i){return uS(t)||i.isEqual(Lt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,i)?this.Qi(e,t):(f_()<=vd.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ew(t)),this.Wi(e,c,t,nw(i,-1)))})}ji(e,t){let r=new Nn(rb(e));return t.forEach((i,a)=>{cm(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return f_()<=vd.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Ew(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ps.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class Ub{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new er(en),this.Yi=new $u(a=>il(a),Uf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function dl(n,e,t,r){return new Ub(n,e,t,r)}function nE(n,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Pe.Z)(function*(n,e){const t=ft(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],h=[];let m=rn();for(const w of i){c.push(w.batchId);for(const b of w.mutations)m=m.add(b.key)}for(const w of a){h.push(w.batchId);for(const b of w.mutations)m=m.add(b.key)}return t.localDocuments.getDocuments(r,m).next(w=>({er:w,removedBatchIds:c,addedBatchIds:h}))})})}),Tm.apply(this,arguments)}function rE(n,e){const t=ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,w){const b=m.batch,S=b.keys();let P=me.resolve();return S.forEach(N=>{P=P.next(()=>w.getEntry(h,N)).next($=>{const U=m.docVersions.get(N);Ot(null!==U),$.version.compareTo(U)<0&&(b.applyToRemoteDocument($,m),$.isValidDocument()&&($.setReadTime(m.commitVersion),w.addEntry($)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=rn();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Vb(n){const e=ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function iE(n,e){const t=ft(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((b,S)=>{const P=i.get(S);if(!P)return;h.push(t.Bs.removeMatchingKeys(a,b.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(a,b.addedDocuments,S)));let N=P.withSequenceNumber(a.currentSequenceNumber);var $,U,K;null!==e.targetMismatches.get(S)?N=N.withResumeToken(ii.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),i=i.insert(S,N),U=N,K=b,(0===($=P).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(a,N))});let m=ks(),w=rn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),h.push(ov(a,c,e.documentUpdates).next(b=>{m=b.nr,w=b.sr})),!r.isEqual(Lt.min())){const b=t.Bs.getLastRemoteSnapshotVersion(a).next(S=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(b)}return me.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,w)).next(()=>m)}).then(a=>(t.Ji=i,a))}function ov(n,e,t){let r=rn(),i=rn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ks();return t.forEach((h,m)=>{const w=a.get(h);m.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(Lt.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Ke("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",m.version)}),{nr:c,sr:i}})}function av(n,e){const t=ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sm(n,e){const t=ft(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,me.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new za(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Am(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Pe.Z)(function*(n,e,t){const r=ft(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ft(c))throw c;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Bb.apply(this,arguments)}function sE(n,e,t){const r=ft(n);let i=Lt.min(),a=rn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,m,w){const b=ft(h),S=b.Yi.get(w);return void 0!==S?me.resolve(b.Ji.get(S)):b.Bs.getTargetData(m,w)}(r,c,Os(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Lt.min(),t?a:rn())).next(h=>($b(r,nb(e),h),{documents:h,ir:a})))}function oE(n,e){const t=ft(n),r=ft(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(c=>c?c.target:null))}function jb(n,e){const t=ft(n),r=t.Xi.get(e)||Lt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,nw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>($b(t,e,i),i))}function $b(n,e,t){let r=n.Xi.get(e)||Lt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function aE(){return aE=(0,Pe.Z)(function*(n,e,t,r){const i=ft(n);let a=rn(),c=ks();for(const w of t){const b=e.rr(w.metadata.name);w.document&&(a=a.add(b));const S=e.ur(w);S.setReadTime(e.cr(w.metadata.readTime)),c=c.insert(b,S)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),m=yield Sm(i,(w=r,Os(jd(fn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>ov(w,h,c).next(b=>(h.apply(w),b)).next(b=>i.Bs.removeMatchingKeysForTargetId(w,m.targetId).next(()=>i.Bs.addMatchingKeys(w,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,b.nr,b.sr)).next(()=>b.nr)))}),aE.apply(this,arguments)}function Hb(n,e){return uv.apply(this,arguments)}function uv(){return uv=(0,Pe.Z)(function*(n,e,t=rn()){const r=yield Sm(n,Os(bb(e.bundledQuery))),i=ft(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Tr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(a,e);const h=r.withResumeToken(ii.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(a,h).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),uv.apply(this,arguments)}function uE(n,e){return`firestore_clients_${n}_${e}`}function zb(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function cE(n,e){return`firestore_targets_${n}_${e}`}class xm{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Ve(i.error.code,i.error.message))),c?new xm(e,t,i.state,a):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ve(r.error.code,r.error.message))),a?new Zd(e,r.state,i):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bw();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=sw(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new lE(e,a):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cv{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cv(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Mm{constructor(){this.activeTargetIds=bw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dE{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new er(en),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=uE(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Mm),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(uE(e.persistenceKey,i));if(a){const c=lE.ar(i,a);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(cE(this.persistenceKey,e));if(r){const i=Zd.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cE(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let c=Zi.ct;if(null!=a)try{const h=JSON.parse(a);Ot("number"==typeof h),c=h}catch(h){Dr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Zi.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new xm(this.currentUser,e,t,r),a=zb(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=zb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=cE(this.persistenceKey,e),a=new Zd(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return lE.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return xm.ar(new ri(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Zd.ar(i,t)}br(e){return cv.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),c=[],h=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||h.push(m)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=bw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Gb{constructor(){this.Hr=new Mm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Mm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q1{Yr(e){}shutdown(){}}class WS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lv=null;function hE(){return null===lv?lv=268435456+Math.round(2147483648*Math.random()):lv++,"0x"+lv.toString(16)}const KS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ys="WebChannelConnection";class J1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const c=hE(),h=this.To(e,t);Ke("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const m={};return this.Eo(m,i,a),this.Ao(e,h,m,r).then(w=>(Ke("RestConnection",`Received RPC '${e}' ${c}: `,w),w),w=>{throw ro("RestConnection",`RPC '${e}' ${c} failed with error: `,w,"url: ",h,"request:",r),w})}vo(e,t,r,i,a,c){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${KS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=hE();return new Promise((c,h)=>{const m=new OT;m.setWithCredentials(!0),m.listenOnce(gD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case no.NO_ERROR:const b=m.getResponseJson();Ke(ys,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(b)),c(b);break;case no.TIMEOUT:Ke(ys,`RPC '${e}' ${a} timed out`),h(new Ve(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case no.HTTP_ERROR:const S=m.getStatus();if(Ke(ys,`RPC '${e}' ${a} failed with status:`,S,"response text:",m.getResponseText()),S>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const N=P?.error;if(N&&N.status&&N.message){const $=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(K)>=0?K:Ce.UNKNOWN}(N.status);h(new Ve($,N.message))}else h(new Ve(Ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Ve(Ce.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ke(ys,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Ke(ys,`RPC '${e}' ${a} sending request:`,i),m.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=hE(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ua(),h=Qo(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.xmlHttpFactory=new PT({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=a.join("");Ke(ys,`Creating RPC '${e}' stream ${i}: ${b}`,m);const S=c.createWebChannel(b,m);let P=!1,N=!1;const $=new X1({ro:K=>{N?Ke(ys,`Not sending because RPC '${e}' stream ${i} is closed:`,K):(P||(Ke(ys,`Opening RPC '${e}' stream ${i} transport.`),S.open(),P=!0),Ke(ys,`RPC '${e}' stream ${i} sending:`,K),S.send(K))},oo:()=>S.close()}),U=(K,De,Ae)=>{K.listen(De,Re=>{try{Ae(Re)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return U(S,h_.EventType.OPEN,()=>{N||Ke(ys,`RPC '${e}' stream ${i} transport opened.`)}),U(S,h_.EventType.CLOSE,()=>{N||(N=!0,Ke(ys,`RPC '${e}' stream ${i} transport closed`),$.wo())}),U(S,h_.EventType.ERROR,K=>{N||(N=!0,ro(ys,`RPC '${e}' stream ${i} transport errored:`,K),$.wo(new Ve(Ce.UNAVAILABLE,"The operation could not be completed")))}),U(S,h_.EventType.MESSAGE,K=>{var De;if(!N){const Ae=K.data[0];Ot(!!Ae);const Re=Ae,Oe=Re.error||(null===(De=Re[0])||void 0===De?void 0:De.error);if(Oe){Ke(ys,`RPC '${e}' stream ${i} received error:`,Oe);const Ne=Oe.status;let Ye=function(dt){const at=Rr[dt];if(void 0!==at)return Mw(at)}(Ne),ot=Oe.message;void 0===Ye&&(Ye=Ce.INTERNAL,ot="Unknown error status: "+Ne+" with message "+Oe.message),N=!0,$.wo(new Ve(Ye,ot)),S.close()}else Ke(ys,`RPC '${e}' stream ${i} received:`,Ae),$._o(Ae)}}),U(h,mD.STAT_EVENT,K=>{K.stat===yD.PROXY?Ke(ys,`RPC '${e}' stream ${i} detected buffering proxy`):K.stat===yD.NOPROXY&&Ke(ys,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function ZS(){return typeof window<"u"?window:null}function fE(){return typeof document<"u"?document:null}function Rm(n){return new yb(n,!0)}class qb{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class YS{constructor(e,t,r,i,a,c,h,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Pe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Pe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Pe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ve(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Pe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eM extends YS{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function IS(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:_t(),i=e.targetChange.targetIds||[],a=function(m,w){return m.useProto3Json?(Ot(void 0===w||"string"==typeof w),ii.fromBase64String(w||"")):(Ot(void 0===w||w instanceof Uint8Array),ii.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const w=void 0===m.code?Ce.UNKNOWN:Mw(m.code);return new Ve(w,m.message||"")}(c);t=new gb(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Ha(n,r.document.name),a=Tr(r.document.updateTime),c=r.document.createTime?Tr(r.document.createTime):Lt.min(),h=new Vi({mapValue:{fields:r.document.fields}}),m=Wn.newFoundDocument(i,a,c,h);t=new mm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Ha(n,r.document),a=r.readTime?Tr(r.readTime):Lt.min(),c=Wn.newNoDocument(i,a);t=new mm([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ha(n,r.document);t=new mm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new hb(i,a);t=new Zf(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Lt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Lt.min():a.readTime?Tr(a.readTime):Lt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=j_(this.serializer),t.addTarget=function(i,a){let c;const h=a.target;if(c=om(h)?{documents:Fw(i,h)}:{query:H_(i,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=U_(i,a.resumeToken);const m=F_(i,a.expectedCount);null!==m&&(c.expectedCount=m)}else if(a.snapshotVersion.compareTo(Lt.min())>0){c.readTime=zu(i,a.snapshotVersion.toTimestamp());const m=F_(i,a.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function bS(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=j_(this.serializer),t.removeTarget=e,this.Wo(t)}}class tM extends YS{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function DS(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let a=Tr(r.updateTime?r.updateTime:i);return a.isEqual(Lt.min())&&(a=Tr(i)),new ub(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.cu(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=j_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yf(this.serializer,r))};this.Wo(t)}}class nM extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ve(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(Ce.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(Ce.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class o{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dr(t),this.mu=!1):Ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class u{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(h=>{r.enqueueAndForget((0,Pe.Z)(function*(){var m;ue(c)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Pe.Z)(function*(w){const b=ft(w);b.vu.add(4),yield g(b),b.bu.set("Unknown"),b.vu.delete(4),yield l(b)}),function(w){return m.apply(this,arguments)})(c))}))}),this.bu=new o(r,i)}}function l(n){return d.apply(this,arguments)}function d(){return d=(0,Pe.Z)(function*(n){if(ue(n))for(const e of n.Ru)yield e(!0)}),d.apply(this,arguments)}function g(n){return v.apply(this,arguments)}function v(){return v=(0,Pe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),v.apply(this,arguments)}function D(n,e){const t=ft(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),W(t)?F(t):fv(t).Ko()&&x(t,e))}function T(n,e){const t=ft(n),r=fv(t);t.Au.delete(e),r.Ko()&&O(t,e),0===t.Au.size&&(r.Ko()?r.jo():ue(t)&&t.bu.set("Unknown"))}function x(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fv(n).su(e)}function O(n,e){n.Vu.qt(e),fv(n).iu(e)}function F(n){n.Vu=new yS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),fv(n).start(),n.bu.gu()}function W(n){return ue(n)&&!fv(n).Uo()&&n.Au.size>0}function ue(n){return 0===ft(n).vu.size}function ke(n){n.Vu=void 0}function Xe(n){return st.apply(this,arguments)}function st(){return st=(0,Pe.Z)(function*(n){n.Au.forEach((e,t)=>{x(n,e)})}),st.apply(this,arguments)}function At(n,e){return $t.apply(this,arguments)}function $t(){return $t=(0,Pe.Z)(function*(n,e){ke(n),W(n)?(n.bu.Iu(e),F(n)):n.bu.set("Unknown")}),$t.apply(this,arguments)}function He(n,e,t){return Kt.apply(this,arguments)}function Kt(){return Kt=(0,Pe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof gb&&2===e.state&&e.cause)try{yield(r=(0,Pe.Z)(function*(i,a){const c=a.cause;for(const h of a.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gn(n,r)}else if(e instanceof mm?n.Vu.Ht(e):e instanceof Zf?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Lt.min()))try{const r=yield Vb(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const w=i.Au.get(m);w&&i.Au.set(m,w.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,m)=>{const w=i.Au.get(h);if(!w)return;i.Au.set(h,w.withResumeToken(ii.EMPTY_BYTE_STRING,w.snapshotVersion)),O(i,h);const b=new za(w.target,h,m,w.sequenceNumber);x(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield gn(n,r)}var r}),Kt.apply(this,arguments)}function gn(n,e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,Pe.Z)(function*(n,e,t){if(!Ft(e))throw e;n.vu.add(1),yield g(n),n.bu.set("Offline"),t||(t=()=>Vb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Pe.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield l(n)}))}),Kn.apply(this,arguments)}function hl(n,e){return e().catch(t=>gn(n,t,e))}function fl(n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Pe.Z)(function*(n){const e=ft(n),t=rp(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pE(e);)try{const i=yield av(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,gE(e,i)}catch(i){yield gn(e,i)}dv(e)&&hv(e)}),Pm.apply(this,arguments)}function pE(n){return ue(n)&&n.Eu.length<10}function gE(n,e){n.Eu.push(e);const t=rp(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function dv(n){return ue(n)&&!rp(n).Uo()&&n.Eu.length>0}function hv(n){rp(n).start()}function mE(n){return Om.apply(this,arguments)}function Om(){return Om=(0,Pe.Z)(function*(n){rp(n).hu()}),Om.apply(this,arguments)}function yE(n){return QS.apply(this,arguments)}function QS(){return QS=(0,Pe.Z)(function*(n){const e=rp(n);for(const t of n.Eu)e.uu(t.mutations)}),QS.apply(this,arguments)}function yO(n,e,t){return XS.apply(this,arguments)}function XS(){return XS=(0,Pe.Z)(function*(n,e,t){const r=n.Eu.shift(),i=pm.from(r,e,t);yield hl(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield fl(n)}),XS.apply(this,arguments)}function _O(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,Pe.Z)(function*(n,e){var t;e&&rp(n).ou&&(yield(t=(0,Pe.Z)(function*(r,i){if(xw(a=i.code)&&a!==Ce.ABORTED){const c=r.Eu.shift();rp(r).Qo(),yield hl(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield fl(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),dv(n)&&hv(n)}),JS.apply(this,arguments)}function iM(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Pe.Z)(function*(n,e){const t=ft(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=ue(t);t.vu.add(3),yield g(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield l(t)}),eA.apply(this,arguments)}function tA(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Pe.Z)(function*(n,e){const t=ft(n);e?(t.vu.delete(2),yield l(t)):e||(t.vu.add(2),yield g(t),t.bu.set("Unknown"))}),nA.apply(this,arguments)}function fv(n){return n.Su||(n.Su=function(e,t,r){const i=ft(e);return i.fu(),new eM(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Xe.bind(null,n),ao:At.bind(null,n),nu:He.bind(null,n)}),n.Ru.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.Su.Qo(),W(n)?F(n):n.bu.set("Unknown")):(yield n.Su.stop(),ke(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function rp(n){return n.Du||(n.Du=function(e,t,r){const i=ft(e);return i.fu(),new tM(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:mE.bind(null,n),ao:_O.bind(null,n),au:yE.bind(null,n),cu:yO.bind(null,n)}),n.Ru.push(function(){var e=(0,Pe.Z)(function*(t){t?(n.Du.Qo(),yield fl(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class rA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new rA(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(n,e){if(Dr("AsyncQueue",`${e}: ${n}`),Ft(n))return new Ve(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class gv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=jf(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new gv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new gv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sM{constructor(){this.Cu=new er(lt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):_t():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class mv{constructor(e,t,r,i,a,c,h,m,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new mv(e,t,gv.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vO{constructor(){this.Nu=void 0,this.listeners=[]}}class wO{constructor(){this.queries=new $u(e=>tb(e),um),this.onlineState="Unknown",this.ku=new Set}}function iA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Pe.Z)(function*(n,e){const t=ft(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new vO),i)try{a.Nu=yield t.onListen(r)}catch(c){const h=pv(c,`Initialization of query '${Ew(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&uA(t)}),sA.apply(this,arguments)}function oA(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Pe.Z)(function*(n,e){const t=ft(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),aA.apply(this,arguments)}function EO(n,e){const t=ft(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&uA(t)}function IO(n,e,t){const r=ft(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function uA(n){n.ku.forEach(e=>{e.next()})}class cA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=mv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class DO{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class oM{constructor(e){this.serializer=e}rr(e){return Ha(this.serializer,e)}ur(e){return e.metadata.exists?vb(this.serializer,e.document,!1):Wn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Tr(e)}}class bO{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aM(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=fn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new oM(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||rn()).add(a);t.set(c,h)}}return t}complete(){var e=this;return(0,Pe.Z)(function*(){const t=yield function qS(n,e,t,r){return aE.apply(this,arguments)}(e.localStore,new oM(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield Hb(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function aM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uM{constructor(e){this.key=e}}class cM{constructor(e){this.key=e}}class lM{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=rb(e),this.ec=new gv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new sM,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,S)=>{const P=i.get(b),N=cm(this.query,S)?S:null,$=!!P&&this.mutatedKeys.has(P.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let K=!1;P&&N?P.data.isEqual(N.data)?$!==U&&(r.track({type:3,doc:N}),K=!0):this.rc(P,N)||(r.track({type:2,doc:N}),K=!0,(m&&this.tc(N,m)>0||w&&this.tc(N,w)<0)&&(h=!0)):!P&&N?(r.track({type:0,doc:N}),K=!0):P&&!N&&(r.track({type:1,doc:P}),K=!0,(m||w)&&(h=!0)),K&&(N?(c=c.add(N),a=U?a.add(b):a.delete(b)):(c=c.delete(b),a=a.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),a=a.delete(b.key),r.track({type:1,doc:b})}return{ec:c,ic:r,zi:h,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,b)=>function(S,P){const N=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return N(S)-N(P)}(w.type,b.type)||this.tc(w.doc,b.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==a.length||m?{snapshot:new mv(this.query,e.ec,i,a,e.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sM,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=rn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new cM(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new uM(r))}),t}hc(e){this.Yu=e.ir,this.Zu=rn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return mv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class CO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TO{constructor(e){this.key=e,this.fc=!1}}class SO{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new $u(h=>tb(h),um),this._c=new Map,this.mc=new Set,this.gc=new er(lt.comparator),this.yc=new Map,this.Ic=new ev,this.Tc={},this.Ec=new Map,this.Ac=cl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function AO(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Pe.Z)(function*(n,e){const t=OA(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield Sm(t.localStore,Os(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield dA(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&D(t.remoteStore,c)}return i}),lA.apply(this,arguments)}function dA(n,e,t,r,i){return hA.apply(this,arguments)}function hA(){return hA=(0,Pe.Z)(function*(n,e,t,r,i){n.Rc=(S,P,N)=>{return($=(0,Pe.Z)(function*(U,K,De,Ae){let Re=K.view.sc(De);Re.zi&&(Re=yield sE(U.localStore,K.query,!1).then(({documents:Ye})=>K.view.sc(Ye,Re)));const Oe=Ae&&Ae.targetChanges.get(K.targetId),Ne=K.view.applyChanges(Re,U.isPrimaryClient,Oe);return IA(U,K.targetId,Ne.cc),Ne.snapshot}),function(U,K,De,Ae){return $.apply(this,arguments)})(n,S,P,N);var $};const a=yield sE(n.localStore,e,!0),c=new lM(e,a.ir),h=c.sc(a.documents),m=Kf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=c.applyChanges(h,n.isPrimaryClient,m);IA(n,t,w.cc);const b=new CO(e,t,c);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),hA.apply(this,arguments)}function xO(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,Pe.Z)(function*(n,e){const t=ft(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!um(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Am(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),T(t.remoteStore,r.targetId),yv(t,r.targetId)}).catch(io))):(yv(t,r.targetId),yield Am(t.localStore,r.targetId,!0))}),fA.apply(this,arguments)}function pA(){return pA=(0,Pe.Z)(function*(n,e,t){const r=kA(n);try{const i=yield function(a,c){const h=ft(a),m=or.now(),w=c.reduce((P,N)=>P.add(N.key),rn());let b,S;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let N=ks(),$=rn();return h.Zi.getEntries(P,w).next(U=>{N=U,N.forEach((K,De)=>{De.isValidDocument()||($=$.add(K))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,N)).next(U=>{b=U;const K=[];for(const De of c){const Ae=Sw(De,b.get(De.key).overlayedDocument);null!=Ae&&K.push(new na(De.key,Ae,fw(Ae.value.mapValue),tr.exists(!0)))}return h.mutationQueue.addMutationBatch(P,m,K,c)}).next(U=>{S=U;const K=U.applyToLocalDocumentSet(b,$);return h.documentOverlayCache.saveOverlays(P,U.batchId,K)})}).then(()=>({batchId:S.batchId,changes:Iw(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let m=a.Tc[a.currentUser.toKey()];m||(m=new er(en)),m=m.insert(c,h),a.Tc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Yd(r,i.changes),yield fl(r.remoteStore)}catch(i){const a=pv(i,"Failed to persist write");t.reject(a)}}),pA.apply(this,arguments)}function dM(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,Pe.Z)(function*(n,e){const t=ft(n);try{const r=yield iE(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.yc.get(a);c&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Ot(c.fc):i.removedDocuments.size>0&&(Ot(c.fc),c.fc=!1))}),yield Yd(t,r,e)}catch(r){yield io(r)}}),gA.apply(this,arguments)}function hM(n,e,t){const r=ft(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(a,c){const h=ft(a);h.onlineState=c;let m=!1;h.queries.forEach((w,b)=>{for(const S of b.listeners)S.Mu(c)&&(m=!0)}),m&&uA(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function RO(n,e,t){return mA.apply(this,arguments)}function mA(){return mA=(0,Pe.Z)(function*(n,e,t){const r=ft(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new er(lt.comparator);c=c.insert(a,Wn.newNoDocument(a,Lt.min()));const h=rn().add(a),m=new N_(Lt.min(),new Map,new er(en),c,h);yield dM(r,m),r.gc=r.gc.remove(a),r.yc.delete(e),DA(r)}else yield Am(r.localStore,e,!1).then(()=>yv(r,e,t)).catch(io)}),mA.apply(this,arguments)}function PO(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Pe.Z)(function*(n,e){const t=ft(n),r=e.batch.batchId;try{const i=yield rE(t.localStore,e);EA(t,r,null),wA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yd(t,i)}catch(i){yield io(i)}}),yA.apply(this,arguments)}function OO(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Pe.Z)(function*(n,e,t){const r=ft(n);try{const i=yield function(a,c){const h=ft(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return h.mutationQueue.lookupMutationBatch(m,c).next(b=>(Ot(null!==b),w=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,w,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>h.localDocuments.getDocuments(m,w))})}(r.localStore,e);EA(r,e,t),wA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yd(r,i)}catch(i){yield io(i)}}),_A.apply(this,arguments)}function vA(){return vA=(0,Pe.Z)(function*(n,e){const t=ft(n);ue(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=ft(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=pv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),vA.apply(this,arguments)}function wA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function EA(n,e,t){const r=ft(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function yv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||fM(n,r)})}function fM(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(T(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),DA(n))}function IA(n,e,t){for(const r of t)r instanceof uM?(n.Ic.addReference(r.key,e),NO(n,r)):r instanceof cM?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||fM(n,r.key)):_t()}function NO(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.mc.add(r),DA(n))}function DA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new lt(fn.fromString(e)),r=n.Ac.next();n.yc.set(r,new TO(t)),n.gc=n.gc.insert(t,r),D(n.remoteStore,new za(Os(jd(t.path)),r,"TargetPurposeLimboResolution",Zi.ct))}}function Yd(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,Pe.Z)(function*(n,e,t){const r=ft(n),i=[],a=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,m)=>{c.push(r.Rc(m,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const b=tE.Li(m.targetId,w);a.push(b)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,Pe.Z)(function*(m,w){const b=ft(m);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>me.forEach(w,P=>me.forEach(P.Fi,N=>b.persistence.referenceDelegate.addReference(S,P.targetId,N)).next(()=>me.forEach(P.Bi,N=>b.persistence.referenceDelegate.removeReference(S,P.targetId,N)))))}catch(S){if(!Ft(S))throw S;Ke("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const P=S.targetId;if(!S.fromCache){const N=b.Ji.get(P),U=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.Ji=b.Ji.insert(P,U)}}}),function(m,w){return h.apply(this,arguments)})(r.localStore,a))}),bA.apply(this,arguments)}function LO(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Pe.Z)(function*(n,e){const t=ft(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield nE(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Ve(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yd(t,r.er)}var i}),CA.apply(this,arguments)}function FO(n,e){const t=ft(n),r=t.yc.get(e);if(r&&r.fc)return rn().add(r.key);{let i=rn();const a=t._c.get(e);if(!a)return i;for(const c of a){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function UO(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Pe.Z)(function*(n,e){const t=ft(n),r=yield sE(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&IA(t,e.targetId,i.cc),i}),TA.apply(this,arguments)}function VO(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Pe.Z)(function*(n,e){const t=ft(n);return jb(t.localStore,e).then(r=>Yd(t,r))}),SA.apply(this,arguments)}function BO(n,e,t,r){return AA.apply(this,arguments)}function AA(){return AA=(0,Pe.Z)(function*(n,e,t,r){const i=ft(n),a=yield function(c,h){const m=ft(c),w=ft(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",b=>w.Sn(b,h).next(S=>S?m.localDocuments.getDocuments(b,S):me.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield fl(i.remoteStore):"acknowledged"===t||"rejected"===t?(EA(i,e,r||null),wA(i,e),h=e,ft(ft(i.localStore).mutationQueue).Cn(h)):_t(),yield Yd(i,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),AA.apply(this,arguments)}function xA(){return xA=(0,Pe.Z)(function*(n,e){const t=ft(n);if(OA(t),kA(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield pM(t,r.toArray());t.vc=!0,yield tA(t.remoteStore,!0);for(const a of i)D(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(yv(t,c),Am(t.localStore,c,!0))),T(t.remoteStore,c)}),yield i,yield pM(t,r),function(a){const c=ft(a);c.yc.forEach((h,m)=>{T(c.remoteStore,m)}),c.Ic.Ts(),c.yc=new Map,c.gc=new er(lt.comparator)}(t),t.vc=!1,yield tA(t.remoteStore,!1)}}),xA.apply(this,arguments)}function pM(n,e,t){return MA.apply(this,arguments)}function MA(){return MA=(0,Pe.Z)(function*(n,e,t){const r=ft(n),i=[],a=[];for(const c of e){let h;const m=r._c.get(c);if(m&&0!==m.length){h=yield Sm(r.localStore,Os(m[0]));for(const w of m){const b=r.wc.get(w),S=yield UO(r,b);S.snapshot&&a.push(S.snapshot)}}else{const w=yield oE(r.localStore,c);h=yield Sm(r.localStore,w),yield dA(r,gM(w),c,!1,h.resumeToken)}i.push(h)}return r.dc.nu(a),i}),MA.apply(this,arguments)}function gM(n){return eb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $O(n){const e=ft(n);return ft(ft(e.localStore).persistence).$i()}function HO(n,e,t,r){return RA.apply(this,arguments)}function RA(){return RA=(0,Pe.Z)(function*(n,e,t,r){const i=ft(n);if(i.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield jb(i.localStore,nb(a[0])),h=N_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ii.EMPTY_BYTE_STRING);yield Yd(i,c,h);break}case"rejected":yield Am(i.localStore,e,!0),yv(i,e,r);break;default:_t()}}),RA.apply(this,arguments)}function zO(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Pe.Z)(function*(n,e,t){const r=OA(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const a=yield oE(r.localStore,i),c=yield Sm(r.localStore,a);yield dA(r,gM(a),c.targetId,!1,c.resumeToken),D(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield Am(r.localStore,i,!1).then(()=>{T(r.remoteStore,i),yv(r,i)}).catch(io))}}),PA.apply(this,arguments)}function OA(n){const e=ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RO.bind(null,e),e.dc.nu=EO.bind(null,e.eventManager),e.dc.Pc=IO.bind(null,e.eventManager),e}function kA(n){const e=ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class _E{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Pe.Z)(function*(){t.serializer=Rm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return dl(this.persistence,new Fb,e.initialUser,this.serializer)}createPersistence(e){return new tv(nv.zs,this.serializer)}createSharedClientState(e){return new Gb}terminate(){var e=this;return(0,Pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NA extends _E{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield kA(r.Vc.syncEngine),yield fl(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return dl(this.persistence,new Fb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Rb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new y_(t,this.persistence);return new $T(e.asyncQueue,r)}createPersistence(e){const t=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yi.withCacheSize(this.cacheSizeBytes):Yi.DEFAULT;return new Lb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ZS(),fE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gb}}class mM extends NA{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Pe.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof dE&&(r.sharedClientState.syncEngine={jr:BO.bind(null,i),zr:HO.bind(null,i),Wr:zO.bind(null,i),$i:$O.bind(null,i),Qr:VO.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Pe.Z)(function*(c){yield function jO(n,e){return xA.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ZS();if(!dE.D(t))throw new Ve(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=np(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _v{initialize(e,t){var r=this;return(0,Pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>hM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,r.syncEngine),yield tA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wO}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),r=new J1(e.databaseInfo);return new nM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>hM(this.syncEngine,h,0),c=WS.D()?new WS:new Q1,new u(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,h,m,w){const b=new SO(r,i,a,c,h,m);return w&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Pe.Z)(function*(t){const r=ft(t);Ke("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield g(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yM(n,e=10240){let t=0;return{read:()=>(0,Pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class WO{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Pe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Pe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new DO(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Pe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Pe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class KO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Pe.Z)(function*(a,c){const h=ft(a),m=j_(h.serializer)+"/documents",w={documents:c.map(N=>$a(h.serializer,N))},b=yield h.vo("BatchGetDocuments",m,w,c.length),S=new Map;b.forEach(N=>{const $=function ES(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=Ha(t,r.found.name),a=Tr(r.found.updateTime),c=r.found.createTime?Tr(r.found.createTime):Lt.min(),h=new Vi({mapValue:{fields:r.found.fields}});return Wn.newFoundDocument(i,a,c,h)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=Ha(t,r.missing),a=Tr(r.readTime);return Wn.newNoDocument(i,a)}(n,e):_t()}(h.serializer,N);S.set($.key.toString(),$)});const P=[];return c.forEach(N=>{const $=S.get(N.toString());Ot(!!$),P.push($)}),P}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=lt.fromPath(i);e.mutations.push(new Aw(a,e.precondition(a)))}),yield(r=(0,Pe.Z)(function*(i,a){const c=ft(i),h=j_(c.serializer)+"/documents",m={writes:a.map(w=>Yf(c.serializer,w))};yield c.Io("Commit",h,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lt.min())?tr.exists(!1):tr.updateTime(t):tr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lt.min()))throw new Ve(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(t)}return tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ZO{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new qb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Pe.Z)(function*(){const t=new KO(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!qn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xw(t)}return!1}}class YO{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ri.UNAUTHENTICATED,this.clientId=ID.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Pe.Z)(function*(h){Ke("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=pv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Kb(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Pe.Z)(function*(a){r.isEqual(a)||(yield nE(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LA.apply(this,arguments)}function FA(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VA(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>iM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>iM(e.remoteStore,a)),n._onlineComponents=e}),UA.apply(this,arguments)}function _M(n){return"FirebaseError"===n.name?n.code===Ce.FAILED_PRECONDITION||n.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function VA(n){return BA.apply(this,arguments)}function BA(){return BA=(0,Pe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_M(t))throw t;ro("Error using user provided cache. Falling back to memory cache: "+t),yield Kb(n,new _E)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield Kb(n,new _E);return n._offlineComponents}),BA.apply(this,arguments)}function Zb(n){return jA.apply(this,arguments)}function jA(){return jA=(0,Pe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield FA(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield FA(n,new _v))),n._onlineComponents}),jA.apply(this,arguments)}function vM(n){return VA(n).then(e=>e.persistence)}function Yb(n){return VA(n).then(e=>e.localStore)}function wM(n){return Zb(n).then(e=>e.remoteStore)}function $A(n){return Zb(n).then(e=>e.syncEngine)}function vv(n){return HA.apply(this,arguments)}function HA(){return HA=(0,Pe.Z)(function*(n){const e=yield Zb(n),t=e.eventManager;return t.onListen=AO.bind(null,e.syncEngine),t.onUnlisten=xO.bind(null,e.syncEngine),t}),HA.apply(this,arguments)}function IM(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(i,a,c,h,m){const w=new Wb({next:S=>{a.enqueueAndForget(()=>oA(i,b));const P=S.docs.has(c);!P&&S.fromCache?m.reject(new Ve(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&h&&"server"===h.source?m.reject(new Ve(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new cA(jd(c.path),w,{includeMetadataChanges:!0,Ku:!0});return iA(i,b)}(yield vv(n),n.asyncQueue,e,t,r)})),r.promise}function DM(n,e,t={}){const r=new qr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function(i,a,c,h,m){const w=new Wb({next:S=>{a.enqueueAndForget(()=>oA(i,b)),S.fromCache&&"server"===h.source?m.reject(new Ve(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),b=new cA(c,w,{includeMetadataChanges:!0,Ku:!0});return iA(i,b)}(yield vv(n),n.asyncQueue,e,t,r)})),r.promise}function bM(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const CM=new Map;function zA(n,e,t){if(!t)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TM(n,e,t,r){if(!0===e&&!0===r)throw new Ve(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SM(n){if(!lt.isDocumentKey(n))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AM(n){if(lt.isDocumentKey(n))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qb(n);throw new Ve(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xM(n,e){if(e<=0)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class MM{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bM(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ve(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ve(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ve(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wD;switch(t.type){case"firstParty":return new FT(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CM.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),CM.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class _s{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class pl extends _s{constructor(e,t,r){super(e,t,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new lt(e))}withConverter(e){return new pl(this.firestore,e,this._path)}}function PM(n,e,...t){if(n=(0,hn.m9)(n),zA("collection","path",e),n instanceof vE){const r=fn.fromString(e,...t);return AM(r),new pl(n,null,r)}{if(!(n instanceof hr||n instanceof pl))throw new Ve(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return AM(r),new pl(n.firestore,null,r)}}function Xb(n,e,...t){if(n=(0,hn.m9)(n),1===arguments.length&&(e=ID.A()),zA("doc","path",e),n instanceof vE){const r=fn.fromString(e,...t);return SM(r),new hr(n,null,new lt(r))}{if(!(n instanceof hr||n instanceof pl))throw new Ve(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return SM(r),new hr(n.firestore,n instanceof pl?n.converter:null,new lt(r))}}function OM(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),(n instanceof hr||n instanceof pl)&&(e instanceof hr||e instanceof pl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function GA(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),n instanceof _s&&e instanceof _s&&n.firestore===e.firestore&&um(n._query,e._query)&&n.converter===e.converter}class ok{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qb(this,"async_queue_retry"),this.Xc=()=>{const t=fE();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Pe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ft(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=rA.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var e=this;return(0,Pe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function qA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ak{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends vE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ok,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kM(this),this._firestoreClient.terminate()}}function oi(n){return n._firestoreClient||kM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kM(n){var e,t,r;const i=n._freezeSettings(),a=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new nS(n._databaseId,h,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,bM(w.experimentalLongPollingOptions),w.useFetchStreams));var h,w;n._firestoreClient=new YO(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function NM(n,e,t){const r=new qr;return n.asyncQueue.enqueue((0,Pe.Z)(function*(){try{yield Kb(n,t),yield FA(n,e),r.resolve()}catch(i){const a=i;if(!_M(a))throw a;ro("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function LM(n){if(n._initialized||n._terminated)throw new Ve(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(ii.fromBase64String(e))}catch(t){throw new Ve(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class km{constructor(e){this._methodName=e}}class Jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const _k=/^__.*__$/;class vk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class FM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class eC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new eC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(UM(this.ca)&&_k.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class wk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rm(e)}ya(e,t,r,i=!1){return new eC({ca:e,methodName:t,ga:r,path:br.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(n){const e=n._freezeSettings(),t=Rm(n._databaseId);return new wk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tC(n,e,t,r,i,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,i);YA("Data must be an object, but it was:",c,r);const h=jM(r,c);let m,w;if(a.merge)m=new ps(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const b=[];for(const S of a.mergeFields){const P=IE(e,S,t);if(!c.contains(P))throw new Ve(Ce.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);HM(b,P)||b.push(P)}m=new ps(b),w=c.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,w=c.fieldTransforms;return new vk(new Vi(h),m,w)}class EE extends km{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof EE}}function VM(n,e,t){return new eC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class WA extends km{_toFieldTransform(e){return new hm(e.path,new Hf)}isEqual(e){return e instanceof WA}}class Ek extends km{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VM(this,e,!0),r=this.pa.map(a=>Lm(a,t)),i=new Hu(r);return new hm(e.path,i)}isEqual(e){return this===e}}class Ik extends km{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=VM(this,e,!0),r=this.pa.map(a=>Lm(a,t)),i=new $d(r);return new hm(e.path,i)}isEqual(e){return this===e}}class Dk extends km{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Gf(e.serializer,ob(e.serializer,this.Ia));return new hm(e.path,t)}isEqual(e){return this===e}}function KA(n,e,t,r){const i=n.ya(1,e,t);YA("Data must be an object, but it was:",i,r);const a=[],c=Vi.empty();Nd(r,(m,w)=>{const b=nC(e,m,t);w=(0,hn.m9)(w);const S=i.da(b);if(w instanceof EE)a.push(b);else{const P=Lm(w,S);null!=P&&(a.push(b),c.set(b,P))}});const h=new ps(a);return new FM(c,h,i.fieldTransforms)}function ZA(n,e,t,r,i,a){const c=n.ya(1,e,t),h=[IE(e,r,t)],m=[i];if(a.length%2!=0)throw new Ve(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)h.push(IE(e,a[P])),m.push(a[P+1]);const w=[],b=Vi.empty();for(let P=h.length-1;P>=0;--P)if(!HM(w,h[P])){const N=h[P];let $=m[P];$=(0,hn.m9)($);const U=c.da(N);if($ instanceof EE)w.push(N);else{const K=Lm($,U);null!=K&&(w.push(N),b.set(N,K))}}const S=new ps(w);return new FM(b,S,c.fieldTransforms)}function BM(n,e,t,r=!1){return Lm(t,n.ya(r?4:3,e))}function Lm(n,e){if($M(n=(0,hn.m9)(n)))return YA("Unsupported field value:",e,n),jM(n,e);if(n instanceof km)return function(t,r){if(!UM(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let h=Lm(c,r.wa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ob(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=or.fromDate(t);return{timestampValue:zu(r.serializer,i)}}if(t instanceof or){const i=new or(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:zu(r.serializer,i)}}if(t instanceof Jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:U_(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Qb(t)}`)}(n,e)}function jM(n,e){const t={};return JT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nd(n,(r,i)=>{const a=Lm(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function $M(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof or||n instanceof Jb||n instanceof gl||n instanceof hr||n instanceof km)}function YA(n,e,t){if(!$M(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Qb(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function IE(n,e,t){if((e=(0,hn.m9)(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return nC(n,e);throw rC("Field path arguments must be of type string or ",n,!1,void 0,t)}const bk=new RegExp("[~\\*/\\[\\]]");function nC(n,e,t){if(e.search(bk)>=0)throw rC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qd(...e.split("."))._internalPath}catch{throw rC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new Ve(Ce.INVALID_ARGUMENT,h+n+m)}function HM(n,e){return n.some(t=>t.isEqual(e))}class DE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ck extends DE{data(){return super.data()}}function iC(n,e){return"string"==typeof e?nC(n,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function zM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QA{}class bE extends QA{}function ip(n,e,...t){let r=[];e instanceof QA&&r.push(e),r=r.concat(t),function(i){const a=i.filter(h=>h instanceof wv).length,c=i.filter(h=>h instanceof CE).length;if(a>1||a>0&&c>0)throw new Ve(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class CE extends bE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new CE(e,t,r)}_apply(e){const t=this._parse(e);return KM(e._query,t),new _s(e.firestore,e.converter,ww(e._query,t))}_parse(e){const t=Nm(e.firestore);return function(i,a,c,h,m,w,b){let S;if(m.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){WM(b,w);const P=[];for(const N of b)P.push(qM(h,i,N));S={arrayValue:{values:P}}}else S=qM(h,i,b)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||WM(b,w),S=BM(c,"where",b,"in"===w||"not-in"===w);return on.create(m,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class wv extends QA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Sn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const h of c)KM(a,h),a=ww(a,h)}(e._query,t),new _s(e.firestore,e.converter,ww(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class XA extends bE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new XA(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ff(i,a);return function(h,m){if(null===T_(h)){const w=S_(h);null!==w&&ZM(0,w,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ju(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class sC extends bE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new sC(e,t,r)}_apply(e){return new _s(e.firestore,e.converter,A_(e._query,this._limit,this._limitType))}}class oC extends bE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new oC(e,t,r)}_apply(e){const t=GM(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class aC extends bE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new aC(e,t,r)}_apply(e){const t=GM(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function GM(n,e,t,r){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof DE)return function(i,a,c,h,m){if(!h)throw new Ve(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const b of Vf(i))if(b.field.isKeyField())w.push(Fd(a,h.key));else{const S=h.data.field(b.field);if(E_(S))throw new Ve(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=b.field.canonicalString();throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(S)}return new rl(w,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nm(n.firestore);return function(a,c,h,m,w,b){const S=a.explicitOrderBy;if(w.length>S.length)throw new Ve(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let N=0;N<w.length;N++){const $=w[N];if(S[N].field.isKeyField()){if("string"!=typeof $)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof $}`);if(!vw(a)&&-1!==$.indexOf("/"))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${$}' contains a slash.`);const U=a.path.child(fn.fromString($));if(!lt.isDocumentKey(U))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const K=new lt(U);P.push(Fd(c,K))}else{const U=BM(h,m,$);P.push(U)}}return new rl(P,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qM(n,e,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new Ve(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vw(e)&&-1!==t.indexOf("/"))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!lt.isDocumentKey(r))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fd(n,new lt(r))}if(t instanceof hr)return Fd(n,t._key);throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qb(t)}.`)}function WM(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KM(n,e){if(e.isInequality()){const r=S_(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=T_(n);null!==a&&ZM(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ve(Ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ZM(n,e,t){if(!t.isEqual(e))throw new Ve(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class JA{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Nd(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Jb(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=I_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const t=el(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Ot(SS(r));const i=new Bu(r.get(1),r.get(3)),a=new lt(r.popFirst(5));return i.isEqual(t)||Dr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function uC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kk extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class Fm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xd extends DE{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new TE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(iC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class TE extends Xd{data(e={}){return super.data(e)}}class sp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new TE(this._firestore,this._userDataWriter,r.key,r,new Fm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new TE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new TE(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,w=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:Lk(c.type),doc:h,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function QM(n,e){return n instanceof Xd&&e instanceof Xd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof sp&&e instanceof sp&&n._firestore===e._firestore&&GA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class op extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function XM(n,e,t){n=mn(n,hr);const r=mn(n.firestore,fr),i=uC(n.converter,e,t);return Ev(r,[tC(Nm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,tr.none())])}function JM(n,e,t,...r){n=mn(n,hr);const i=mn(n.firestore,fr),a=Nm(i);let c;return c="string"==typeof(e=(0,hn.m9)(e))||e instanceof Qd?ZA(a,"updateDoc",n._key,e,t,r):KA(a,"updateDoc",n._key,e),Ev(i,[c.toMutation(n._key,tr.exists(!0))])}function eR(n,...e){var t,r,i;n=(0,hn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||qA(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(qA(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[c+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let m,w,b;if(n instanceof hr)w=mn(n.firestore,fr),b=jd(n._key.path),m={next:S=>{e[c]&&e[c](ex(w,n,S))},error:e[c+1],complete:e[c+2]};else{const S=mn(n,_s);w=mn(S.firestore,fr),b=S._query;const P=new op(w);m={next:N=>{e[c]&&e[c](new sp(w,P,S,N))},error:e[c+1],complete:e[c+2]},zM(n._query)}return function(S,P,N,$){const U=new Wb($),K=new cA(P,U,N);return S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return iA(yield vv(S),K)})),()=>{U.Dc(),S.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return oA(yield vv(S),K)}))}}(oi(w),b,h,m)}function Ev(n,e){return function(t,r){const i=new qr;return t.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function MO(n,e,t){return pA.apply(this,arguments)}(yield $A(t),r,i)})),i.promise}(oi(n),e)}function ex(n,e,t){const r=t.docs.get(e._key),i=new op(n);return new Xd(n,i,e._key,r,new Fm(t.hasPendingWrites,t.fromCache),e.converter)}const eN={maxAttempts:5};class tR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nm(e)}set(e,t,r){this._verifyNotCommitted();const i=ap(e,this._firestore),a=uC(i.converter,t,r),c=tC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,tr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=ap(e,this._firestore);let c;return c="string"==typeof(t=(0,hn.m9)(t))||t instanceof Qd?ZA(this._dataReader,"WriteBatch.update",a._key,t,r,i):KA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ap(e,this._firestore);return this._mutations=this._mutations.concat(new Wf(t._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ap(n,e){if((n=(0,hn.m9)(n)).firestore!==e)throw new Ve(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nm(e)}get(e){const t=ap(e,this._firestore),r=new kk(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const a=i[0];if(a.isFoundDocument())return new DE(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new DE(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=ap(e,this._firestore),a=uC(i.converter,t,r),c=tC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=ap(e,this._firestore);let c;return c="string"==typeof(t=(0,hn.m9)(t))||t instanceof Qd?ZA(this._dataReader,"Transaction.update",a._key,t,r,i):KA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=ap(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ap(e,this._firestore),r=new op(this._firestore);return super.get(e).then(i=>new Xd(this._firestore,r,t._key,i._document,new Fm(!1,!1),t.converter))}}function tx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function rR(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function iR(){if(!function eS(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pf=Hc.SDK_VERSION,(0,Hc._registerComponent)(new uf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new fr(new NT(t.getProvider("auth-internal")),new UT(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ve(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(h.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Hc.registerVersion)(_D,"3.12.1",n),(0,Hc.registerVersion)(_D,"3.12.1","esm2017")}();class SE{constructor(e){this._delegate=e}static fromBase64String(e){return iR(),new SE(gl.fromBase64String(e))}static fromUint8Array(e){return rR(),new SE(gl.fromUint8Array(e))}toBase64(){return iR(),this._delegate.toBase64()}toUint8Array(){return rR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nx(n){return function lN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dN{enableIndexedDbPersistence(e,t){return function ck(n,e){LM(n=mn(n,fr));const t=oi(n);if(t._uninitializedComponentsProvider)throw new Ve(Ce.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new _v;return NM(t,i,new NA(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function lk(n){LM(n=mn(n,fr));const e=oi(n);if(e._uninitializedComponentsProvider)throw new Ve(Ce.FAILED_PRECONDITION,"SDK cache is already specified.");ro("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new _v;return NM(e,r,new mM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function dk(n){if(n._initialized&&!n._terminated)throw new Ve(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Pe.Z)(function*(){try{yield(t=(0,Pe.Z)(function*(r){if(!Io.D())return Promise.resolve();const i=r+"main";yield Io.delete(i)}),function(r){return t.apply(this,arguments)})(np(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ro("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function RM(n,e,t,r={}){var i;const a=(n=mn(n,vE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ro("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=ri.MOCK_USER;else{c=(0,hn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ve(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ri(m)}n._authCredentials=new kT(new tw(c,h))}}(this._delegate,e,t,r)}enableNetwork(){return function fk(n){return function QO(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield vM(n),t=yield wM(n);return e.setNetworkEnabled(!0),function(r){const i=ft(r);return i.vu.delete(0),l(i)}(t)}))}(oi(n=mn(n,fr)))}(this._delegate)}disableNetwork(){return function pk(n){return function XO(n){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){const e=yield vM(n),t=yield wM(n);return e.setNetworkEnabled(!1),(r=(0,Pe.Z)(function*(i){const a=ft(i);a.vu.add(0),yield g(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(oi(n=mn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,TM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function hk(n){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return function kO(n,e){return vA.apply(this,arguments)}(yield $A(e),t)})),t.promise}(oi(n=mn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function Gk(n,e){return function tk(n,e){const t=new Wb(e);return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield vv(n),i=t,ft(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return r=yield vv(n),i=t,void ft(r).ku.delete(i);var r,i}))}}(oi(n=mn(n,fr)),qA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Iv(this,PM(this._delegate,e))}catch(t){throw so(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,Xb(this._delegate,e))}catch(t){throw so(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oo(this,function sk(n,e){if(n=mn(n,vE),zA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(t=e,new ju(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw so(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nN(n,e,t){n=mn(n,fr);const r=Object.assign(Object.assign({},eN),t);return function(i){if(i.maxAttempts<1)throw new Ve(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const h=new qr;return i.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){const m=yield function EM(n){return Zb(n).then(e=>e.datastore)}(i);new ZO(i.asyncQueue,m,c,a,h).run()})),h.promise}(oi(n),i=>e(new tN(n,i)),r)}(this._delegate,t=>e(new oR(this,t)))}batch(){return oi(this._delegate),new aR(new tR(this._delegate,e=>Ev(this._delegate,e)))}loadBundle(e){return function gk(n,e){const t=oi(n=mn(n,fr)),r=new ak;return function nk(n,e,t,r){const i=function(a,c){let h;return h="string"==typeof a?fb().encode(a):a,m=function(m,w){if(m instanceof Uint8Array)return yM(m,w);if(m instanceof ArrayBuffer)return yM(new Uint8Array(m),w);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new WO(m,c);var m}(t,Rm(e));n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){!function GO(n,e,t){const r=ft(n);var i;(i=(0,Pe.Z)(function*(a,c,h){try{const m=yield c.getMetadata();if(yield function(P,N){const $=ft(P),U=Tr(N.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",K=>$.qs.getBundleMetadata(K,N.id)).then(K=>!!K&&K.createTime.compareTo(U)>=0)}(a.localStore,m))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(P=m).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);h._updateProgress(aM(m));const w=new bO(m,a.localStore,c.serializer);let b=yield c.bc();for(;b;){const P=yield w.zu(b);P&&h._updateProgress(P),b=yield c.bc()}const S=yield w.complete();return yield Yd(a,S.Ju,void 0),yield function(P,N){const $=ft(P);return $.persistence.runTransaction("Save bundle","readwrite",U=>$.qs.saveBundleMetadata(U,N))}(a.localStore,m),h._completeWith(S.progress),Promise.resolve(S.Hu)}catch(m){return ro("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var P}),function(a,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield $A(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function mk(n,e){return function rk(n,e){return n.asyncQueue.enqueue((0,Pe.Z)(function*(){return function(t,r){const i=ft(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield Yb(n),e)}))}(oi(n=mn(n,fr)),e).then(t=>t?new _s(n,null,t.query):null)}(this._delegate,e).then(t=>t?new oo(this,t):null)}}class cC extends JA{constructor(e){super(),this.firestore=e}convertBytes(e){return new SE(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class oR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cC(e)}get(e){const t=Vm(e);return this._delegate.get(t).then(r=>new AE(this._firestore,new Xd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vm(e);return r?(tx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vm(e);return this._delegate.delete(t),this}}class aR{constructor(e){this._delegate=e}set(e,t,r){const i=Vm(e);return r?(tx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Um{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new TE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Um.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Um(e,new cC(e),t),i.set(t,a)),a}}Um.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new hr(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new Ga(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Iv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Iv(this.firestore,PM(this._delegate,e))}catch(t){throw so(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.m9)(e))instanceof hr&&OM(this._delegate,e)}set(e,t){t=tx("DocumentReference.set",t);try{return t?XM(this._delegate,e,t):XM(this._delegate,e)}catch(r){throw so(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?JM(this._delegate,e):JM(this._delegate,e,t,...r)}catch(i){throw so(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Hk(n){return Ev(mn(n.firestore,fr),[new Wf(n._key,tr.none())])}(this._delegate)}onSnapshot(...e){const t=uR(e),r=cR(e,i=>new AE(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Uk(n){n=mn(n,hr);const e=mn(n.firestore,fr),t=oi(e),r=new op(e);return function JO(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(i,a,c){try{const h=yield function(m,w){const b=ft(m);return b.persistence.runTransaction("read document","readonly",S=>b.localDocuments.getDocument(S,w))}(i,a);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ve(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=pv(h,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Yb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Xd(e,r,n._key,i,new Fm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Vk(n){n=mn(n,hr);const e=mn(n.firestore,fr);return IM(oi(e),n._key,{source:"server"}).then(t=>ex(e,n,t))}(this._delegate):function Fk(n){n=mn(n,hr);const e=mn(n.firestore,fr);return IM(oi(e),n._key).then(t=>ex(e,n,t))}(this._delegate),t.then(r=>new AE(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}function so(n,e,t){return n.message=n.message.replace(e,t),n}function uR(n){for(const e of n)if("object"==typeof e&&!nx(e))return e;return{}}function cR(n,e){var t,r;let i;return i=nx(n[0])?n[0]:nx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class AE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QM(this._delegate,e._delegate)}}class xE extends AE{data(e){const t=this._delegate.data(e);return function vD(n,e){n||_t()}(void 0!==t),t}}class oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cC(e)}where(e,t,r){try{return new oo(this.firestore,ip(this._delegate,function Tk(n,e,t){const r=e,i=iC("where",n);return CE._create(i,r,t)}(e,t,r)))}catch(i){throw so(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oo(this.firestore,ip(this._delegate,function Sk(n,e="asc"){const t=e,r=iC("orderBy",n);return XA._create(r,t)}(e,t)))}catch(r){throw so(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oo(this.firestore,ip(this._delegate,function Ak(n){return xM("limit",n),sC._create("limit",n,"F")}(e)))}catch(t){throw so(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oo(this.firestore,ip(this._delegate,function xk(n){return xM("limitToLast",n),sC._create("limitToLast",n,"L")}(e)))}catch(t){throw so(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oo(this.firestore,ip(this._delegate,function Mk(...n){return oC._create("startAt",n,!0)}(...e)))}catch(t){throw so(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oo(this.firestore,ip(this._delegate,function Rk(...n){return oC._create("startAfter",n,!1)}(...e)))}catch(t){throw so(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oo(this.firestore,ip(this._delegate,function Pk(...n){return aC._create("endBefore",n,!1)}(...e)))}catch(t){throw so(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oo(this.firestore,ip(this._delegate,function Ok(...n){return aC._create("endAt",n,!0)}(...e)))}catch(t){throw so(t,"endAt()","Query.endAt()")}}isEqual(e){return GA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function jk(n){n=mn(n,_s);const e=mn(n.firestore,fr),t=oi(e),r=new op(e);return function ek(n,e){const t=new qr;return n.asyncQueue.enqueueAndForget((0,Pe.Z)(function*(){return(r=(0,Pe.Z)(function*(i,a,c){try{const h=yield sE(i,a,!0),m=new lM(a,h.ir),w=m.sc(h.documents),b=m.applyChanges(w,!1);c.resolve(b.snapshot)}catch(h){const m=pv(h,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield Yb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new sp(e,r,n,i))}(this._delegate):"server"===e?.source?function $k(n){n=mn(n,_s);const e=mn(n.firestore,fr),t=oi(e),r=new op(e);return DM(t,n._query,{source:"server"}).then(i=>new sp(e,r,n,i))}(this._delegate):function Bk(n){n=mn(n,_s);const e=mn(n.firestore,fr),t=oi(e),r=new op(e);return zM(n._query),DM(t,n._query).then(i=>new sp(e,r,n,i))}(this._delegate),t.then(r=>new rx(this.firestore,new sp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uR(e),r=cR(e,i=>new rx(this.firestore,new sp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eR(this._delegate,t,r)}withConverter(e){return new oo(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}class fN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xE(this._firestore,r))})}isEqual(e){return QM(this._delegate,e._delegate)}}class Iv extends oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?Xb(this._delegate):Xb(this._delegate,e))}catch(t){throw so(t,"doc()","CollectionReference.doc()")}}add(e){return function zk(n,e){const t=mn(n.firestore,fr),r=Xb(n),i=uC(n.converter,e);return Ev(t,[tC(Nm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return OM(this._delegate,e._delegate)}withConverter(e){return new Iv(this.firestore,this._delegate.withConverter(e?Um.getInstance(this.firestore,e):null))}}function Vm(n){return mn(n,hr)}class ix{constructor(...e){this._delegate=new Qd(...e)}static documentId(){return new ix(br.keyField().canonicalString())}isEqual(e){return(e=(0,hn.m9)(e))instanceof Qd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iN(){return new WA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bm(e)}static delete(){const e=function rN(){return new EE("deleteField")}();return e._methodName="FieldValue.delete",new Bm(e)}static arrayUnion(...e){const t=function sN(...n){return new Ek("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bm(t)}static arrayRemove(...e){const t=function oN(...n){return new Ik("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bm(t)}static increment(e){const t=function aN(n){return new Dk("increment",n)}(e);return t._methodName="FieldValue.increment",new Bm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pN={Firestore:sR,GeoPoint:Jb,Timestamp:or,Blob:SE,Transaction:oR,WriteBatch:aR,DocumentReference:Ga,DocumentSnapshot:AE,Query:oo,QueryDocumentSnapshot:xE,QuerySnapshot:rx,CollectionReference:Iv,FieldPath:ix,FieldValue:Bm,setLogLevel:function hN(n){!function p_(n){Fu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function mN(n){(function gN(n,e){n.INTERNAL.registerComponent(new uf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pN)))})(n,(e,t)=>new sR(e,t,new dN)),n.registerVersion("@firebase/firestore-compat","0.3.10")}(hT.Z);var yN=V(6451),lC=V(5363),_N=V(6063);class vN extends cr.x{constructor(e=1/0,t=1/0,r=_N.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)h=m;h&&r.splice(0,h+1)}}}var wN=V(3099);function lR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,wN.B)({connector:()=>new vN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function dR(n,e){return(0,Ql.m)(e)?dr(()=>n,e):dr(()=>n)}var sx=V(9468);V(259);const ax=new Map,fR={activated:!1,tokenObservers:[]},CN={initialized:!1,enabled:!1};function Wr(n){return ax.get(n)||Object.assign({},fR)}function hC(){return CN}class RN{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Pe.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function PN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cx(n){if(!Wr(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function gC(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,Pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,a)}catch(S){throw vs.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw vs.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw vs.create("fetch-parse-error",{originalErrorMessage:S?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const w=1e3*Number(m[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+w,issuedAtTimeMillis:b}}),dx.apply(this,arguments)}function gR(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ME="firebase-app-check-store";let mC=null;function yR(){return mC||(mC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ME,{keyPath:"compositeKey"})}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t?.message}))}}),mC)}function hx(){return hx=(0,Pe.Z)(function*(n,e){const r=(yield yR()).transaction(ME,"readwrite"),a=r.objectStore(ME).put({compositeKey:n,value:e});return new Promise((c,h)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var w;h(vs.create("storage-set",{originalErrorMessage:null===(w=m.target.error)||void 0===w?void 0:w.message}))}})}),hx.apply(this,arguments)}const RE=new vd.Yd("@firebase/app-check");function gx(n,e){return(0,hn.hl)()?function VN(n,e){return function _R(n,e){return hx.apply(this,arguments)}(function wR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{RE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yx(){return hC().enabled}function _x(){return vx.apply(this,arguments)}function vx(){return vx=(0,Pe.Z)(function*(){const n=hC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vx.apply(this,arguments)}const GN={error:"UNKNOWN_ERROR"};function qN(n){return hn.US.encodeString(JSON.stringify(n),!1)}function yC(n){return wx.apply(this,arguments)}function wx(){return wx=(0,Pe.Z)(function*(n,e=!1){const t=n.app;cx(t);const r=Wr(t);let a,i=r.token;if(i&&!Dv(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Dv(m)?i=m:yield gx(t,void 0))}if(!e&&i&&Dv(i))return{token:i.token};let h,c=!1;if(yx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gC(gR(t,yield _x()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield gx(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Wr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?RE.warn(m.message):RE.error(m),a=m}return i?a?h=Dv(i)?{token:i.token,internalError:a}:bR(a):(h={token:i.token},r.token=i,yield gx(t,i)):h=bR(a),c&&DR(t,h),h}),wx.apply(this,arguments)}function Ex(){return Ex=(0,Pe.Z)(function*(n){const e=n.app;cx(e);const{provider:t}=Wr(e);if(yx()){const r=yield _x(),{token:i}=yield gC(gR(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),Ex.apply(this,arguments)}function Dx(n,e){const t=Wr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function IR(n){const{app:e}=n,t=Wr(e);let r=t.tokenRefresher;r||(r=function WN(n){const{app:e}=n;return new RN((0,Pe.Z)(function*(){let r;if(r=Wr(e).token?yield yC(n,!0):yield yC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function DR(n,e){const t=Wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Dv(n){return n.expireTimeMillis-Date.now()>0}function bR(n){return{token:qN(GN),error:n}}class KN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wr(this.app);for(const t of e)Dx(this.app,t.next);return Promise.resolve()}}const PR="app-check-internal";!function uL(){(0,Hc._registerComponent)(new uf.wA("app-check",n=>function ZN(n,e){return new KN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PR).initialize()})),(0,Hc._registerComponent)(new uf.wA(PR,n=>function YN(n){return{getToken:e=>yC(n,e),getLimitedUseToken:()=>function ER(n){return Ex.apply(this,arguments)}(n),addTokenListener:e=>function Ix(n,e,t,r){const{app:i}=n,a=Wr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Dv(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),IR(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>IR(n))}(n,"INTERNAL",e),removeTokenListener:e=>Dx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hc.registerVersion)("@firebase/app-check","0.8.0")}();class Sx{constructor(){return(0,Oi.vb)("app-check")}}typeof window<"u"&&window;var fL=V(9260);const kR=new _.OlP("angularfire2.auth.use-emulator"),NR=new _.OlP("angularfire2.auth.settings"),LR=new _.OlP("angularfire2.auth.tenant-id"),FR=new _.OlP("angularfire2.auth.langugage-code"),UR=new _.OlP("angularfire2.auth.use-device-language"),VR=new _.OlP("angularfire.auth.persistence"),BR=(n,e,t,r,i,a,c,h)=>(0,Wo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[w,b]of Object.entries(c))m.settings[w]=b;return h&&m.setPersistence(h),m},[t,r,i,a,c,h]);let jR=(()=>{class n{constructor(t,r,i,a,c,h,m,w,b,S,P,N){const $=new cr.x,U=xt(void 0).pipe((0,lC.Q)(c.outsideAngular),dr(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2644)))),(0,qt.U)(()=>(0,Wo.on)(t,a,r)),(0,qt.U)(K=>BR(K,a,h,w,b,S,m,P)),lR({bufferSize:1,refCount:!1}));if(tc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xt(null);else{U.pipe(as()).subscribe();const De=U.pipe(dr(Oe=>Oe.getRedirectResult().then(Ne=>Ne,()=>null)),Oi.iC,lR({bufferSize:1,refCount:!1})),Ae=U.pipe(dr(Oe=>new Ks.y(Ne=>({unsubscribe:a.runOutsideAngular(()=>Oe.onAuthStateChanged(Ye=>Ne.next(Ye),Ye=>Ne.error(Ye),()=>Ne.complete()))})))),Re=U.pipe(dr(Oe=>new Ks.y(Ne=>({unsubscribe:a.runOutsideAngular(()=>Oe.onIdTokenChanged(Ye=>Ne.next(Ye),Ye=>Ne.error(Ye),()=>Ne.complete()))}))));this.authState=De.pipe(dR(Ae),(0,sx.R)(c.outsideAngular),(0,lC.Q)(c.insideAngular)),this.user=De.pipe(dR(Re),(0,sx.R)(c.outsideAngular),(0,lC.Q)(c.insideAngular)),this.idToken=this.user.pipe(dr(Oe=>Oe?(0,En.D)(Oe.getIdToken()):xt(null))),this.idTokenResult=this.user.pipe(dr(Oe=>Oe?(0,En.D)(Oe.getIdTokenResult()):xt(null))),this.credential=(0,yN.T)(De,$,this.authState.pipe(fi(Oe=>!Oe))).pipe((0,qt.U)(Oe=>Oe?.user?Oe:null),(0,sx.R)(c.outsideAngular),(0,lC.Q)(c.insideAngular))}return(0,Wo.pX)(this,U,a,{spy:{apply:(K,De,Ae)=>{(K.startsWith("signIn")||K.startsWith("createUser"))&&Ae.then(Re=>$.next(Re))}}})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Wo.Dh),_.LFG(Wo.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Oi.HU),_.LFG(kR,8),_.LFG(NR,8),_.LFG(LR,8),_.LFG(FR,8),_.LFG(UR,8),_.LFG(VR,8),_.LFG(Sx,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function $R(n,e){return function gL(n,e=AI.z){return new Ks.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function xx(n,e){return $R(n,e).pipe((0,qt.U)(t=>({payload:t,type:"query"})))}function vC(n,e){return xx(n,e).pipe(Ca(void 0),p0(),(0,qt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const m=i.find(b=>b.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(b=>b.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),a}))}function HR(n,e,t){return vC(n,t).pipe(fo((r,i)=>function yL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _L(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Mx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function cT(n,e=Ia.y){return n=n??lT,(0,Hr.e)((t,r)=>{let i,a=!0;t.subscribe((0,_r.x)(r,c=>{const h=e(c);(a||!n(i,h))&&(a=!1,i=h,r.next(c))}))})}(),(0,qt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Mx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function zR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class GR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ca(void 0),p0(),fi(([r,i])=>i.length>0||!r),(0,qt.U)(([r,i])=>i),Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(fo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zR(e);return HR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Oi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(Oi.iC)}add(e){return this.ref.add(e)}doc(e){return new qR(this.ref.doc(e),this.afs)}}class qR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=ZR(r,t);return new GR(i,a,this.afs)}snapshotChanges(){return function mL(n,e){return $R(n,e).pipe(Ca(void 0),p0(),(0,qt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,En.D)(this.ref.get(e)).pipe(Oi.iC)}}class vL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vC(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),fi(t=>t.length>0),Oi.iC):vC(this.query,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(fo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zR(e);return HR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Oi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(Oi.iC)}}const WR=new _.OlP("angularfire2.enableFirestorePersistence"),KR=new _.OlP("angularfire2.firestore.persistenceSettings"),wL=new _.OlP("angularfire2.firestore.settings"),EL=new _.OlP("angularfire2.firestore.use-emulator");function ZR(n,e=(t=>t)){return{query:e(n),ref:n}}let YR=(()=>{class n{constructor(t,r,i,a,c,h,m,w,b,S,P,N,$,U,K,De,Ae){this.schedulers=m;const Re=(0,Wo.on)(t,h,r),Oe=b;S&&BR(Re,h,P,$,U,K,N,De),[this.firestore,this.persistenceEnabled$]=(0,Wo.cc)(`${Re.name}.firestore`,"AngularFirestore",Re.name,()=>{const Ne=h.runOutsideAngular(()=>Re.firestore());if(a&&Ne.settings(a),Oe&&Ne.useEmulator(...Oe),i&&!tc(c)){const Ye=()=>{try{return(0,En.D)(Ne.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ot){return typeof console<"u"&&console.warn(ot),xt(!1)}};return[Ne,h.runOutsideAngular(Ye)]}return[Ne,xt(!1)]},[a,Oe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=ZR(i,r),h=this.schedulers.ngZone.run(()=>a);return new GR(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new vL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new qR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Wo.Dh),_.LFG(Wo.xv,8),_.LFG(WR,8),_.LFG(wL,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Oi.HU),_.LFG(KR,8),_.LFG(EL,8),_.LFG(jR,8),_.LFG(kR,8),_.LFG(NR,8),_.LFG(LR,8),_.LFG(FR,8),_.LFG(UR,8),_.LFG(VR,8),_.LFG(Sx,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IL=(()=>{class n{constructor(){fL.Z.registerVersion("angularfire",Oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WR,useValue:!0},{provide:KR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[YR]}),n})(),DL=(()=>{class n{constructor(t){this.firestore=t,this.softskillCollection=t.collection("soft-skills"),this.technologyCollection=this.firestore.collection("technologies")}getTechnologies(){return this.technologies=this.technologyCollection.valueChanges({idField:"id"}),this.technologies}getSoftSkills(){return this.softskills=this.softskillCollection.valueChanges({idField:"id"}),this.softskills}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(YR))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var QR=V(3137);function Jd(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function XR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Rx,Ls,vi,Pr,Wa,Fx,Ux,iP,aP,xv,VE,ra={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},bv={duration:.5,overwrite:!1,delay:0},qa=1e8,nr=1e-8,Px=2*Math.PI,bL=Px/4,CL=0,JR=Math.sqrt,TL=Math.cos,SL=Math.sin,Qi=function(e){return"string"==typeof e},Kr=function(e){return"function"==typeof e},eh=function(e){return"number"==typeof e},Ox=function(e){return typeof e>"u"},ml=function(e){return"object"==typeof e},bo=function(e){return!1!==e},kx=function(){return typeof window<"u"},wC=function(e){return Kr(e)||Qi(e)},eP="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Fs=Array.isArray,Nx=/(?:-?\.?\d|\.)+/gi,tP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Cv=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Lx=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nP=/[+-]=-?[.\d]+/,rP=/[^,'"\[\]\s]+/gi,AL=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ia={},EC={},sP=function(e){return(EC=$m(e,ia))&&Ao},Vx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},IC=function(e,t){return!t&&console.warn(e)},oP=function(e,t){return e&&(ia[e]=t)&&EC&&(EC[e]=t)||ia},PE=function(){return 0},xL={suppressEvents:!0,isStart:!0,kill:!1},DC={suppressEvents:!0,kill:!1},ML={suppressEvents:!0},Bx={},up=[],jx={},sa={},$x={},uP=30,bC=[],Hx="",zx=function(e){var r,i,t=e[0];if(ml(t)||Kr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=bC.length;i--&&!bC[i].targetTest(t););r=bC[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new FP(e[i],r)))||e.splice(i,1);return e},jm=function(e){return e._gsap||zx(Ya(e))[0]._gsap},cP=function(e,t,r){return(r=e[t])&&Kr(r)?e[t]():Ox(r)&&e.getAttribute&&e.getAttribute(t)||r},Co=function(e,t){return(e=e.split(",")).forEach(t)||e},ai=function(e){return Math.round(1e5*e)/1e5||0},ws=function(e){return Math.round(1e7*e)/1e7||0},Tv=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+i:"-"===r?e-i:"*"===r?e*i:e/i},RL=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},CC=function(){var r,i,e=up.length,t=up.slice(0);for(jx={},up.length=0,r=0;r<e;r++)(i=t[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},lP=function(e,t,r,i){up.length&&!Ls&&CC(),e.render(t,r,i||Ls&&t<0&&(e._initted||e._startAt)),up.length&&!Ls&&CC()},dP=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(rP).length<2?t:Qi(e)?e.trim():e},hP=function(e){return e},Ka=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},$m=function(e,t){for(var r in t)e[r]=t[r];return e},fP=function n(e,t){for(var r in t)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=ml(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},TC=function(e,t){var i,r={};for(i in e)i in t||(r[i]=e[i]);return r},OE=function(e){var t=e.parent||Pr,r=e.keyframes?function(e){return function(t,r){for(var i in r)i in t||"duration"===i&&e||"ease"===i||(t[i]=r[i])}}(Fs(e.keyframes)):Ka;if(bo(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},pP=function(e,t,r,i,a){void 0===r&&(r="_first"),void 0===i&&(i="_last");var h,c=e[i];if(a)for(h=t[a];c&&c[a]>h;)c=c._prev;return c?(t._next=c._next,c._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=c,t.parent=t._dp=e,t},SC=function(e,t,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a=t._prev,c=t._next;a?a._next=c:e[r]===t&&(e[r]=c),c?c._prev=a:e[i]===t&&(e[i]=a),t._next=t._prev=t.parent=null},cp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},Hm=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},kL=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Gx=function(e,t,r,i){return e._startAt&&(Ls?e._startAt.revert(DC):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},NL=function n(e){return!e||e._ts&&n(e.parent)},gP=function(e){return e._repeat?Sv(e._tTime,e=e.duration()+e._rDelay)*e:0},Sv=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},AC=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},xC=function(e){return e._end=ws(e._start+(e._tDur/Math.abs(e._ts||e._rts||nr)||0))},MC=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ws(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),xC(e),r._dirty||Hm(r,e)),e},mP=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=AC(e.rawTime(),t),(!t._dur||NE(0,t.totalDuration(),r)-t._tTime>nr)&&t.render(r,!0)),Hm(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-nr}},yl=function(e,t,r,i){return t.parent&&cp(t),t._start=ws((eh(r)?r:r||e!==Pr?Za(e,r,t):e._time)+t._delay),t._end=ws(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),pP(e,t,"_first","_last",e._sort?"_start":0),qx(t)||(e._recent=t),i||mP(e,t),e._ts<0&&MC(e,e._tTime),e},yP=function(e,t){return(ia.ScrollTrigger||Vx("scrollTrigger",t))&&ia.ScrollTrigger.create(t,e)},_P=function(e,t,r,i,a){return t1(e,t,a),e._initted?!r&&e._pt&&!Ls&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&aP!==oa.frame?(up.push(e),e._lazy=[a,i],1):void 0:1},LL=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},qx=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Av=function(e,t,r,i){var a=e._repeat,c=ws(t)||0,h=e._tTime/e._tDur;return h&&!i&&(e._time*=c/e._dur),e._dur=c,e._tDur=a?a<0?1e10:ws(c*(a+1)+e._rDelay*a):c,h>0&&!i&&MC(e,e._tTime=e._tDur*h),e.parent&&xC(e),r||Hm(e.parent,e),e},vP=function(e){return e instanceof To?Hm(e):Av(e,e._dur)},VL={_start:0,endTime:PE,totalDuration:PE},Za=function n(e,t,r){var h,m,w,i=e.labels,a=e._recent||VL,c=e.duration()>=qa?a.endTime(!1):e._dur;return Qi(t)&&(isNaN(t)||t in i)?(m=t.charAt(0),w="%"===t.substr(-1),h=t.indexOf("="),"<"===m||">"===m?(h>=0&&(t=t.replace(/=/,"")),("<"===m?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(w?(h<0?a:r).totalDuration()/100:1)):h<0?(t in i||(i[t]=c),i[t]):(m=parseFloat(t.charAt(h-1)+t.substr(h+1)),w&&r&&(m=m/100*(Fs(r)?r[0]:r).totalDuration()),h>1?n(e,t.substr(0,h-1),r)+m:c+m)):null==t?c:+t},kE=function(e,t,r){var h,m,i=eh(t[1]),a=(i?2:1)+(e<2?0:1),c=t[a];if(i&&(c.duration=t[1]),c.parent=r,e){for(h=c,m=r;m&&!("immediateRender"in h);)h=m.vars.defaults||{},m=bo(m.vars.inherit)&&m.parent;c.immediateRender=bo(h.immediateRender),e<2?c.runBackwards=1:c.startAt=t[a-1]}return new Bi(t[0],c,t[a+1])},lp=function(e,t){return e||0===e?t(e):t},NE=function(e,t,r){return r<e?e:r>t?t:r},Us=function(e,t){return Qi(e)&&(t=AL.exec(e))?t[1]:""},Wx=[].slice,wP=function(e,t){return e&&ml(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ml(e[0]))&&!e.nodeType&&e!==Wa},Ya=function(e,t,r){return vi&&!t&&vi.selector?vi.selector(e):!Qi(e)||r||!Fx&&Mv()?Fs(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach(function(i){var a;return Qi(i)&&!t||wP(i,1)?(a=r).push.apply(a,Ya(i)):r.push(i)})||r}(e,r):wP(e)?Wx.call(e,0):e?[e]:[]:Wx.call((t||Ux).querySelectorAll(e),0)},Kx=function(e){return e=Ya(e)[0]||IC("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ya(t,r.querySelectorAll?r:r===e?IC("Invalid scope")||Ux.createElement("div"):e)}},EP=function(e){return e.sort(function(){return.5-Math.random()})},IP=function(e){if(Kr(e))return e;var t=ml(e)?e:{each:e},r=zm(t.ease),i=t.from||0,a=parseFloat(t.base)||0,c={},h=i>0&&i<1,m=isNaN(i)||h,w=t.axis,b=i,S=i;return Qi(i)?b=S={center:.5,edges:.5,end:1}[i]||0:!h&&m&&(b=i[0],S=i[1]),function(P,N,$){var De,Ae,Re,Oe,Ne,Ye,ot,dt,at,U=($||t).length,K=c[U];if(!K){if(!(at="auto"===t.grid?0:(t.grid||[1,qa])[1])){for(ot=-qa;ot<(ot=$[at++].getBoundingClientRect().left)&&at<U;);at--}for(K=c[U]=[],De=m?Math.min(at,U)*b-.5:i%at,Ae=at===qa?0:m?U*S/at-.5:i/at|0,ot=0,dt=qa,Ye=0;Ye<U;Ye++)Re=Ye%at-De,Oe=Ae-(Ye/at|0),K[Ye]=Ne=w?Math.abs("y"===w?Oe:Re):JR(Re*Re+Oe*Oe),Ne>ot&&(ot=Ne),Ne<dt&&(dt=Ne);"random"===i&&EP(K),K.max=ot-dt,K.min=dt,K.v=U=(parseFloat(t.amount)||parseFloat(t.each)*(at>U?U-1:w?"y"===w?U/at:at:Math.max(at,U/at))||0)*("edges"===i?-1:1),K.b=U<0?a-U:a,K.u=Us(t.amount||t.each)||0,r=r&&U<0?kP(r):r}return U=(K[P]-K.min)/K.max||0,ws(K.b+(r?r(U):U)*K.v)+K.u}},Zx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=ws(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(eh(r)?0:Us(r))}},DP=function(e,t){var i,a,r=Fs(e);return!r&&ml(e)&&(i=r=e.radius||qa,e.values?(e=Ya(e.values),(a=!eh(e[0]))&&(i*=i)):e=Zx(e.increment)),lp(t,r?Kr(e)?function(c){return a=e(c),Math.abs(a-c)<=i?a:c}:function(c){for(var P,N,h=parseFloat(a?c.x:c),m=parseFloat(a?c.y:0),w=qa,b=0,S=e.length;S--;)(P=a?(P=e[S].x-h)*P+(N=e[S].y-m)*N:Math.abs(e[S]-h))<w&&(w=P,b=S);return b=!i||w<=i?e[b]:c,a||b===c||eh(c)?b:b+Us(c)}:Zx(e))},bP=function(e,t,r,i){return lp(Fs(e)?!t:!0===r?!!(r=0):!i,function(){return Fs(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*i)/i})},CP=function(e,t,r){return lp(r,function(i){return e[~~t(i)]})},LE=function(e){for(var i,a,c,h,t=0,r="";~(i=e.indexOf("random(",t));)c=e.indexOf(")",i),h="["===e.charAt(i+7),a=e.substr(i+7,c-i-7).match(h?rP:Nx),r+=e.substr(t,i-t)+bP(h?a:+a[0],h?0:+a[1],+a[2]||1e-5),t=c+1;return r+e.substr(t,e.length-t)},TP=function(e,t,r,i,a){var c=t-e,h=i-r;return lp(a,function(m){return r+((m-e)/c*h||0)})},SP=function(e,t,r){var c,h,m,i=e.labels,a=qa;for(c in i)(h=i[c]-t)<0==!!r&&h&&a>(h=Math.abs(h))&&(m=c,a=h);return m},Qa=function(e,t,r){var m,w,b,i=e.vars,a=i[t],c=vi,h=e._ctx;if(a)return m=i[t+"Params"],w=i.callbackScope||e,r&&up.length&&CC(),h&&(vi=h),b=m?a.apply(w,m):a.call(w),vi=c,b},FE=function(e){return cp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ls),e.progress()<1&&Qa(e,"onInterrupt"),e},AP=[],xP=function(e){if(kx()){var t=(e=!e.name&&e.default||e).name,r=Kr(e),i=t&&!r&&e.init?function(){this._props=[]}:e,a={init:PE,render:i1,add:Jx,kill:cF,modifier:uF,rawVars:0},c={targetTest:0,get:0,getSetter:r1,aliases:{},register:0};if(Mv(),e!==i){if(sa[t])return;Ka(i,Ka(TC(e,a),c)),$m(i.prototype,$m(a,TC(e,c))),sa[i.prop=t]=i,e.targetTest&&(bC.push(i),Bx[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}oP(t,i),e.register&&e.register(Ao,i,So)}else AP.push(e)},rr=255,UE={aqua:[0,rr,rr],lime:[0,rr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,rr],navy:[0,0,128],white:[rr,rr,rr],olive:[128,128,0],yellow:[rr,rr,0],orange:[rr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[rr,0,0],pink:[rr,192,203],cyan:[0,rr,rr],transparent:[rr,rr,rr,0]},Yx=function(e,t,r){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*rr+.5|0},MP=function(e,t,r){var a,c,h,m,w,b,S,P,N,$,i=e?eh(e)?[e>>16,e>>8&rr,e&rr]:0:UE.black;if(!i){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),UE[e])i=UE[e];else if("#"===e.charAt(0)){if(e.length<6&&(a=e.charAt(1),c=e.charAt(2),h=e.charAt(3),e="#"+a+a+c+c+h+h+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(i=parseInt(e.substr(1,6),16))>>16,i>>8&rr,i&rr,parseInt(e.substr(7),16)/255];i=[(e=parseInt(e.substr(1),16))>>16,e>>8&rr,e&rr]}else if("hsl"===e.substr(0,3))if(i=$=e.match(Nx),t){if(~e.indexOf("="))return i=e.match(tP),r&&i.length<4&&(i[3]=1),i}else m=+i[0]%360/360,w=+i[1]/100,a=2*(b=+i[2]/100)-(c=b<=.5?b*(w+1):b+w-b*w),i.length>3&&(i[3]*=1),i[0]=Yx(m+1/3,a,c),i[1]=Yx(m,a,c),i[2]=Yx(m-1/3,a,c);else i=e.match(Nx)||UE.transparent;i=i.map(Number)}return t&&!$&&(a=i[0]/rr,c=i[1]/rr,h=i[2]/rr,b=((S=Math.max(a,c,h))+(P=Math.min(a,c,h)))/2,S===P?m=w=0:(N=S-P,w=b>.5?N/(2-S-P):N/(S+P),m=S===a?(c-h)/N+(c<h?6:0):S===c?(h-a)/N+2:(a-c)/N+4,m*=60),i[0]=~~(m+.5),i[1]=~~(100*w+.5),i[2]=~~(100*b+.5)),r&&i.length<4&&(i[3]=1),i},RP=function(e){var t=[],r=[],i=-1;return e.split(dp).forEach(function(a){var c=a.match(Cv)||[];t.push.apply(t,c),r.push(i+=c.length+1)}),t.c=r,t},PP=function(e,t,r){var m,w,b,S,i="",a=(e+i).match(dp),c=t?"hsla(":"rgba(",h=0;if(!a)return e;if(a=a.map(function(P){return(P=MP(P,t,1))&&c+(t?P[0]+","+P[1]+"%,"+P[2]+"%,"+P[3]:P.join(","))+")"}),r&&(b=RP(e),(m=r.c).join(i)!==b.c.join(i)))for(S=(w=e.replace(dp,"1").split(Cv)).length-1;h<S;h++)i+=w[h]+(~m.indexOf(h)?a.shift()||c+"0,0,0,0)":(b.length?b:a.length?a:r).shift());if(!w)for(S=(w=e.split(dp)).length-1;h<S;h++)i+=w[h]+a[h];return i+w[S]},dp=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in UE)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),KL=/hsl[a]?\(/,OP=function(e){var r,t=e.join(" ");if(dp.lastIndex=0,dp.test(t))return r=KL.test(t),e[1]=PP(e[1],r),e[0]=PP(e[0],r,RP(e[1])),!0},oa=function(){var m,w,b,S,P,N,n=Date.now,e=500,t=33,r=n(),i=r,a=1e3/240,c=a,h=[],$=function U(K){var Re,Oe,Ne,Ye,De=n()-i,Ae=!0===K;if(De>e&&(r+=De-t),((Re=(Ne=(i+=De)-r)-c)>0||Ae)&&(Ye=++S.frame,P=Ne-1e3*S.time,S.time=Ne/=1e3,c+=Re+(Re>=a?4:a-Re),Oe=1),Ae||(m=w(U)),Oe)for(N=0;N<h.length;N++)h[N](Ne,P,Ye,K)};return S={time:0,frame:0,tick:function(){$(!0)},deltaRatio:function(K){return P/(1e3/(K||60))},wake:function(){iP&&(!Fx&&kx()&&(Wa=Fx=window,Ux=Wa.document||{},ia.gsap=Ao,(Wa.gsapVersions||(Wa.gsapVersions=[])).push(Ao.version),sP(EC||Wa.GreenSockGlobals||!Wa.gsap&&Wa||{}),b=Wa.requestAnimationFrame,AP.forEach(xP)),m&&S.sleep(),w=b||function(K){return setTimeout(K,c-1e3*S.time+1|0)},VE=1,$(2))},sleep:function(){(b?Wa.cancelAnimationFrame:clearTimeout)(m),VE=0,w=PE},lagSmoothing:function(K,De){e=K||1/0,t=Math.min(De||33,e)},fps:function(K){c=1e3*S.time+(a=1e3/(K||240))},add:function(K,De,Ae){var Re=De?function(Oe,Ne,Ye,ot){K(Oe,Ne,Ye,ot),S.remove(Re)}:K;return S.remove(K),h[Ae?"unshift":"push"](Re),Mv(),Re},remove:function(K,De){~(De=h.indexOf(K))&&h.splice(De,1)&&N>=De&&N--},_listeners:h}}(),Mv=function(){return!VE&&oa.wake()},_n={},ZL=/^[\d.\-M][\d.\-,\s]/,YL=/["']/g,QL=function(e){for(var h,m,w,t={},r=e.substr(1,e.length-3).split(":"),i=r[0],a=1,c=r.length;a<c;a++)m=r[a],h=a!==c-1?m.lastIndexOf(","):m.length,w=m.substr(0,h),t[i]=isNaN(w)?w.replace(YL,"").trim():+w,i=m.substr(h+1).trim();return t},kP=function(e){return function(t){return 1-e(1-t)}},NP=function n(e,t){for(var i,r=e._first;r;)r instanceof To?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},zm=function(e,t){return e&&(Kr(e)?e:_n[e]||function(e){var t=(e+"").split("("),r=_n[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[QL(t[1])]:function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)}(e).split(",").map(dP)):_n._CE&&ZL.test(e)?_n._CE("",e):r}(e))||t},Gm=function(e,t,r,i){void 0===r&&(r=function(m){return 1-t(1-m)}),void 0===i&&(i=function(m){return m<.5?t(2*m)/2:1-t(2*(1-m))/2});var c,a={easeIn:t,easeOut:r,easeInOut:i};return Co(e,function(h){for(var m in _n[h]=ia[h]=a,_n[c=h.toLowerCase()]=r,a)_n[c+("easeIn"===m?".in":"easeOut"===m?".out":".inOut")]=_n[h+"."+m]=a[m]}),a},LP=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Qx=function n(e,t,r){var i=t>=1?t:1,a=(r||(e?.3:.45))/(t<1?t:1),c=a/Px*(Math.asin(1/i)||0),h=function(b){return 1===b?1:i*Math.pow(2,-10*b)*SL((b-c)*a)+1},m="out"===e?h:"in"===e?function(w){return 1-h(1-w)}:LP(h);return a=Px/a,m.config=function(w,b){return n(e,w,b)},m},Xx=function n(e,t){void 0===t&&(t=1.70158);var r=function(c){return c?--c*c*((t+1)*c+t)+1:0},i="out"===e?r:"in"===e?function(a){return 1-r(1-a)}:LP(r);return i.config=function(a){return n(e,a)},i};Co("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Gm(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(2*r,t)/2:1-Math.pow(2*(1-r),t)/2})}),_n.Linear.easeNone=_n.none=_n.Linear.easeIn,Gm("Elastic",Qx("in"),Qx("out"),Qx()),function(n,e){var a=function(h){return h<.36363636363636365?n*h*h:h<.7272727272727273?n*Math.pow(h-1.5/e,2)+.75:h<.9090909090909092?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};Gm("Bounce",function(c){return 1-a(1-c)},a)}(7.5625,2.75),Gm("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Gm("Circ",function(n){return-(JR(1-n*n)-1)}),Gm("Sine",function(n){return 1===n?1:1-TL(n*bL)}),Gm("Back",Xx("in"),Xx("out"),Xx()),_n.SteppedEase=_n.steps=ia.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,i=e+(t?0:1),a=t?1:0;return function(h){return((i*NE(0,.99999999,h)|0)+a)*r}}},bv.ease=_n["quad.out"],Co("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Hx+=n+","+n+"Params,"});var FP=function(e,t){this.id=CL++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:cP,this.set=t?t.getSetter:r1},Rv=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Av(this,+t.duration,1,1),this.data=t.data,vi&&(this._ctx=vi,vi.data.push(this)),VE||oa.wake()}var e=n.prototype;return e.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Av(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Mv(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(MC(this,r),!a._dp||a.parent||mP(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&yl(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===nr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),lP(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+gP(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+gP(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,i):this._repeat?Sv(this._tTime,a)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-nr?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?AC(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-nr?0:this._rts,this.totalTime(NE(-Math.abs(this._delay),this._tDur,i),!0),xC(this),kL(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mv(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==nr&&(this._tTime-=nr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&yl(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(bo(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?AC(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){void 0===r&&(r=ML);var i=Ls;return Ls=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),"nested"!==this.data&&!1!==r.kill&&this.kill(),Ls=i,this},e.globalTime=function(r){for(var i=this,a=arguments.length?r:i.rawTime();i;)a=i._start+a/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,vP(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,vP(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Za(this,r),bo(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,bo(i))},e.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-nr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-nr,this},e.isActive=function(){var a,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=i&&a<this.endTime(!0)-nr))},e.eventCallback=function(r,i,a){var c=this.vars;return arguments.length>1?(i?(c[r]=i,a&&(c[r+"Params"]=a),"onUpdate"===r&&(this._onUpdate=i)):delete c[r],this):c[r]},e.then=function(r){var i=this;return new Promise(function(a){var c=Kr(r)?r:hP,h=function(){var w=i.then;i.then=null,Kr(c)&&(c=c(i))&&(c.then||c===i)&&(i.then=w),a(c),i.then=w};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?h():i._prom=h})},e.kill=function(){FE(this)},n}();Ka(Rv.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-nr,_prom:0,_ps:!1,_rts:1});var To=function(n){function e(r,i){var a;return void 0===r&&(r={}),(a=n.call(this,r)||this).labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=bo(r.sortChildren),Pr&&yl(r.parent||Pr,Jd(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&yP(Jd(a),r.scrollTrigger),a}XR(e,n);var t=e.prototype;return t.to=function(i,a,c){return kE(0,arguments,this),this},t.from=function(i,a,c){return kE(1,arguments,this),this},t.fromTo=function(i,a,c,h){return kE(2,arguments,this),this},t.set=function(i,a,c){return a.duration=0,a.parent=this,OE(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Bi(i,a,Za(this,c),1),this},t.call=function(i,a,c){return yl(this,Bi.delayedCall(0,i,a),c)},t.staggerTo=function(i,a,c,h,m,w,b){return c.duration=a,c.stagger=c.stagger||h,c.onComplete=w,c.onCompleteParams=b,c.parent=this,new Bi(i,c,Za(this,m)),this},t.staggerFrom=function(i,a,c,h,m,w,b){return c.runBackwards=1,OE(c).immediateRender=bo(c.immediateRender),this.staggerTo(i,a,c,h,m,w,b)},t.staggerFromTo=function(i,a,c,h,m,w,b,S){return h.startAt=c,OE(h).immediateRender=bo(h.immediateRender),this.staggerTo(i,a,h,m,w,b,S)},t.render=function(i,a,c){var P,N,$,U,K,De,Ae,Re,Oe,Ne,Ye,ot,h=this._time,m=this._dirty?this.totalDuration():this._tDur,w=this._dur,b=i<=0?0:ws(i),S=this._zTime<0!=i<0&&(this._initted||!w);if(this!==Pr&&b>m&&i>=0&&(b=m),b!==this._tTime||c||S){if(h!==this._time&&w&&(b+=this._time-h,i+=this._time-h),P=b,Oe=this._start,De=!(Re=this._ts),S&&(w||(h=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(Ye=this._yoyo,K=w+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*K+i,a,c);if(P=ws(b%K),b===m?(U=this._repeat,P=w):((U=~~(b/K))&&U===b/K&&(P=w,U--),P>w&&(P=w)),Ne=Sv(this._tTime,K),!h&&this._tTime&&Ne!==U&&this._tTime-Ne*K-this._dur<=0&&(Ne=U),Ye&&1&U&&(P=w-P,ot=1),U!==Ne&&!this._lock){var dt=Ye&&1&Ne,at=dt===(Ye&&1&U);if(U<Ne&&(dt=!dt),h=dt?0:w,this._lock=1,this.render(h||(ot?0:ws(U*K)),a,!w)._lock=0,this._tTime=b,!a&&this.parent&&Qa(this,"onRepeat"),this.vars.repeatRefresh&&!ot&&(this.invalidate()._lock=1),h&&h!==this._time||De!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(w=this._dur,m=this._tDur,at&&(this._lock=2,this.render(h=dt?w:-1e-4,!0),this.vars.repeatRefresh&&!ot&&this.invalidate()),this._lock=0,!this._ts&&!De)return this;NP(this,ot)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Ae=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,ws(h),ws(P)),Ae&&(b-=P-(P=Ae._start))),this._tTime=b,this._time=P,this._act=!Re,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,h=0),!h&&P&&!a&&!U&&(Qa(this,"onStart"),this._tTime!==b))return this;if(P>=h&&i>=0)for(N=this._first;N;){if($=N._next,(N._act||P>=N._start)&&N._ts&&Ae!==N){if(N.parent!==this)return this.render(i,a,c);if(N.render(N._ts>0?(P-N._start)*N._ts:(N._dirty?N.totalDuration():N._tDur)+(P-N._start)*N._ts,a,c),P!==this._time||!this._ts&&!De){Ae=0,$&&(b+=this._zTime=-nr);break}}N=$}else{N=this._last;for(var Pn=i<0?i:P;N;){if($=N._prev,(N._act||Pn<=N._end)&&N._ts&&Ae!==N){if(N.parent!==this)return this.render(i,a,c);if(N.render(N._ts>0?(Pn-N._start)*N._ts:(N._dirty?N.totalDuration():N._tDur)+(Pn-N._start)*N._ts,a,c||Ls&&(N._initted||N._startAt)),P!==this._time||!this._ts&&!De){Ae=0,$&&(b+=this._zTime=Pn?-nr:nr);break}}N=$}}if(Ae&&!a&&(this.pause(),Ae.render(P>=h?0:-nr)._zTime=P>=h?1:-1,this._ts))return this._start=Oe,xC(this),this.render(i,a,c);this._onUpdate&&!a&&Qa(this,"onUpdate",!0),(b===m&&this._tTime>=this.totalDuration()||!b&&h)&&(Oe===this._start||Math.abs(Re)!==Math.abs(this._ts))&&(this._lock||((i||!w)&&(b===m&&this._ts>0||!b&&this._ts<0)&&cp(this,1),!a&&(!(i<0)||h)&&(b||h||!m)&&(Qa(this,b===m&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<m&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,a){var c=this;if(eh(a)||(a=Za(this,a,i)),!(i instanceof Rv)){if(Fs(i))return i.forEach(function(h){return c.add(h,a)}),this;if(Qi(i))return this.addLabel(i,a);if(!Kr(i))return this;i=Bi.delayedCall(0,i)}return this!==i?yl(this,i,a):this},t.getChildren=function(i,a,c,h){void 0===i&&(i=!0),void 0===a&&(a=!0),void 0===c&&(c=!0),void 0===h&&(h=-qa);for(var m=[],w=this._first;w;)w._start>=h&&(w instanceof Bi?a&&m.push(w):(c&&m.push(w),i&&m.push.apply(m,w.getChildren(!0,a,c)))),w=w._next;return m},t.getById=function(i){for(var a=this.getChildren(1,1,1),c=a.length;c--;)if(a[c].vars.id===i)return a[c]},t.remove=function(i){return Qi(i)?this.removeLabel(i):Kr(i)?this.killTweensOf(i):(SC(this,i),i===this._recent&&(this._recent=this._last),Hm(this))},t.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ws(oa.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},t.addLabel=function(i,a){return this.labels[i]=Za(this,a),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,a,c){var h=Bi.delayedCall(0,a||PE,c);return h.data="isPause",this._hasPause=1,yl(this,h,Za(this,i))},t.removePause=function(i){var a=this._first;for(i=Za(this,i);a;)a._start===i&&"isPause"===a.data&&cp(a),a=a._next},t.killTweensOf=function(i,a,c){for(var h=this.getTweensOf(i,c),m=h.length;m--;)hp!==h[m]&&h[m].kill(i,a);return this},t.getTweensOf=function(i,a){for(var b,c=[],h=Ya(i),m=this._first,w=eh(a);m;)m instanceof Bi?RL(m._targets,h)&&(w?(!hp||m._initted&&m._ts)&&m.globalTime(0)<=a&&m.globalTime(m.totalDuration())>a:!a||m.isActive())&&c.push(m):(b=m.getTweensOf(h,a)).length&&c.push.apply(c,b),m=m._next;return c},t.tweenTo=function(i,a){a=a||{};var N,c=this,h=Za(c,i),w=a.startAt,b=a.onStart,S=a.onStartParams,P=a.immediateRender,$=Bi.to(c,Ka({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:a.duration||Math.abs((h-(w&&"time"in w?w.time:c._time))/c.timeScale())||nr,onStart:function(){if(c.pause(),!N){var K=a.duration||Math.abs((h-(w&&"time"in w?w.time:c._time))/c.timeScale());$._dur!==K&&Av($,K,0,1).render($._time,!0,!0),N=1}b&&b.apply($,S||[])}},a));return P?$.render(0):$},t.tweenFromTo=function(i,a,c){return this.tweenTo(a,Ka({startAt:{time:Za(this,i)}},c))},t.recent=function(){return this._recent},t.nextLabel=function(i){return void 0===i&&(i=this._time),SP(this,Za(this,i))},t.previousLabel=function(i){return void 0===i&&(i=this._time),SP(this,Za(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+nr)},t.shiftChildren=function(i,a,c){void 0===c&&(c=0);for(var w,h=this._first,m=this.labels;h;)h._start>=c&&(h._start+=i,h._end+=i),h=h._next;if(a)for(w in m)m[w]>=c&&(m[w]+=i);return Hm(this)},t.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){void 0===i&&(i=!0);for(var c,a=this._first;a;)c=a._next,this.remove(a),a=c;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Hm(this)},t.totalDuration=function(i){var w,b,S,a=0,c=this,h=c._last,m=qa;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-i:i));if(c._dirty){for(S=c.parent;h;)w=h._prev,h._dirty&&h.totalDuration(),(b=h._start)>m&&c._sort&&h._ts&&!c._lock?(c._lock=1,yl(c,h,b-h._delay,1)._lock=0):m=b,b<0&&h._ts&&(a-=b,(!S&&!c._dp||S&&S.smoothChildTiming)&&(c._start+=b/c._ts,c._time-=b,c._tTime-=b),c.shiftChildren(-b,!1,-1/0),m=0),h._end>a&&h._ts&&(a=h._end),h=w;Av(c,c===Pr&&c._time>a?c._time:a,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(i){if(Pr._ts&&(lP(Pr,AC(i,Pr)),aP=oa.frame),oa.frame>=uP){uP+=ra.autoSleep||120;var a=Pr._first;if((!a||!a._ts)&&ra.autoSleep&&oa._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||oa.sleep()}}},e}(Rv);Ka(To.prototype,{_lock:0,_hasPause:0,_forcing:0});var hp,e1,eF=function(e,t,r,i,a,c,h){var S,P,N,$,U,K,De,Ae,m=new So(this._pt,e,t,0,1,HP,null,a),w=0,b=0;for(m.b=r,m.e=i,r+="",(De=~(i+="").indexOf("random("))&&(i=LE(i)),c&&(c(Ae=[r,i],e,t),r=Ae[0],i=Ae[1]),P=r.match(Lx)||[];S=Lx.exec(i);)$=S[0],U=i.substring(w,S.index),N?N=(N+1)%5:"rgba("===U.substr(-5)&&(N=1),$!==P[b++]&&(K=parseFloat(P[b-1])||0,m._pt={_next:m._pt,p:U||1===b?U:",",s:K,c:"="===$.charAt(1)?Tv(K,$)-K:parseFloat($)-K,m:N&&N<4?Math.round:0},w=Lx.lastIndex);return m.c=w<i.length?i.substring(w,i.length):"",m.fp=h,(nP.test(i)||De)&&(m.e=0),this._pt=m,m},Jx=function(e,t,r,i,a,c,h,m,w,b){Kr(i)&&(i=i(a||0,e,c));var $,S=e[t],P="get"!==r?r:Kr(S)?w?e[t.indexOf("set")||!Kr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](w):e[t]():S,N=Kr(S)?w?sF:jP:n1;if(Qi(i)&&(~i.indexOf("random(")&&(i=LE(i)),"="===i.charAt(1)&&(($=Tv(P,i)+(Us(P)||0))||0===$)&&(i=$)),!b||P!==i||e1)return isNaN(P*i)||""===i?(!S&&!(t in e)&&Vx(t,i),eF.call(this,e,t,P,i,N,m||ra.stringFilter,w)):($=new So(this._pt,e,t,+P||0,i-(P||0),"boolean"==typeof S?aF:$P,0,N),w&&($.fp=w),h&&$.modifier(h,this,e),this._pt=$)},UP=function(e,t,r,i,a,c){var h,m,w,b;if(sa[e]&&!1!==(h=new sa[e]).init(a,h.rawVars?t[e]:function(e,t,r,i,a){if(Kr(e)&&(e=BE(e,a,t,r,i)),!ml(e)||e.style&&e.nodeType||Fs(e)||eP(e))return Qi(e)?BE(e,a,t,r,i):e;var h,c={};for(h in e)c[h]=BE(e[h],a,t,r,i);return c}(t[e],i,a,c,r),r,i,c)&&(r._pt=m=new So(r._pt,a,e,0,1,h.render,h,0,h.priority),r!==xv))for(w=r._ptLookup[r._targets.indexOf(a)],b=h._props.length;b--;)w[h._props[b]]=m;return h},t1=function n(e,t,r){var ot,dt,at,Pn,Ln,Zr,wi,Ei,kr,ji,Ii,ao,Ym,i=e.vars,a=i.ease,c=i.startAt,h=i.immediateRender,m=i.lazy,w=i.onUpdate,b=i.onUpdateParams,S=i.callbackScope,P=i.runBackwards,N=i.yoyoEase,$=i.keyframes,U=i.autoRevert,K=e._dur,De=e._startAt,Ae=e._targets,Re=e.parent,Oe=Re&&"nested"===Re.data?Re.vars.targets:Ae,Ne="auto"===e._overwrite&&!Rx,Ye=e.timeline;if(Ye&&(!$||!a)&&(a="none"),e._ease=zm(a,bv.ease),e._yEase=N?kP(zm(!0===N?a:N,bv.ease)):0,N&&e._yoyo&&!e._repeat&&(N=e._yEase,e._yEase=e._ease,e._ease=N),e._from=!Ye&&!!i.runBackwards,!Ye||$&&!i.stagger){if(ao=(Ei=Ae[0]?jm(Ae[0]).harness:0)&&i[Ei.prop],ot=TC(i,Bx),De&&(De._zTime<0&&De.progress(1),t<0&&P&&h&&!U?De.render(-1,!0):De.revert(P&&K?DC:xL),De._lazy=0),c){if(cp(e._startAt=Bi.set(Ae,Ka({data:"isStart",overwrite:!1,parent:Re,immediateRender:!0,lazy:!De&&bo(m),startAt:null,delay:0,onUpdate:w,onUpdateParams:b,callbackScope:S,stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ls||!h&&!U)&&e._startAt.revert(DC),h&&K&&t<=0&&r<=0)return void(t&&(e._zTime=t))}else if(P&&K&&!De)if(t&&(h=!1),at=Ka({overwrite:!1,data:"isFromStart",lazy:h&&!De&&bo(m),immediateRender:h,stagger:0,parent:Re},ot),ao&&(at[Ei.prop]=ao),cp(e._startAt=Bi.set(Ae,at)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ls?e._startAt.revert(DC):e._startAt.render(-1,!0)),e._zTime=t,h){if(!t)return}else n(e._startAt,nr,nr);for(e._pt=e._ptCache=0,m=K&&bo(m)||m&&!K,dt=0;dt<Ae.length;dt++){if(wi=(Ln=Ae[dt])._gsap||zx(Ae)[dt]._gsap,e._ptLookup[dt]=ji={},jx[wi.id]&&up.length&&CC(),Ii=Oe===Ae?dt:Oe.indexOf(Ln),Ei&&!1!==(kr=new Ei).init(Ln,ao||ot,e,Ii,Oe)&&(e._pt=Pn=new So(e._pt,Ln,kr.name,0,1,kr.render,kr,0,kr.priority),kr._props.forEach(function(Qm){ji[Qm]=Pn}),kr.priority&&(Zr=1)),!Ei||ao)for(at in ot)sa[at]&&(kr=UP(at,ot,e,Ii,Ln,Oe))?kr.priority&&(Zr=1):ji[at]=Pn=Jx.call(e,Ln,at,"get",ot[at],Ii,Oe,0,i.stringFilter);e._op&&e._op[dt]&&e.kill(Ln,e._op[dt]),Ne&&e._pt&&(hp=e,Pr.killTweensOf(Ln,ji,e.globalTime(t)),Ym=!e.parent,hp=0),e._pt&&m&&(jx[wi.id]=1)}Zr&&zP(e),e._onInit&&e._onInit(e)}e._onUpdate=w,e._initted=(!e._op||e._pt)&&!Ym,$&&t<=0&&Ye.render(qa,!0,!0)},iF=function(e,t,r,i){var c,h,a=t.ease||i||"power1.inOut";if(Fs(t))h=r[e]||(r[e]=[]),t.forEach(function(m,w){return h.push({t:w/(t.length-1)*100,v:m,e:a})});else for(c in t)h=r[c]||(r[c]=[]),"ease"===c||h.push({t:parseFloat(e),v:t[c],e:a})},BE=function(e,t,r,i,a){return Kr(e)?e.call(t,r,i,a):Qi(e)&&~e.indexOf("random(")?LE(e):e},VP=Hx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",BP={};Co(VP+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return BP[n]=1});var Bi=function(n){function e(r,i,a,c){var h;"number"==typeof i&&(a.duration=i,i=a,a=null);var Oe,Ne,Ye,ot,dt,at,Pn,Ln,m=(h=n.call(this,c?i:OE(i))||this).vars,w=m.duration,b=m.delay,S=m.immediateRender,P=m.stagger,N=m.overwrite,$=m.keyframes,U=m.defaults,K=m.scrollTrigger,De=m.yoyoEase,Ae=i.parent||Pr,Re=(Fs(r)||eP(r)?eh(r[0]):"length"in i)?[r]:Ya(r);if(h._targets=Re.length?zx(Re):IC("GSAP target "+r+" not found. https://greensock.com",!ra.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=N,$||P||wC(w)||wC(b)){if(i=h.vars,(Oe=h.timeline=new To({data:"nested",defaults:U||{},targets:Ae&&"nested"===Ae.data?Ae.vars.targets:Re})).kill(),Oe.parent=Oe._dp=Jd(h),Oe._start=0,P||wC(w)||wC(b)){if(ot=Re.length,Pn=P&&IP(P),ml(P))for(dt in P)~VP.indexOf(dt)&&(Ln||(Ln={}),Ln[dt]=P[dt]);for(Ne=0;Ne<ot;Ne++)(Ye=TC(i,BP)).stagger=0,De&&(Ye.yoyoEase=De),Ln&&$m(Ye,Ln),at=Re[Ne],Ye.duration=+BE(w,Jd(h),Ne,at,Re),Ye.delay=(+BE(b,Jd(h),Ne,at,Re)||0)-h._delay,!P&&1===ot&&Ye.delay&&(h._delay=b=Ye.delay,h._start+=b,Ye.delay=0),Oe.to(at,Ye,Pn?Pn(Ne,at,Re):0),Oe._ease=_n.none;Oe.duration()?w=b=0:h.timeline=0}else if($){OE(Ka(Oe.vars.defaults,{ease:"none"})),Oe._ease=zm($.ease||i.ease||"none");var wi,Ei,kr,Zr=0;if(Fs($))$.forEach(function(ji){return Oe.to(Re,ji,">")}),Oe.duration();else{for(dt in Ye={},$)"ease"===dt||"easeEach"===dt||iF(dt,$[dt],Ye,$.easeEach);for(dt in Ye)for(wi=Ye[dt].sort(function(ji,Ii){return ji.t-Ii.t}),Zr=0,Ne=0;Ne<wi.length;Ne++)(kr={ease:(Ei=wi[Ne]).e,duration:(Ei.t-(Ne?wi[Ne-1].t:0))/100*w})[dt]=Ei.v,Oe.to(Re,kr,Zr),Zr+=kr.duration;Oe.duration()<w&&Oe.to({},{duration:w-Oe.duration()})}}w||h.duration(w=Oe.duration())}else h.timeline=0;return!0===N&&!Rx&&(hp=Jd(h),Pr.killTweensOf(Re),hp=0),yl(Ae,Jd(h),a),i.reversed&&h.reverse(),i.paused&&h.paused(!0),(S||!w&&!$&&h._start===ws(Ae._time)&&bo(S)&&NL(Jd(h))&&"nested"!==Ae.data)&&(h._tTime=-nr,h.render(Math.max(0,-b)||0)),K&&yP(Jd(h),K),h}XR(e,n);var t=e.prototype;return t.render=function(i,a,c){var P,N,$,U,K,De,Ae,Re,Oe,h=this._time,m=this._tDur,w=this._dur,b=i<0,S=i>m-nr&&!b?m:i<nr?0:i;if(w){if(S!==this._tTime||!i||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==b){if(P=S,Re=this.timeline,this._repeat){if(U=w+this._rDelay,this._repeat<-1&&b)return this.totalTime(100*U+i,a,c);if(P=ws(S%U),S===m?($=this._repeat,P=w):(($=~~(S/U))&&$===S/U&&(P=w,$--),P>w&&(P=w)),(De=this._yoyo&&1&$)&&(Oe=this._yEase,P=w-P),K=Sv(this._tTime,U),P===h&&!c&&this._initted)return this._tTime=S,this;$!==K&&(Re&&this._yEase&&NP(Re,De),this.vars.repeatRefresh&&!De&&!this._lock&&(this._lock=c=1,this.render(ws(U*$),!0).invalidate()._lock=0))}if(!this._initted){if(_P(this,b?i:P,c,a,S))return this._tTime=0,this;if(h!==this._time)return this;if(w!==this._dur)return this.render(i,a,c)}if(this._tTime=S,this._time=P,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Ae=(Oe||this._ease)(P/w),this._from&&(this.ratio=Ae=1-Ae),P&&!h&&!a&&!$&&(Qa(this,"onStart"),this._tTime!==S))return this;for(N=this._pt;N;)N.r(Ae,N.d),N=N._next;Re&&Re.render(i<0?i:!P&&De?-nr:Re._dur*Re._ease(P/this._dur),a,c)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(b&&Gx(this,i,0,c),Qa(this,"onUpdate")),this._repeat&&$!==K&&this.vars.onRepeat&&!a&&this.parent&&Qa(this,"onRepeat"),(S===this._tDur||!S)&&this._tTime===S&&(b&&!this._onUpdate&&Gx(this,i,0,!0),(i||!w)&&(S===this._tDur&&this._ts>0||!S&&this._ts<0)&&cp(this,1),!a&&(!b||h)&&(S||h||De)&&(Qa(this,S===m?"onComplete":"onReverseComplete",!0),this._prom&&!(S<m&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,i){var w,b,S,a=e.ratio,c=t<0||!t&&(!e._start&&LL(e)&&(e._initted||!qx(e))||(e._ts<0||e._dp._ts<0)&&!qx(e))?0:1,h=e._rDelay,m=0;if(h&&e._repeat&&(m=NE(0,e._tDur,t),b=Sv(m,h),e._yoyo&&1&b&&(c=1-c),b!==Sv(e._tTime,h)&&(a=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==a||Ls||i||e._zTime===nr||!t&&e._zTime){if(!e._initted&&_P(e,t,i,r,m))return;for(S=e._zTime,e._zTime=t||(r?nr:0),r||(r=t&&!S),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=m,w=e._pt;w;)w.r(c,w.d),w=w._next;t<0&&Gx(e,t,0,!0),e._onUpdate&&!r&&Qa(e,"onUpdate"),m&&e._repeat&&!r&&e.parent&&Qa(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&cp(e,1),!r&&!Ls&&(Qa(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,i,a,c);return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,a,c,h){VE||oa.wake(),this._ts||this.play();var m=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||t1(this,m),function(e,t,r,i,a,c,h){var w,b,S,P,m=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!m)for(m=e._ptCache[t]=[],S=e._ptLookup,P=e._targets.length;P--;){if((w=S[P][t])&&w.d&&w.d._pt)for(w=w.d._pt;w&&w.p!==t&&w.fp!==t;)w=w._next;if(!w)return e1=1,e.vars[t]="+=0",t1(e,h),e1=0,1;m.push(w)}for(P=m.length;P--;)(w=(b=m[P])._pt||b).s=!i&&0!==i||a?w.s+(i||0)+c*w.c:i,w.c=r-w.s,b.e&&(b.e=ai(r)+Us(b.e)),b.b&&(b.b=w.s+Us(b.b))}(this,i,a,c,h,this._ease(m/this._dur),m)?this.resetTo(i,a,c,h):(MC(this,0),this.parent||pP(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,a){if(void 0===a&&(a="all"),!(i||a&&"all"!==a))return this._lazy=this._pt=0,this.parent?FE(this):this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,hp&&!0!==hp.vars.overwrite)._first||FE(this),this.parent&&c!==this.timeline.totalDuration()&&Av(this,this._dur*this.timeline._tDur/c,0,1),this}var S,P,N,$,U,K,De,h=this._targets,m=i?Ya(i):h,w=this._ptLookup,b=this._pt;if((!a||"all"===a)&&function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0}(h,m))return"all"===a&&(this._pt=0),FE(this);for(S=this._op=this._op||[],"all"!==a&&(Qi(a)&&(U={},Co(a,function(Ae){return U[Ae]=1}),a=U),a=function(e,t){var a,c,h,m,r=e[0]?jm(e[0]).harness:0,i=r&&r.aliases;if(!i)return t;for(c in a=$m({},t),i)if(c in a)for(h=(m=i[c].split(",")).length;h--;)a[m[h]]=a[c];return a}(h,a)),De=h.length;De--;)if(~m.indexOf(h[De]))for(U in P=w[De],"all"===a?(S[De]=a,$=P,N={}):(N=S[De]=S[De]||{},$=a),$)(K=P&&P[U])&&((!("kill"in K.d)||!0===K.d.kill(U))&&SC(this,K,"_pt"),delete P[U]),"all"!==N&&(N[U]=1);return this._initted&&!this._pt&&b&&FE(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return kE(1,arguments)},e.delayedCall=function(i,a,c,h){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:h})},e.fromTo=function(i,a,c){return kE(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,c){return Pr.killTweensOf(i,a,c)},e}(Rv);Ka(Bi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Co("staggerTo,staggerFrom,staggerFromTo",function(n){Bi[n]=function(){var e=new To,t=Wx.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var n1=function(e,t,r){return e[t]=r},jP=function(e,t,r){return e[t](r)},sF=function(e,t,r,i){return e[t](i.fp,r)},oF=function(e,t,r){return e.setAttribute(t,r)},r1=function(e,t){return Kr(e[t])?jP:Ox(e[t])&&e.setAttribute?oF:n1},$P=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},aF=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},HP=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},i1=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},uF=function(e,t,r,i){for(var c,a=this._pt;a;)c=a._next,a.p===i&&a.modifier(e,t,r),a=c},cF=function(e){for(var r,i,t=this._pt;t;)i=t._next,t.p===e&&!t.op||t.op===e?SC(this,t,"_pt"):t.dep||(r=1),t=i;return!r},lF=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},zP=function(e){for(var r,i,a,c,t=e._pt;t;){for(r=t._next,i=a;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:c)?t._prev._next=t:a=t,(t._next=i)?i._prev=t:c=t,t=r}e._pt=a},So=function(){function n(t,r,i,a,c,h,m,w,b){this.t=r,this.s=a,this.c=c,this.p=i,this.r=h||$P,this.d=m||this,this.set=w||n1,this.pr=b||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(r,i,a){this.mSet=this.mSet||this.set,this.set=lF,this.m=r,this.mt=a,this.tween=i},n}();Co(Hx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Bx[n]=1}),ia.TweenMax=ia.TweenLite=Bi,ia.TimelineLite=ia.TimelineMax=To,Pr=new To({sortChildren:!1,defaults:bv,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),ra.stringFilter=OP;var Pv=[],RC={},dF=[],GP=0,s1=function(e){return(RC[e]||dF).map(function(t){return t()})},o1=function(){var e=Date.now(),t=[];e-GP>2&&(s1("matchMediaInit"),Pv.forEach(function(r){var c,h,m,w,i=r.queries,a=r.conditions;for(h in i)(c=Wa.matchMedia(i[h]).matches)&&(m=1),c!==a[h]&&(a[h]=c,w=1);w&&(r.revert(),m&&t.push(r))}),s1("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),GP=e,s1("matchMedia"))},qP=function(){function n(t,r){this.selector=r&&Kx(r),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,a){Kr(r)&&(a=i,i=r,r=Kr);var c=this,h=function(){var S,w=vi,b=c.selector;return w&&w!==c&&w.data.push(c),a&&(c.selector=Kx(a)),vi=c,S=i.apply(c,arguments),Kr(S)&&c._r.push(S),vi=w,c.selector=b,c.isReverted=!1,S};return c.last=h,r===Kr?h(c):r?c[r]=h:h},e.ignore=function(r){var i=vi;vi=null,r(this),vi=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Bi&&!(i.parent&&"nested"===i.parent.data)&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var a=this;if(r){var c=this.getTweens();this.data.forEach(function(m){"isFlip"===m.data&&(m.revert(),m.getChildren(!0,!0,!1).forEach(function(w){return c.splice(c.indexOf(w),1)}))}),c.map(function(m){return{g:m.globalTime(0),t:m}}).sort(function(m,w){return w.g-m.g||-1}).forEach(function(m){return m.t.revert(r)}),this.data.forEach(function(m){return!(m instanceof Rv)&&m.revert&&m.revert(r)}),this._r.forEach(function(m){return m(r,a)}),this.isReverted=!0}else this.data.forEach(function(m){return m.kill&&m.kill()});if(this.clear(),i){var h=Pv.indexOf(this);~h&&Pv.splice(h,1)}},e.revert=function(r){this.kill(r||{})},n}(),hF=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,a){ml(r)||(r={matches:r});var m,w,b,c=new qP(0,a||this.scope),h=c.conditions={};for(w in this.contexts.push(c),i=c.add("onMatch",i),c.queries=r,r)"all"===w?b=1:(m=Wa.matchMedia(r[w]))&&(Pv.indexOf(c)<0&&Pv.push(c),(h[w]=m.matches)&&(b=1),m.addListener?m.addListener(o1):m.addEventListener("change",o1));return b&&i(c),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),PC={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return xP(i)})},timeline:function(e){return new To(e)},getTweensOf:function(e,t){return Pr.getTweensOf(e,t)},getProperty:function(e,t,r,i){Qi(e)&&(e=Ya(e)[0]);var a=jm(e||{}).get,c=r?hP:dP;return"native"===r&&(r=""),e&&(t?c((sa[t]&&sa[t].get||a)(e,t,r,i)):function(h,m,w){return c((sa[h]&&sa[h].get||a)(e,h,m,w))})},quickSetter:function(e,t,r){if((e=Ya(e)).length>1){var i=e.map(function(b){return Ao.quickSetter(b,t,r)}),a=i.length;return function(b){for(var S=a;S--;)i[S](b)}}var c=sa[t],h=jm(e=e[0]||{}),m=h.harness&&(h.harness.aliases||{})[t]||t,w=c?function(b){var S=new c;xv._pt=0,S.init(e,r?b+r:b,xv,0,[e]),S.render(1,S),xv._pt&&i1(1,xv)}:h.set(e,m);return c?w:function(b){return w(e,m,r?b+r:b,h,1)}},quickTo:function(e,t,r){var i,a=Ao.to(e,$m(((i={})[t]="+=0.1",i.paused=!0,i),r||{})),c=function(m,w,b){return a.resetTo(t,m,w,b)};return c.tween=a,c},isTweening:function(e){return Pr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=zm(e.ease,bv.ease)),fP(bv,e||{})},config:function(e){return fP(ra,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,a=e.defaults,c=e.extendTimeline;(e.plugins||"").split(",").forEach(function(h){return h&&!sa[h]&&!ia[h]&&IC(t+" effect requires "+h+" plugin.")}),$x[t]=function(h,m,w){return r(Ya(h),Ka(m||{},a),w)},c&&(To.prototype[t]=function(h,m,w){return this.add($x[t](h,ml(m)?m:(w=m)&&{},this),w)})},registerEase:function(e,t){_n[e]=zm(t)},parseEase:function(e,t){return arguments.length?zm(e,t):_n},getById:function(e){return Pr.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,a,r=new To(e);for(r.smoothChildTiming=bo(e.smoothChildTiming),Pr.remove(r),r._dp=0,r._time=r._tTime=Pr._time,i=Pr._first;i;)a=i._next,(t||!(!i._dur&&i instanceof Bi&&i.vars.onComplete===i._targets[0]))&&yl(r,i,i._start-i._delay),i=a;return yl(Pr,r,0),r},context:function(e,t){return e?new qP(e,t):vi},matchMedia:function(e){return new hF(e)},matchMediaRefresh:function(){return Pv.forEach(function(e){var r,i,t=e.conditions;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||o1()},addEventListener:function(e,t){var r=RC[e]||(RC[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=RC[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:function n(e,t,r){var i=t-e;return Fs(e)?CP(e,n(0,e.length),t):lp(r,function(a){return(i+(a-e)%i)%i+e})},wrapYoyo:function n(e,t,r){var i=t-e,a=2*i;return Fs(e)?CP(e,n(0,e.length-1),t):lp(r,function(c){return e+((c=(a+(c-e)%a)%a||0)>i?a-c:c)})},distribute:IP,random:bP,snap:DP,normalize:function(e,t,r){return TP(e,t,0,1,r)},getUnit:Us,clamp:function(e,t,r){return lp(r,function(i){return NE(e,t,i)})},splitColor:MP,toArray:Ya,selector:Kx,mapRange:TP,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(a,c){return c(a)},i)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||Us(r))}},interpolate:function n(e,t,r,i){var a=isNaN(e+t)?0:function(N){return(1-N)*e+N*t};if(!a){var m,w,b,S,P,c=Qi(e),h={};if(!0===r&&(i=1)&&(r=null),c)e={p:e},t={p:t};else if(Fs(e)&&!Fs(t)){for(b=[],P=(S=e.length)-2,w=1;w<S;w++)b.push(n(e[w-1],e[w]));S--,a=function($){$*=S;var U=Math.min(P,~~$);return b[U]($-U)},r=t}else i||(e=$m(Fs(e)?[]:{},e));if(!b){for(m in t)Jx.call(h,e,m,"get",t[m]);a=function($){return i1($,h)||(c?e.p:e)}}}return lp(r,a)},shuffle:EP},install:sP,effects:$x,ticker:oa,updateRoot:To.updateRoot,plugins:sa,globalTimeline:Pr,core:{PropTween:So,globals:oP,Tween:Bi,Timeline:To,Animation:Rv,getCache:jm,_removeLinkedListItem:SC,reverting:function(){return Ls},context:function(e){return e&&vi&&(vi.data.push(e),e._ctx=vi),vi},suppressOverwrites:function(e){return Rx=e}}};Co("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return PC[n]=Bi[n]}),oa.add(To.updateRoot),xv=PC.to({},{duration:0});var fF=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},a1=function(e,t){return{name:e,rawVars:1,init:function(i,a,c){c._onInit=function(h){var m,w;if(Qi(a)&&(m={},Co(a,function(b){return m[b]=1}),a=m),t){for(w in m={},a)m[w]=t(a[w]);a=m}!function(e,t){var i,a,c,r=e._targets;for(i in t)for(a=r.length;a--;)(c=e._ptLookup[a][i])&&(c=c.d)&&(c._pt&&(c=fF(c,i)),c&&c.modifier&&c.modifier(t[i],e,r[a],i))}(h,a)}}}},Ao=PC.registerPlugin({name:"attr",init:function(e,t,r,i,a){var c,h,m;for(c in this.tween=r,t)m=e.getAttribute(c)||"",(h=this.add(e,"setAttribute",(m||0)+"",t[c],i,a,0,0,c)).op=c,h.b=m,this._props.push(c)},render:function(e,t){for(var r=t._pt;r;)Ls?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},a1("roundProps",Zx),a1("modifiers"),a1("snap",DP))||PC;Bi.version=To.version=Ao.version="3.11.5",iP=1,kx()&&Mv();var WP,fp,Ov,u1,qm,KP,c1,eO,th={},Wm=180/Math.PI,kv=Math.PI/180,Nv=Math.atan2,ZP=1e8,l1=/([A-Z])/g,yF=/(left|right|width|margin|padding|x)/i,_F=/[\s,\(]\S/,_l={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},d1=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},vF=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},wF=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},EF=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},YP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},QP=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},IF=function(e,t,r){return e.style[t]=r},DF=function(e,t,r){return e.style.setProperty(t,r)},bF=function(e,t,r){return e._gsap[t]=r},CF=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},TF=function(e,t,r,i,a){var c=e._gsap;c.scaleX=c.scaleY=r,c.renderTransform(a,c)},SF=function(e,t,r,i,a){var c=e._gsap;c[t]=r,c.renderTransform(a,c)},Or="transform",Wu=Or+"Origin",AF=function n(e,t){var r=this,i=this.target,a=i.style;if(e in th){if(this.tfm=this.tfm||{},"transform"===e)return _l.transform.split(",").forEach(function(c){return n.call(r,c,t)});if(~(e=_l[e]||e).indexOf(",")?e.split(",").forEach(function(c){return r.tfm[c]=nh(i,c)}):this.tfm[e]=i._gsap.x?i._gsap[e]:nh(i,e),this.props.indexOf(Or)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Wu,t,"")),e=Or}(a||t)&&this.props.push(e,t,a[e])},XP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},xF=function(){var a,c,e=this.props,t=this.target,r=t.style,i=t._gsap;for(a=0;a<e.length;a+=3)e[a+1]?t[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty("--"===e[a].substr(0,2)?e[a]:e[a].replace(l1,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)i[c]=this.tfm[c];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(a=c1())||!a.isStart)&&!r[Or]&&(XP(r),i.uncache=1)}},JP=function(e,t){var r={target:e,props:[],revert:xF,save:AF};return e._gsap||Ao.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},h1=function(e,t){var r=fp.createElementNS?fp.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):fp.createElement(e);return r.style?r:fp.createElement(e)},vl=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(l1,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Lv(t)||t,1)||""},tO="O,Moz,ms,Ms,Webkit".split(","),Lv=function(e,t,r){var a=(t||qm).style,c=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(tO[c]+e in a););return c<0?null:(3===c?"ms":c>=0?tO[c]:"")+e},f1=function(){typeof window<"u"&&window.document&&(WP=window,Ov=(fp=WP.document).documentElement,qm=h1("div")||{style:{}},h1("div"),Or=Lv(Or),Wu=Or+"Origin",qm.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eO=!!Lv("perspective"),c1=Ao.core.reverting,u1=1)},p1=function n(e){var c,t=h1("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,a=this.style.cssText;if(Ov.appendChild(t),t.appendChild(this),this.style.display="block",e)try{c=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(c=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Ov.removeChild(t),this.style.cssText=a,c},nO=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},rO=function(e){var t;try{t=e.getBBox()}catch{t=p1.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===p1||(t=p1.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+nO(e,["x","cx","x1"])||0,y:+nO(e,["y","cy","y1"])||0,width:0,height:0}},iO=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!rO(e))},jE=function(e,t){if(t){var r=e.style;t in th&&t!==Wu&&(t=Or),r.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),r.removeProperty(t.replace(l1,"-$1").toLowerCase())):r.removeAttribute(t)}},pp=function(e,t,r,i,a,c){var h=new So(e._pt,t,r,0,1,c?QP:YP);return e._pt=h,h.b=i,h.e=a,e._props.push(r),h},sO={deg:1,rad:1,turn:1},MF={grid:1,flex:1},gp=function n(e,t,r,i){var $,U,K,De,a=parseFloat(r)||0,c=(r+"").trim().substr((a+"").length)||"px",h=qm.style,m=yF.test(t),w="svg"===e.tagName.toLowerCase(),b=(w?"client":"offset")+(m?"Width":"Height"),S=100,P="px"===i,N="%"===i;return i===c||!a||sO[i]||sO[c]?a:("px"!==c&&!P&&(a=n(e,t,r,"px")),De=e.getCTM&&iO(e),!N&&"%"!==c||!th[t]&&!~t.indexOf("adius")?(h[m?"width":"height"]=S+(P?c:i),U=~t.indexOf("adius")||"em"===i&&e.appendChild&&!w?e:e.parentNode,De&&(U=(e.ownerSVGElement||{}).parentNode),(!U||U===fp||!U.appendChild)&&(U=fp.body),(K=U._gsap)&&N&&K.width&&m&&K.time===oa.time&&!K.uncache?ai(a/K.width*S):((N||"%"===c)&&!MF[vl(U,"display")]&&(h.position=vl(e,"position")),U===e&&(h.position="static"),U.appendChild(qm),$=qm[b],U.removeChild(qm),h.position="absolute",m&&N&&((K=jm(U)).time=oa.time,K.width=U[b]),ai(P?$*a/S:$&&a?S/$*a:0))):($=De?e.getBBox()[m?"width":"height"]:e[b],ai(N?a/$*S:a/100*$)))},nh=function(e,t,r,i){var a;return u1||f1(),t in _l&&"transform"!==t&&~(t=_l[t]).indexOf(",")&&(t=t.split(",")[0]),th[t]&&"transform"!==t?(a=HE(e,i),a="transformOrigin"!==t?a[t]:a.svg?a.origin:kC(vl(e,Wu))+" "+a.zOrigin+"px"):(!(a=e.style[t])||"auto"===a||i||~(a+"").indexOf("calc("))&&(a=OC[t]&&OC[t](e,t,r)||vl(e,t)||cP(e,t)||("opacity"===t?1:0)),r&&!~(a+"").trim().indexOf(" ")?gp(e,t,a,r)+r:a},RF=function(e,t,r,i){if(!r||"none"===r){var a=Lv(t,e,1),c=a&&vl(e,a,1);c&&c!==r?(t=a,r=c):"borderColor"===t&&(r=vl(e,"borderTopColor"))}var b,S,P,N,$,U,K,De,Ae,Re,Oe,h=new So(this._pt,e.style,t,0,1,HP),m=0,w=0;if(h.b=r,h.e=i,r+="","auto"==(i+="")&&(e.style[t]=i,i=vl(e,t)||i,e.style[t]=r),OP(b=[r,i]),i=b[1],P=(r=b[0]).match(Cv)||[],(i.match(Cv)||[]).length){for(;S=Cv.exec(i);)K=S[0],Ae=i.substring(m,S.index),$?$=($+1)%5:("rgba("===Ae.substr(-5)||"hsla("===Ae.substr(-5))&&($=1),K!==(U=P[w++]||"")&&(N=parseFloat(U)||0,Oe=U.substr((N+"").length),"="===K.charAt(1)&&(K=Tv(N,K)+Oe),De=parseFloat(K),Re=K.substr((De+"").length),m=Cv.lastIndex-Re.length,Re||(Re=Re||ra.units[t]||Oe,m===i.length&&(i+=Re,h.e+=Re)),Oe!==Re&&(N=gp(e,t,U,Re)||0),h._pt={_next:h._pt,p:Ae||1===w?Ae:",",s:N,c:De-N,m:$&&$<4||"zIndex"===t?Math.round:0});h.c=m<i.length?i.substring(m,i.length):""}else h.r="display"===t&&"none"===i?QP:YP;return nP.test(i)&&(h.e=0),this._pt=h,h},oO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},PF=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(e=r,r=i,i=e),t[0]=oO[r]||r,t[1]=oO[i]||i,t.join(" ")},OF=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var h,m,w,r=t.t,i=r.style,a=t.u,c=r._gsap;if("all"===a||!0===a)i.cssText="",m=1;else for(w=(a=a.split(",")).length;--w>-1;)th[h=a[w]]&&(m=1,h="transformOrigin"===h?Wu:Or),jE(r,h);m&&(jE(r,Or),c&&(c.svg&&r.removeAttribute("transform"),HE(r,1),c.uncache=1,XP(i)))}},OC={clearProps:function(e,t,r,i,a){if("isFromStart"!==a.data){var c=e._pt=new So(e._pt,t,r,0,0,OF);return c.u=i,c.pr=-10,c.tween=a,e._props.push(r),1}}},$E=[1,0,0,1,0,0],aO={},uO=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},cO=function(e){var t=vl(e,Or);return uO(t)?$E:t.substr(7).match(tP).map(ai)},g1=function(e,t){var c,h,m,w,r=e._gsap||jm(e),i=e.style,a=cO(e);return r.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(m=e.transform.baseVal.consolidate().matrix).a,m.b,m.c,m.d,m.e,m.f]).join(",")?$E:a:(a===$E&&!e.offsetParent&&e!==Ov&&!r.svg&&(m=i.display,i.display="block",(!(c=e.parentNode)||!e.offsetParent)&&(w=1,h=e.nextElementSibling,Ov.appendChild(e)),a=cO(e),m?i.display=m:jE(e,"display"),w&&(h?c.insertBefore(e,h):c?c.appendChild(e):Ov.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},m1=function(e,t,r,i,a,c){var Ye,ot,at,h=e._gsap,m=a||g1(e,!0),w=h.xOrigin||0,b=h.yOrigin||0,S=h.xOffset||0,P=h.yOffset||0,N=m[0],$=m[1],U=m[2],K=m[3],De=m[4],Ae=m[5],Re=t.split(" "),Oe=parseFloat(Re[0])||0,Ne=parseFloat(Re[1])||0;r?m!==$E&&(ot=N*K-$*U)&&(at=Oe*(-$/ot)+Ne*(N/ot)-(N*Ae-$*De)/ot,Oe=Oe*(K/ot)+Ne*(-U/ot)+(U*Ae-K*De)/ot,Ne=at):(Oe=(Ye=rO(e)).x+(~Re[0].indexOf("%")?Oe/100*Ye.width:Oe),Ne=Ye.y+(~(Re[1]||Re[0]).indexOf("%")?Ne/100*Ye.height:Ne)),i||!1!==i&&h.smooth?(h.xOffset=S+((De=Oe-w)*N+(Ae=Ne-b)*U)-De,h.yOffset=P+(De*$+Ae*K)-Ae):h.xOffset=h.yOffset=0,h.xOrigin=Oe,h.yOrigin=Ne,h.smooth=!!i,h.origin=t,h.originIsAbsolute=!!r,e.style[Wu]="0px 0px",c&&(pp(c,h,"xOrigin",w,Oe),pp(c,h,"yOrigin",b,Ne),pp(c,h,"xOffset",S,h.xOffset),pp(c,h,"yOffset",P,h.yOffset)),e.setAttribute("data-svg-origin",Oe+" "+Ne)},HE=function(e,t){var r=e._gsap||new FP(e);if("x"in r&&!t&&!r.uncache)return r;var b,S,P,N,$,U,K,De,Ae,Re,Oe,Ne,Ye,ot,dt,at,Pn,Ln,Zr,wi,Ei,kr,ji,Ii,ao,Ym,Qm,GE,Xm,gO,rh,Jm,i=e.style,a=r.scaleX<0,c="px",h="deg",m=getComputedStyle(e),w=vl(e,Wu)||"0";return b=S=P=U=K=De=Ae=Re=Oe=0,N=$=1,r.svg=!(!e.getCTM||!iO(e)),m.translate&&(("none"!==m.translate||"none"!==m.scale||"none"!==m.rotate)&&(i[Or]=("none"!==m.translate?"translate3d("+(m.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==m.rotate?"rotate("+m.rotate+") ":"")+("none"!==m.scale?"scale("+m.scale.split(" ").join(",")+") ":"")+("none"!==m[Or]?m[Or]:"")),i.scale=i.rotate=i.translate="none"),ot=g1(e,r.svg),r.svg&&(r.uncache?(ao=e.getBBox(),w=r.xOrigin-ao.x+"px "+(r.yOrigin-ao.y)+"px",Ii=""):Ii=!t&&e.getAttribute("data-svg-origin"),m1(e,Ii||w,!!Ii||r.originIsAbsolute,!1!==r.smooth,ot)),Ne=r.xOrigin||0,Ye=r.yOrigin||0,ot!==$E&&(Ln=ot[0],Zr=ot[1],wi=ot[2],Ei=ot[3],b=kr=ot[4],S=ji=ot[5],6===ot.length?(N=Math.sqrt(Ln*Ln+Zr*Zr),$=Math.sqrt(Ei*Ei+wi*wi),U=Ln||Zr?Nv(Zr,Ln)*Wm:0,(Ae=wi||Ei?Nv(wi,Ei)*Wm+U:0)&&($*=Math.abs(Math.cos(Ae*kv))),r.svg&&(b-=Ne-(Ne*Ln+Ye*wi),S-=Ye-(Ne*Zr+Ye*Ei))):(gO=ot[7],Qm=ot[8],GE=ot[9],rh=ot[11],b=ot[12],S=ot[13],P=ot[14],K=(dt=Nv(Jm=ot[6],Xm=ot[10]))*Wm,dt&&(Ii=kr*(at=Math.cos(-dt))+Qm*(Pn=Math.sin(-dt)),ao=ji*at+GE*Pn,Ym=Jm*at+Xm*Pn,Qm=kr*-Pn+Qm*at,GE=ji*-Pn+GE*at,Xm=Jm*-Pn+Xm*at,rh=gO*-Pn+rh*at,kr=Ii,ji=ao,Jm=Ym),De=(dt=Nv(-wi,Xm))*Wm,dt&&(at=Math.cos(-dt),rh=Ei*(Pn=Math.sin(-dt))+rh*at,Ln=Ii=Ln*at-Qm*Pn,Zr=ao=Zr*at-GE*Pn,wi=Ym=wi*at-Xm*Pn),U=(dt=Nv(Zr,Ln))*Wm,dt&&(Ii=Ln*(at=Math.cos(dt))+Zr*(Pn=Math.sin(dt)),ao=kr*at+ji*Pn,Zr=Zr*at-Ln*Pn,ji=ji*at-kr*Pn,Ln=Ii,kr=ao),K&&Math.abs(K)+Math.abs(U)>359.9&&(K=U=0,De=180-De),N=ai(Math.sqrt(Ln*Ln+Zr*Zr+wi*wi)),$=ai(Math.sqrt(ji*ji+Jm*Jm)),dt=Nv(kr,ji),Ae=Math.abs(dt)>2e-4?dt*Wm:0,Oe=rh?1/(rh<0?-rh:rh):0),r.svg&&(Ii=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!uO(vl(e,Or)),Ii&&e.setAttribute("transform",Ii))),Math.abs(Ae)>90&&Math.abs(Ae)<270&&(a?(N*=-1,Ae+=U<=0?180:-180,U+=U<=0?180:-180):($*=-1,Ae+=Ae<=0?180:-180)),t=t||r.uncache,r.x=b-((r.xPercent=b&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-b)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+c,r.y=S-((r.yPercent=S&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-S)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+c,r.z=P+c,r.scaleX=ai(N),r.scaleY=ai($),r.rotation=ai(U)+h,r.rotationX=ai(K)+h,r.rotationY=ai(De)+h,r.skewX=Ae+h,r.skewY=Re+h,r.transformPerspective=Oe+c,(r.zOrigin=parseFloat(w.split(" ")[2])||0)&&(i[Wu]=kC(w)),r.xOffset=r.yOffset=0,r.force3D=ra.force3D,r.renderTransform=r.svg?NF:eO?lO:kF,r.uncache=0,r},kC=function(e){return(e=e.split(" "))[0]+" "+e[1]},y1=function(e,t,r){var i=Us(t);return ai(parseFloat(t)+parseFloat(gp(e,"x",r+"px",i)))+i},kF=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,lO(e,t)},Km="0deg",zE="0px",Zm=") ",lO=function(e,t){var r=t||this,i=r.xPercent,a=r.yPercent,c=r.x,h=r.y,m=r.z,w=r.rotation,b=r.rotationY,S=r.rotationX,P=r.skewX,N=r.skewY,$=r.scaleX,U=r.scaleY,K=r.transformPerspective,De=r.force3D,Ae=r.target,Re=r.zOrigin,Oe="",Ne="auto"===De&&e&&1!==e||!0===De;if(Re&&(S!==Km||b!==Km)){var at,Ye=parseFloat(b)*kv,ot=Math.sin(Ye),dt=Math.cos(Ye);Ye=parseFloat(S)*kv,at=Math.cos(Ye),c=y1(Ae,c,ot*at*-Re),h=y1(Ae,h,-Math.sin(Ye)*-Re),m=y1(Ae,m,dt*at*-Re+Re)}K!==zE&&(Oe+="perspective("+K+Zm),(i||a)&&(Oe+="translate("+i+"%, "+a+"%) "),(Ne||c!==zE||h!==zE||m!==zE)&&(Oe+=m!==zE||Ne?"translate3d("+c+", "+h+", "+m+") ":"translate("+c+", "+h+Zm),w!==Km&&(Oe+="rotate("+w+Zm),b!==Km&&(Oe+="rotateY("+b+Zm),S!==Km&&(Oe+="rotateX("+S+Zm),(P!==Km||N!==Km)&&(Oe+="skew("+P+", "+N+Zm),(1!==$||1!==U)&&(Oe+="scale("+$+", "+U+Zm),Ae.style[Or]=Oe||"translate(0, 0)"},NF=function(e,t){var Ne,Ye,ot,dt,at,r=t||this,i=r.xPercent,a=r.yPercent,c=r.x,h=r.y,m=r.rotation,w=r.skewX,b=r.skewY,S=r.scaleX,P=r.scaleY,N=r.target,$=r.xOrigin,U=r.yOrigin,K=r.xOffset,De=r.yOffset,Ae=r.forceCSS,Re=parseFloat(c),Oe=parseFloat(h);m=parseFloat(m),w=parseFloat(w),(b=parseFloat(b))&&(w+=b=parseFloat(b),m+=b),m||w?(m*=kv,w*=kv,Ne=Math.cos(m)*S,Ye=Math.sin(m)*S,ot=Math.sin(m-w)*-P,dt=Math.cos(m-w)*P,w&&(b*=kv,at=Math.tan(w-b),ot*=at=Math.sqrt(1+at*at),dt*=at,b&&(at=Math.tan(b),Ne*=at=Math.sqrt(1+at*at),Ye*=at)),Ne=ai(Ne),Ye=ai(Ye),ot=ai(ot),dt=ai(dt)):(Ne=S,dt=P,Ye=ot=0),(Re&&!~(c+"").indexOf("px")||Oe&&!~(h+"").indexOf("px"))&&(Re=gp(N,"x",c,"px"),Oe=gp(N,"y",h,"px")),($||U||K||De)&&(Re=ai(Re+$-($*Ne+U*ot)+K),Oe=ai(Oe+U-($*Ye+U*dt)+De)),(i||a)&&(at=N.getBBox(),Re=ai(Re+i/100*at.width),Oe=ai(Oe+a/100*at.height)),N.setAttribute("transform",at="matrix("+Ne+","+Ye+","+ot+","+dt+","+Re+","+Oe+")"),Ae&&(N.style[Or]=at)},LF=function(e,t,r,i,a){var S,P,c=360,h=Qi(a),w=parseFloat(a)*(h&&~a.indexOf("rad")?Wm:1)-i,b=i+w+"deg";return h&&("short"===(S=a.split("_")[1])&&(w%=c)!=w%180&&(w+=w<0?c:-c),"cw"===S&&w<0?w=(w+c*ZP)%c-~~(w/c)*c:"ccw"===S&&w>0&&(w=(w-c*ZP)%c-~~(w/c)*c)),e._pt=P=new So(e._pt,t,r,i,w,vF),P.e=b,P.u="deg",e._props.push(r),P},dO=function(e,t){for(var r in t)e[r]=t[r];return e},FF=function(e,t,r){var h,m,w,b,S,P,$,i=dO({},r._gsap),c=r.style;for(m in i.svg?(w=r.getAttribute("transform"),r.setAttribute("transform",""),c[Or]=t,h=HE(r,1),jE(r,Or),r.setAttribute("transform",w)):(w=getComputedStyle(r)[Or],c[Or]=t,h=HE(r,1),c[Or]=w),th)(w=i[m])!==(b=h[m])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(m)<0&&(S=Us(w)!==($=Us(b))?gp(r,m,w,$):parseFloat(w),P=parseFloat(b),e._pt=new So(e._pt,h,m,S,P-S,d1),e._pt.u=$||0,e._props.push(m));dO(h,i)};Co("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",a="Left",c=(e<3?[t,r,i,a]:[t+a,t+r,i+r,i+a]).map(function(h){return e<2?n+h:"border"+h+n});OC[e>1?"border"+n:n]=function(h,m,w,b,S){var P,N;if(arguments.length<4)return P=c.map(function($){return nh(h,$,w)}),5===(N=P.join(" ")).split(P[0]).length?P[0]:N;P=(b+"").split(" "),N={},c.forEach(function($,U){return N[$]=P[U]=P[U]||P[(U-1)/2|0]}),h.init(m,N,S)}});var hO={name:"css",register:f1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,a){var w,b,S,P,N,$,U,K,De,Ae,Re,Oe,Ne,Ye,ot,dt,c=this._props,h=e.style,m=r.vars.startAt;for(U in u1||f1(),this.styles=this.styles||JP(e),dt=this.styles.props,this.tween=r,t)if("autoRound"!==U&&(b=t[U],!sa[U]||!UP(U,t,r,i,e,a)))if($=OC[U],"function"==(N=typeof b)&&(N=typeof(b=b.call(r,i,e,a))),"string"===N&&~b.indexOf("random(")&&(b=LE(b)),$)$(this,e,U,b,r)&&(ot=1);else if("--"===U.substr(0,2))w=(getComputedStyle(e).getPropertyValue(U)+"").trim(),b+="",dp.lastIndex=0,dp.test(w)||(K=Us(w),De=Us(b)),De?K!==De&&(w=gp(e,U,w,De)+De):K&&(b+=K),this.add(h,"setProperty",w,b,i,a,0,0,U),c.push(U),dt.push(U,0,h[U]);else if("undefined"!==N){if(m&&U in m?(w="function"==typeof m[U]?m[U].call(r,i,e,a):m[U],Qi(w)&&~w.indexOf("random(")&&(w=LE(w)),Us(w+"")||(w+=ra.units[U]||Us(nh(e,U))||""),"="===(w+"").charAt(1)&&(w=nh(e,U))):w=nh(e,U),P=parseFloat(w),(Ae="string"===N&&"="===b.charAt(1)&&b.substr(0,2))&&(b=b.substr(2)),S=parseFloat(b),U in _l&&("autoAlpha"===U&&(1===P&&"hidden"===nh(e,"visibility")&&S&&(P=0),dt.push("visibility",0,h.visibility),pp(this,h,"visibility",P?"inherit":"hidden",S?"inherit":"hidden",!S)),"scale"!==U&&"transform"!==U&&~(U=_l[U]).indexOf(",")&&(U=U.split(",")[0])),Re=U in th)if(this.styles.save(U),Oe||((Ne=e._gsap).renderTransform&&!t.parseTransform||HE(e,t.parseTransform),Ye=!1!==t.smoothOrigin&&Ne.smooth,(Oe=this._pt=new So(this._pt,h,Or,0,1,Ne.renderTransform,Ne,0,-1)).dep=1),"scale"===U)this._pt=new So(this._pt,Ne,"scaleY",Ne.scaleY,(Ae?Tv(Ne.scaleY,Ae+S):S)-Ne.scaleY||0,d1),this._pt.u=0,c.push("scaleY",U),U+="X";else{if("transformOrigin"===U){dt.push(Wu,0,h[Wu]),b=PF(b),Ne.svg?m1(e,b,0,Ye,0,this):((De=parseFloat(b.split(" ")[2])||0)!==Ne.zOrigin&&pp(this,Ne,"zOrigin",Ne.zOrigin,De),pp(this,h,U,kC(w),kC(b)));continue}if("svgOrigin"===U){m1(e,b,1,Ye,0,this);continue}if(U in aO){LF(this,Ne,U,P,Ae?Tv(P,Ae+b):b);continue}if("smoothOrigin"===U){pp(this,Ne,"smooth",Ne.smooth,b);continue}if("force3D"===U){Ne[U]=b;continue}if("transform"===U){FF(this,b,e);continue}}else U in h||(U=Lv(U)||U);if(Re||(S||0===S)&&(P||0===P)&&!_F.test(b)&&U in h)S||(S=0),(K=(w+"").substr((P+"").length))!==(De=Us(b)||(U in ra.units?ra.units[U]:K))&&(P=gp(e,U,w,De)),this._pt=new So(this._pt,Re?Ne:h,U,P,(Ae?Tv(P,Ae+S):S)-P,Re||"px"!==De&&"zIndex"!==U||!1===t.autoRound?d1:EF),this._pt.u=De||0,K!==De&&"%"!==De&&(this._pt.b=w,this._pt.r=wF);else if(U in h)RF.call(this,e,U,w,Ae?Ae+b:b);else if(U in e)this.add(e,U,w||e[U],Ae?Ae+b:b,i,a);else if("parseTransform"!==U){Vx(U,b);continue}Re||(U in h?dt.push(U,0,h[U]):dt.push(U,1,w||e[U])),c.push(U)}ot&&zP(this)},render:function(e,t){if(t.tween._time||!c1())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:nh,aliases:_l,getSetter:function(e,t,r){var i=_l[t];return i&&i.indexOf(",")<0&&(t=i),t in th&&t!==Wu&&(e._gsap.x||nh(e,"x"))?r&&KP===r?"scale"===t?CF:bF:(KP=r||{})&&("scale"===t?TF:SF):e.style&&!Ox(e.style[t])?IF:~t.indexOf("-")?DF:r1(e,t)},core:{_removeProperty:jE,_getMatrix:g1}};Ao.utils.checkPrefix=Lv,Ao.core.getStyleSaver=JP,function(n,e,t,r){var i=Co(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(a){th[a]=1});Co(e,function(a){ra.units[a]="deg",aO[a]=1}),_l[i[13]]=n+","+e,Co("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(a){var c=a.split(":");_l[c[1]]=i[c[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Co("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ra.units[n]="px"}),Ao.registerPlugin(hO);var fO=Ao.registerPlugin(hO)||Ao;let UF=(()=>{class n{constructor(){}ngOnInit(){}initializeAnimations(){const t=new QR.Controller;new QR.Scene({triggerElement:".animated-scroll",triggerHook:.8}).on("",()=>{fO.from(".animated-scroll",{opacity:0,y:50,ease:Power2.easeOut})}).addTo(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VF(n,e){if(1&n&&(_.TgZ(0,"div",35)(1,"div",36),_._UZ(2,"img",37),_.TgZ(3,"div",38)(4,"h5",39),_._uU(5),_.qZA(),_.TgZ(6,"p",40),_._uU(7),_.qZA(),_.TgZ(8,"p",40),_._uU(9),_.ALo(10,"slice"),_.qZA()()()()),2&n){const t=e.$implicit;_.xp6(2),_.Q6J("src",t.image,_.LSH),_.xp6(3),_.Oqu(t.technology),_.xp6(2),_.Oqu(t.level),_.xp6(2),_.hij("",_.Dn7(10,4,t.description,0,50),"...")}}function BF(n,e){if(1&n&&(_.TgZ(0,"div",35)(1,"div",36)(2,"div",38)(3,"h5",39),_._uU(4),_.qZA(),_.TgZ(5,"p",40),_._uU(6),_.qZA()()()()),2&n){const t=e.$implicit;_.xp6(4),_.Oqu(t.nombre),_.xp6(2),_.Oqu(t.descripcion)}}const jF=[{path:"",component:(()=>{class n{constructor(t,r){this.firebaseService=t,this.AnimationService=r,this.technologies=[],this.softSkills=[],this.currentYear=new Date}ngOnInit(){this.AnimationService.initializeAnimations(),this.getTechnologies(),this.getsSoftSkills()}getTechnologies(){this.firebaseService.getTechnologies().subscribe(t=>{this.technologies=t,console.log(t)})}getsSoftSkills(){this.firebaseService.getSoftSkills().subscribe(t=>{this.softSkills=t,console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(DL),_.Y36(UF))},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-landing"]],decls:81,vars:3,consts:[[1,"landing"],[1,"parallax"],[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"profile-picture"],["src","../../../assets/Screenshot 2023-05-11 181736.png",1,"img-fluid","rounded-circle"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],[1,"display-4","text-white"],[1,"lead","text-white"],["target","_blank","href","https://drive.google.com/file/d/1RLtGo3whKsHzIEUHZjsMfdGHoi3s2tgE/view?usp=sharing",1,"btn","btn-primary","btn-lg"],[1,"about","animated-scroll"],[1,"col-md-6"],[1,"img-container"],["src","../../../assets/Screenshot 2023-05-11 181736.png","alt","Foto Acerca de m\xed",1,"img-fluid"],[1,"about-content"],[1,"section-title"],[1,"lead"],[1,"social-buttons",2,"margin-top","4rem"],["href","https://drive.google.com/file/d/1RLtGo3whKsHzIEUHZjsMfdGHoi3s2tgE/view?usp=sharing","target","_blank",1,"social-button","cv"],["href","https://github.com/Daetaurusseptem","target","_blank",1,"social-button","github"],["aria-hidden","true",1,"fa","fa-github"],["href","https://www.linkedin.com/in/jaime-antonio-burciaga-alvarez-bb8337229/","target","_blank",1,"social-button","linkedin"],[1,"fa","fa-linkedin"],[1,"technologies","animated-scroll"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"parallax-separator"],[1,"parallax-image"],[1,"soft-skills","animated-scroll"],[1,"footer"],[1,"social-icons"],["href","https://github.com/Daetaurusseptem","target","_blank","rel","noopener noreferrer"],[1,"fa","fa-github"],["href","https://www.linkedin.com/in/jaime-antonio-burciaga-alvarez-bb8337229/","target","_blank","rel","noopener noreferrer"],[1,"col-md-4"],[1,"card"],["alt","Descripci\xf3n de la imagen",1,"card-image",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,r){1&t&&(_.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),_._UZ(6,"img",6),_.qZA()()(),_.TgZ(7,"div",7)(8,"div",8)(9,"h1",9),_._uU(10,"\xa1Bienvenido a mi CV!"),_.qZA(),_.TgZ(11,"p",10),_._uU(12,"\xa1Hola! Soy Jaime y este es mi curr\xedculum vitae."),_.qZA(),_.TgZ(13,"a",11),_._uU(14,"Descargar CV"),_.qZA()()()()()(),_.TgZ(15,"section",12)(16,"div",2)(17,"div",3)(18,"div",13)(19,"div",14),_._UZ(20,"img",15),_.qZA()(),_.TgZ(21,"div",13)(22,"div",16)(23,"h2",17),_._uU(24,"Acerca de m\xed"),_.qZA(),_.TgZ(25,"p",18),_._uU(26,"\xa1Hola! Soy Jaime, un Ingeniero en software apasionado por el desarrollo web, con experiencia en MEAN Stack. Me encanta colaborar y generar soluciones competentes para traer un beneficio a la sociedad. Estoy comprometido a brindar un cambio ya sea tecnologico y social, me gusta conocer personas interesantes."),_.qZA(),_.TgZ(27,"div",3)(28,"div",2)(29,"div",3)(30,"div",13)(31,"p"),_._uU(32,"\u2022 Hacer ejercicio \u{1f3cb}\u{1f3fd}"),_.qZA(),_.TgZ(33,"p"),_._uU(34,"\u2022 Pasar tiempo con amigos \u{1f646}\u{1f3fd}\u200d\u2642\ufe0f"),_.qZA(),_.TgZ(35,"p"),_._uU(36,"\u2022 Videojuegos \u{1f3ae}"),_.qZA()(),_.TgZ(37,"div",13)(38,"p"),_._uU(39,"\u2022 Jugar con mis perros \u{1f436}"),_.qZA(),_.TgZ(40,"p"),_._uU(41,"\u2022 Gatos \u{1f63c}"),_.qZA(),_.TgZ(42,"p"),_._uU(43,"\u2022 Peliculas \u{1f39e}\ufe0f"),_.qZA()()()()(),_._UZ(44,"hr"),_.TgZ(45,"div",19)(46,"a",20),_._uU(47,"Descargar CV "),_.qZA(),_.TgZ(48,"a",21),_._UZ(49,"i",22),_._uU(50,"GitHub "),_.qZA(),_.TgZ(51,"a",23),_._UZ(52,"i",24),_._uU(53," LinkedIn "),_.qZA()()()()()()(),_.TgZ(54,"section",25)(55,"div",2)(56,"div",3)(57,"div",4)(58,"h2",17),_._uU(59,"Tecnolog\xedas"),_.qZA()()(),_.TgZ(60,"div",3),_.YNc(61,VF,11,8,"div",26),_.qZA()()(),_.TgZ(62,"div",27),_._UZ(63,"div",28),_.qZA(),_.TgZ(64,"section",29)(65,"div",2)(66,"div",3)(67,"div",4)(68,"h2",17),_._uU(69,"Soft Skills"),_.qZA()(),_.TgZ(70,"div",3),_.YNc(71,BF,7,2,"div",26),_.qZA()()()(),_.TgZ(72,"footer",30)(73,"div",2)(74,"p"),_._uU(75),_.qZA(),_.TgZ(76,"div",31)(77,"a",32),_._UZ(78,"i",33),_.qZA(),_.TgZ(79,"a",34),_._UZ(80,"i",24),_.qZA()()()()),2&t&&(_.xp6(61),_.Q6J("ngForOf",r.technologies),_.xp6(10),_.Q6J("ngForOf",r.softSkills),_.xp6(4),_.hij("\xa9 ",r.currentYear.getFullYear()," Jaime Antonio Burciaga Alvarez. All rights reserved."))},dependencies:[An,eu],styles:[".parallax[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background.f14335b6c065752c.jpg);background-size:cover;background-position:center;height:100vh;display:flex;justify-content:center;align-items:center;text-align:center;color:#fff}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px}.technologies[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center}.technologies[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:20px}.description[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], .soft-skills[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center}.soft-skills[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:20px}.about[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:80px 0}.about-content[_ngcontent-%COMP%]{margin-top:30px}.about-content[_ngcontent-%COMP%]   h2.section-title[_ngcontent-%COMP%]{font-size:32px;margin-bottom:20px}.about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.about-content[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#333}.about-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{margin-top:30px}.technologies[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:80px 0}.technologies[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:32px;margin-bottom:20px;text-align:center}.technologies[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:4px;padding:20px}.technologies[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.technologies[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#666}.soft-skills[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:80px 0}.soft-skills[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:32px;margin-bottom:20px;text-align:center}.soft-skills[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:4px;padding:20px}.soft-skills[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.soft-skills[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#666}.about[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{width:100%;height:auto;max-width:400px}.about[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{margin:0 auto;max-width:400px;border-radius:50%;overflow:hidden;box-shadow:0 0 20px #0000001a}.about[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.social-buttons[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.social-button[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;padding:10px 15px;border-radius:4px;color:#fff;font-size:16px;font-weight:700;text-decoration:none;transition:background-color .3s}.social-button.github[_ngcontent-%COMP%]{background-color:#333}.social-button.linkedin[_ngcontent-%COMP%]{background-color:#0077b5}.social-button.cv[_ngcontent-%COMP%]{background-color:#0c6800}.social-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{max-width:50px;height:auto;border-radius:8px;object-fit:cover}.parallax-separator[_ngcontent-%COMP%]{height:200px;position:relative;overflow:hidden}.parallax-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:200%;background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background.f14335b6c065752c.jpg);background-size:cover;animation:parallaxAnimation 10s infinite linear;animation-delay:-5s;z-index:-1}@keyframes parallaxAnimation{0%{transform:translateY(0)}50%{transform:translateY(-50%)}to{transform:translateY(0)}}.footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:20px 0;text-align:center}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.social-icons[_ngcontent-%COMP%]{margin-top:10px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 5px;font-size:20px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc}"]}),n})()}];let $F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[TI.forRoot(jF),TI]}),n})(),HF=(()=>{class n{constructor(){this.title="curriculum-jaime"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&_._UZ(0,"router-outlet")},dependencies:[f]}),n})();const pO={apiKey:"AIzaSyA7NcjSixQYJnuB_a0qQo5FABy-v_fAiYE",authDomain:"cvjaime-bb37e.firebaseapp.com",projectId:"cvjaime-bb37e",storageBucket:"cvjaime-bb37e.appspot.com",messagingSenderId:"106782483338",appId:"1:106782483338:web:9f7d88905445f5f06dde73",measurementId:"G-2JM9SN4JN3"};let zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Ju]}),n})(),GF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n,bootstrap:[HF]}),n.\u0275inj=_.cJS({imports:[Hl,$F,Wo.hO.initializeApp(pO),IL,zF]}),n})();(0,_.G48)(),_c().bootstrapModule(GF).catch(n=>console.error(n))},9751:(Mt,Be,V)=>{"use strict";V.d(Be,{y:()=>te});var _=V(2961),le=V(727),k=V(8822),_e=V(9635),we=V(2416),Te=V(576),G=V(2806);let te=(()=>{class Q{constructor(J){J&&(this._subscribe=J)}lift(J){const X=new Q;return X.source=this,X.operator=J,X}subscribe(J,X,Fe){const ge=function H(Q){return Q&&Q instanceof _.Lv||function B(Q){return Q&&(0,Te.m)(Q.next)&&(0,Te.m)(Q.error)&&(0,Te.m)(Q.complete)}(Q)&&(0,le.Nn)(Q)}(J)?J:new _.Hp(J,X,Fe);return(0,G.x)(()=>{const{operator:Ee,source:ht}=this;ge.add(Ee?Ee.call(ge,ht):ht?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(J){try{return this._subscribe(J)}catch(X){J.error(X)}}forEach(J,X){return new(X=ae(X))((Fe,ge)=>{const Ee=new _.Hp({next:ht=>{try{J(ht)}catch(ut){ge(ut),Ee.unsubscribe()}},error:ge,complete:Fe});this.subscribe(Ee)})}_subscribe(J){var X;return null===(X=this.source)||void 0===X?void 0:X.subscribe(J)}[k.L](){return this}pipe(...J){return(0,_e.U)(J)(this)}toPromise(J){return new(J=ae(J))((X,Fe)=>{let ge;this.subscribe(Ee=>ge=Ee,Ee=>Fe(Ee),()=>X(ge))})}}return Q.create=Ze=>new Q(Ze),Q})();function ae(Q){var Ze;return null!==(Ze=Q??we.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(Mt,Be,V)=>{"use strict";V.d(Be,{x:()=>G});var _=V(9751),le=V(727);const _e=(0,V(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=V(8737),Te=V(2806);let G=(()=>{class ae extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new te(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new _e}next(H){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Ze,observers:J}=this;return Q||Ze?le.Lc:(this.currentObservers=null,J.push(H),new le.w0(()=>{this.currentObservers=null,(0,we.P)(J,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Ze,isStopped:J}=this;Q?H.error(Ze):J&&H.complete()}asObservable(){const H=new _.y;return H.source=this,H}}return ae.create=(B,H)=>new te(B,H),ae})();class te extends G{constructor(B,H){super(),this.destination=B,this.source=H}next(B){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,B)}error(B){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,B)}complete(){var B,H;null===(H=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===H||H.call(B)}_subscribe(B){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(B))&&void 0!==Q?Q:le.Lc}}},2961:(Mt,Be,V)=>{"use strict";V.d(Be,{Hp:()=>Fe,Lv:()=>Q});var _=V(576),le=V(727),k=V(2416),_e=V(7849);function we(){}const Te=ae("C",void 0,void 0);function ae(Le,re,Se){return{kind:Le,value:re,error:Se}}var B=V(3410),H=V(2806);class Q extends le.w0{constructor(re){super(),this.isStopped=!1,re?(this.destination=re,(0,le.Nn)(re)&&re.add(this)):this.destination=ut}static create(re,Se,ne){return new Fe(re,Se,ne)}next(re){this.isStopped?ht(function te(Le){return ae("N",Le,void 0)}(re),this):this._next(re)}error(re){this.isStopped?ht(function G(Le){return ae("E",void 0,Le)}(re),this):(this.isStopped=!0,this._error(re))}complete(){this.isStopped?ht(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(re){this.destination.next(re)}_error(re){try{this.destination.error(re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function J(Le,re){return Ze.call(Le,re)}class X{constructor(re){this.partialObserver=re}next(re){const{partialObserver:Se}=this;if(Se.next)try{Se.next(re)}catch(ne){ge(ne)}}error(re){const{partialObserver:Se}=this;if(Se.error)try{Se.error(re)}catch(ne){ge(ne)}else ge(re)}complete(){const{partialObserver:re}=this;if(re.complete)try{re.complete()}catch(Se){ge(Se)}}}class Fe extends Q{constructor(re,Se,ne){let fe;if(super(),(0,_.m)(re)||!re)fe={next:re??void 0,error:Se??void 0,complete:ne??void 0};else{let qe;this&&k.v.useDeprecatedNextContext?(qe=Object.create(re),qe.unsubscribe=()=>this.unsubscribe(),fe={next:re.next&&J(re.next,qe),error:re.error&&J(re.error,qe),complete:re.complete&&J(re.complete,qe)}):fe=re}this.destination=new X(fe)}}function ge(Le){k.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Le):(0,_e.h)(Le)}function ht(Le,re){const{onStoppedNotification:Se}=k.v;Se&&B.z.setTimeout(()=>Se(Le,re))}const ut={closed:!0,next:we,error:function Ee(Le){throw Le},complete:we}},727:(Mt,Be,V)=>{"use strict";V.d(Be,{Lc:()=>Te,w0:()=>we,Nn:()=>G});var _=V(576);const k=(0,V(3888).d)(ae=>function(H){ae(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Ze)=>`${Ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var _e=V(8737);class we{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const J of H)J.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,_.m)(Q))try{Q()}catch(J){B=J instanceof k?J.errors:[J]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const J of Ze)try{te(J)}catch(X){B=B??[],X instanceof k?B=[...B,...X.errors]:B.push(X)}}if(B)throw new k(B)}}add(B){var H;if(B&&B!==this)if(this.closed)te(B);else{if(B instanceof we){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(B)}}_hasParent(B){const{_parentage:H}=this;return H===B||Array.isArray(H)&&H.includes(B)}_addParent(B){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(B),H):H?[H,B]:B}_removeParent(B){const{_parentage:H}=this;H===B?this._parentage=null:Array.isArray(H)&&(0,_e.P)(H,B)}remove(B){const{_finalizers:H}=this;H&&(0,_e.P)(H,B),B instanceof we&&B._removeParent(this)}}we.EMPTY=(()=>{const ae=new we;return ae.closed=!0,ae})();const Te=we.EMPTY;function G(ae){return ae instanceof we||ae&&"closed"in ae&&(0,_.m)(ae.remove)&&(0,_.m)(ae.add)&&(0,_.m)(ae.unsubscribe)}function te(ae){(0,_.m)(ae)?ae():ae.unsubscribe()}},2416:(Mt,Be,V)=>{"use strict";V.d(Be,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Mt,Be,V)=>{"use strict";V.d(Be,{E:()=>le});const le=new(V(9751).y)(we=>we.complete())},8996:(Mt,Be,V)=>{"use strict";V.d(Be,{D:()=>re});var _=V(8421),le=V(5363),k=V(9468),Te=V(9751),te=V(2202),ae=V(576),B=V(9672);function Q(Se,ne){if(!Se)throw new Error("Iterable cannot be null");return new Te.y(fe=>{(0,B.f)(fe,ne,()=>{const qe=Se[Symbol.asyncIterator]();(0,B.f)(fe,ne,()=>{qe.next().then(se=>{se.done?fe.complete():fe.next(se.value)})},0,!0)})})}var Ze=V(3670),J=V(8239),X=V(1144),Fe=V(6495),ge=V(2206),Ee=V(4532),ht=V(3260);function re(Se,ne){return ne?function Le(Se,ne){if(null!=Se){if((0,Ze.c)(Se))return function _e(Se,ne){return(0,_.Xf)(Se).pipe((0,k.R)(ne),(0,le.Q)(ne))}(Se,ne);if((0,X.z)(Se))return function G(Se,ne){return new Te.y(fe=>{let qe=0;return ne.schedule(function(){qe===Se.length?fe.complete():(fe.next(Se[qe++]),fe.closed||this.schedule())})})}(Se,ne);if((0,J.t)(Se))return function we(Se,ne){return(0,_.Xf)(Se).pipe((0,k.R)(ne),(0,le.Q)(ne))}(Se,ne);if((0,ge.D)(Se))return Q(Se,ne);if((0,Fe.T)(Se))return function H(Se,ne){return new Te.y(fe=>{let qe;return(0,B.f)(fe,ne,()=>{qe=Se[te.h](),(0,B.f)(fe,ne,()=>{let se,pt;try{({value:se,done:pt}=qe.next())}catch(tt){return void fe.error(tt)}pt?fe.complete():fe.next(se)},0,!0)}),()=>(0,ae.m)(qe?.return)&&qe.return()})}(Se,ne);if((0,ht.L)(Se))return function ut(Se,ne){return Q((0,ht.Q)(Se),ne)}(Se,ne)}throw(0,Ee.z)(Se)}(Se,ne):(0,_.Xf)(Se)}},8421:(Mt,Be,V)=>{"use strict";V.d(Be,{Xf:()=>Ze});var _=V(655),le=V(1144),k=V(8239),_e=V(9751),we=V(3670),Te=V(2206),G=V(4532),te=V(6495),ae=V(3260),B=V(576),H=V(7849),Q=V(8822);function Ze(Le){if(Le instanceof _e.y)return Le;if(null!=Le){if((0,we.c)(Le))return function J(Le){return new _e.y(re=>{const Se=Le[Q.L]();if((0,B.m)(Se.subscribe))return Se.subscribe(re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,le.z)(Le))return function X(Le){return new _e.y(re=>{for(let Se=0;Se<Le.length&&!re.closed;Se++)re.next(Le[Se]);re.complete()})}(Le);if((0,k.t)(Le))return function Fe(Le){return new _e.y(re=>{Le.then(Se=>{re.closed||(re.next(Se),re.complete())},Se=>re.error(Se)).then(null,H.h)})}(Le);if((0,Te.D)(Le))return Ee(Le);if((0,te.T)(Le))return function ge(Le){return new _e.y(re=>{for(const Se of Le)if(re.next(Se),re.closed)return;re.complete()})}(Le);if((0,ae.L)(Le))return function ht(Le){return Ee((0,ae.Q)(Le))}(Le)}throw(0,G.z)(Le)}function Ee(Le){return new _e.y(re=>{(function ut(Le,re){var Se,ne,fe,qe;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Se=(0,_.KL)(Le);!(ne=yield Se.next()).done;)if(re.next(ne.value),re.closed)return}catch(se){fe={error:se}}finally{try{ne&&!ne.done&&(qe=Se.return)&&(yield qe.call(Se))}finally{if(fe)throw fe.error}}re.complete()})})(Le,re).catch(Se=>re.error(Se))})}},6451:(Mt,Be,V)=>{"use strict";V.d(Be,{T:()=>Te});var _=V(8189),le=V(8421),k=V(515),_e=V(7669),we=V(8996);function Te(...G){const te=(0,_e.yG)(G),ae=(0,_e._6)(G,1/0),B=G;return B.length?1===B.length?(0,le.Xf)(B[0]):(0,_.J)(ae)((0,we.D)(B,te)):k.E}},5403:(Mt,Be,V)=>{"use strict";V.d(Be,{x:()=>le});var _=V(2961);function le(_e,we,Te,G,te){return new k(_e,we,Te,G,te)}class k extends _.Lv{constructor(we,Te,G,te,ae,B){super(we),this.onFinalize=ae,this.shouldUnsubscribe=B,this._next=Te?function(H){try{Te(H)}catch(Q){we.error(Q)}}:super._next,this._error=te?function(H){try{te(H)}catch(Q){we.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=G?function(){try{G()}catch(H){we.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(Mt,Be,V)=>{"use strict";V.d(Be,{U:()=>k});var _=V(4482),le=V(5403);function k(_e,we){return(0,_.e)((Te,G)=>{let te=0;Te.subscribe((0,le.x)(G,ae=>{G.next(_e.call(we,ae,te++))}))})}},8189:(Mt,Be,V)=>{"use strict";V.d(Be,{J:()=>k});var _=V(5577),le=V(4671);function k(_e=1/0){return(0,_.z)(le.y,_e)}},5577:(Mt,Be,V)=>{"use strict";V.d(Be,{z:()=>te});var _=V(4004),le=V(8421),k=V(4482),_e=V(9672),we=V(5403),G=V(576);function te(ae,B,H=1/0){return(0,G.m)(B)?te((Q,Ze)=>(0,_.U)((J,X)=>B(Q,J,Ze,X))((0,le.Xf)(ae(Q,Ze))),H):("number"==typeof B&&(H=B),(0,k.e)((Q,Ze)=>function Te(ae,B,H,Q,Ze,J,X,Fe){const ge=[];let Ee=0,ht=0,ut=!1;const Le=()=>{ut&&!ge.length&&!Ee&&B.complete()},re=ne=>Ee<Q?Se(ne):ge.push(ne),Se=ne=>{J&&B.next(ne),Ee++;let fe=!1;(0,le.Xf)(H(ne,ht++)).subscribe((0,we.x)(B,qe=>{Ze?.(qe),J?re(qe):B.next(qe)},()=>{fe=!0},void 0,()=>{if(fe)try{for(Ee--;ge.length&&Ee<Q;){const qe=ge.shift();X?(0,_e.f)(B,X,()=>Se(qe)):Se(qe)}Le()}catch(qe){B.error(qe)}}))};return ae.subscribe((0,we.x)(B,re,()=>{ut=!0,Le()})),()=>{Fe?.()}}(Q,Ze,ae,H)))}},5363:(Mt,Be,V)=>{"use strict";V.d(Be,{Q:()=>_e});var _=V(9672),le=V(4482),k=V(5403);function _e(we,Te=0){return(0,le.e)((G,te)=>{G.subscribe((0,k.x)(te,ae=>(0,_.f)(te,we,()=>te.next(ae),Te),()=>(0,_.f)(te,we,()=>te.complete(),Te),ae=>(0,_.f)(te,we,()=>te.error(ae),Te)))})}},3099:(Mt,Be,V)=>{"use strict";V.d(Be,{B:()=>we});var _=V(8421),le=V(7579),k=V(2961),_e=V(4482);function we(G={}){const{connector:te=(()=>new le.x),resetOnError:ae=!0,resetOnComplete:B=!0,resetOnRefCountZero:H=!0}=G;return Q=>{let Ze,J,X,Fe=0,ge=!1,Ee=!1;const ht=()=>{J?.unsubscribe(),J=void 0},ut=()=>{ht(),Ze=X=void 0,ge=Ee=!1},Le=()=>{const re=Ze;ut(),re?.unsubscribe()};return(0,_e.e)((re,Se)=>{Fe++,!Ee&&!ge&&ht();const ne=X=X??te();Se.add(()=>{Fe--,0===Fe&&!Ee&&!ge&&(J=Te(Le,H))}),ne.subscribe(Se),!Ze&&Fe>0&&(Ze=new k.Hp({next:fe=>ne.next(fe),error:fe=>{Ee=!0,ht(),J=Te(ut,ae,fe),ne.error(fe)},complete:()=>{ge=!0,ht(),J=Te(ut,B),ne.complete()}}),(0,_.Xf)(re).subscribe(Ze))})(Q)}}function Te(G,te,...ae){if(!0===te)return void G();if(!1===te)return;const B=new k.Hp({next:()=>{B.unsubscribe(),G()}});return te(...ae).subscribe(B)}},9468:(Mt,Be,V)=>{"use strict";V.d(Be,{R:()=>le});var _=V(4482);function le(k,_e=0){return(0,_.e)((we,Te)=>{Te.add(k.schedule(()=>we.subscribe(Te),_e))})}},8505:(Mt,Be,V)=>{"use strict";V.d(Be,{b:()=>we});var _=V(576),le=V(4482),k=V(5403),_e=V(4671);function we(Te,G,te){const ae=(0,_.m)(Te)||G||te?{next:Te,error:G,complete:te}:Te;return ae?(0,le.e)((B,H)=>{var Q;null===(Q=ae.subscribe)||void 0===Q||Q.call(ae);let Ze=!0;B.subscribe((0,k.x)(H,J=>{var X;null===(X=ae.next)||void 0===X||X.call(ae,J),H.next(J)},()=>{var J;Ze=!1,null===(J=ae.complete)||void 0===J||J.call(ae),H.complete()},J=>{var X;Ze=!1,null===(X=ae.error)||void 0===X||X.call(ae,J),H.error(J)},()=>{var J,X;Ze&&(null===(J=ae.unsubscribe)||void 0===J||J.call(ae)),null===(X=ae.finalize)||void 0===X||X.call(ae)}))}):_e.y}},4408:(Mt,Be,V)=>{"use strict";V.d(Be,{o:()=>we});var _=V(727);class le extends _.w0{constructor(G,te){super()}schedule(G,te=0){return this}}const k={setInterval(Te,G,...te){const{delegate:ae}=k;return ae?.setInterval?ae.setInterval(Te,G,...te):setInterval(Te,G,...te)},clearInterval(Te){const{delegate:G}=k;return(G?.clearInterval||clearInterval)(Te)},delegate:void 0};var _e=V(8737);class we extends le{constructor(G,te){super(G,te),this.scheduler=G,this.work=te,this.pending=!1}schedule(G,te=0){var ae;if(this.closed)return this;this.state=G;const B=this.id,H=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(H,B,te)),this.pending=!0,this.delay=te,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(H,this.id,te),this}requestAsyncId(G,te,ae=0){return k.setInterval(G.flush.bind(G,this),ae)}recycleAsyncId(G,te,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return te;null!=te&&k.clearInterval(te)}execute(G,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(G,te);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(G,te){let B,ae=!1;try{this.work(G)}catch(H){ae=!0,B=H||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:G,scheduler:te}=this,{actions:ae}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(ae,this),null!=G&&(this.id=this.recycleAsyncId(te,G,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,Be,V)=>{"use strict";V.d(Be,{v:()=>k});var _=V(6063);class le{constructor(we,Te=le.now){this.schedulerActionCtor=we,this.now=Te}schedule(we,Te=0,G){return new this.schedulerActionCtor(this,we).schedule(G,Te)}}le.now=_.l.now;class k extends le{constructor(we,Te=le.now){super(we,Te),this.actions=[],this._active=!1}flush(we){const{actions:Te}=this;if(this._active)return void Te.push(we);let G;this._active=!0;do{if(G=we.execute(we.state,we.delay))break}while(we=Te.shift());if(this._active=!1,G){for(;we=Te.shift();)we.unsubscribe();throw G}}}},4986:(Mt,Be,V)=>{"use strict";V.d(Be,{z:()=>k});var _=V(4408);const k=new(V(7565).v)(_.o)},6063:(Mt,Be,V)=>{"use strict";V.d(Be,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Mt,Be,V)=>{"use strict";V.d(Be,{z:()=>_});const _={setTimeout(le,k,..._e){const{delegate:we}=_;return we?.setTimeout?we.setTimeout(le,k,..._e):setTimeout(le,k,..._e)},clearTimeout(le){const{delegate:k}=_;return(k?.clearTimeout||clearTimeout)(le)},delegate:void 0}},2202:(Mt,Be,V)=>{"use strict";V.d(Be,{h:()=>le});const le=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,Be,V)=>{"use strict";V.d(Be,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Mt,Be,V)=>{"use strict";V.d(Be,{_6:()=>Te,jO:()=>_e,yG:()=>we});var _=V(576);function k(G){return G[G.length-1]}function _e(G){return(0,_.m)(k(G))?G.pop():void 0}function we(G){return function le(G){return G&&(0,_.m)(G.schedule)}(k(G))?G.pop():void 0}function Te(G,te){return"number"==typeof k(G)?G.pop():te}},8737:(Mt,Be,V)=>{"use strict";function _(le,k){if(le){const _e=le.indexOf(k);0<=_e&&le.splice(_e,1)}}V.d(Be,{P:()=>_})},3888:(Mt,Be,V)=>{"use strict";function _(le){const _e=le(we=>{Error.call(we),we.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}V.d(Be,{d:()=>_})},2806:(Mt,Be,V)=>{"use strict";V.d(Be,{O:()=>_e,x:()=>k});var _=V(2416);let le=null;function k(we){if(_.v.useDeprecatedSynchronousErrorHandling){const Te=!le;if(Te&&(le={errorThrown:!1,error:null}),we(),Te){const{errorThrown:G,error:te}=le;if(le=null,G)throw te}}else we()}function _e(we){_.v.useDeprecatedSynchronousErrorHandling&&le&&(le.errorThrown=!0,le.error=we)}},9672:(Mt,Be,V)=>{"use strict";function _(le,k,_e,we=0,Te=!1){const G=k.schedule(function(){_e(),Te?le.add(this.schedule(null,we)):this.unsubscribe()},we);if(le.add(G),!Te)return G}V.d(Be,{f:()=>_})},4671:(Mt,Be,V)=>{"use strict";function _(le){return le}V.d(Be,{y:()=>_})},1144:(Mt,Be,V)=>{"use strict";V.d(Be,{z:()=>_});const _=le=>le&&"number"==typeof le.length&&"function"!=typeof le},2206:(Mt,Be,V)=>{"use strict";V.d(Be,{D:()=>le});var _=V(576);function le(k){return Symbol.asyncIterator&&(0,_.m)(k?.[Symbol.asyncIterator])}},576:(Mt,Be,V)=>{"use strict";function _(le){return"function"==typeof le}V.d(Be,{m:()=>_})},3670:(Mt,Be,V)=>{"use strict";V.d(Be,{c:()=>k});var _=V(8822),le=V(576);function k(_e){return(0,le.m)(_e[_.L])}},6495:(Mt,Be,V)=>{"use strict";V.d(Be,{T:()=>k});var _=V(2202),le=V(576);function k(_e){return(0,le.m)(_e?.[_.h])}},8239:(Mt,Be,V)=>{"use strict";V.d(Be,{t:()=>le});var _=V(576);function le(k){return(0,_.m)(k?.then)}},3260:(Mt,Be,V)=>{"use strict";V.d(Be,{L:()=>_e,Q:()=>k});var _=V(655),le=V(576);function k(we){return(0,_.FC)(this,arguments,function*(){const G=we.getReader();try{for(;;){const{value:te,done:ae}=yield(0,_.qq)(G.read());if(ae)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(te)}}finally{G.releaseLock()}})}function _e(we){return(0,le.m)(we?.getReader)}},4482:(Mt,Be,V)=>{"use strict";V.d(Be,{A:()=>le,e:()=>k});var _=V(576);function le(_e){return(0,_.m)(_e?.lift)}function k(_e){return we=>{if(le(we))return we.lift(function(Te){try{return _e(Te,this)}catch(G){this.error(G)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Mt,Be,V)=>{"use strict";V.d(Be,{U:()=>k,z:()=>le});var _=V(4671);function le(..._e){return k(_e)}function k(_e){return 0===_e.length?_.y:1===_e.length?_e[0]:function(Te){return _e.reduce((G,te)=>te(G),Te)}}},7849:(Mt,Be,V)=>{"use strict";V.d(Be,{h:()=>k});var _=V(2416),le=V(3410);function k(_e){le.z.setTimeout(()=>{const{onUnhandledError:we}=_.v;if(!we)throw _e;we(_e)})}},4532:(Mt,Be,V)=>{"use strict";function _(le){return new TypeError(`You provided ${null!==le&&"object"==typeof le?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Be,{z:()=>_})},3137:function(Mt,Be,V){var _,le;_=function(){"use strict";var k=function(){G.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};k.version="2.0.8",typeof window<"u"&&window.addEventListener("mousewheel",void 0);var _e="data-scrollmagic-pin-spacer";k.Controller=function(te){var Se,ne,ae="ScrollMagic.Controller",H="REVERSE",Q="PAUSED",Ze=we.defaults,J=this,X=G.extend({},Ze,te),Fe=[],ge=!1,Ee=0,ht=Q,ut=!0,Le=0,re=!0,qe=function(){X.refreshInterval>0&&(ne=window.setTimeout(xe,X.refreshInterval))},se=function(){return X.vertical?G.get.scrollTop(X.container):G.get.scrollLeft(X.container)},pt=function(){return X.vertical?G.get.height(X.container):G.get.width(X.container)},tt=this._setScrollPos=function(Y){X.vertical?ut?window.scrollTo(G.get.scrollLeft(),Y):X.container.scrollTop=Y:ut?window.scrollTo(Y,G.get.scrollTop()):X.container.scrollLeft=Y},Gt=function(){if(re&&ge){var Y=G.type.Array(ge)?ge:Fe.slice(0);ge=!1;var Ie=Ee,je=(Ee=J.scrollPos())-Ie;0!==je&&(ht=je>0?"FORWARD":H),ht===H&&Y.reverse(),Y.forEach(function(bt,mt){oe(3,"updating Scene "+(mt+1)+"/"+Y.length+" ("+Fe.length+" total)"),bt.update(!0)}),0===Y.length&&X.loglevel>=3&&oe(3,"updating 0 Scenes (nothing added to controller)")}},gt=function(){Se=G.rAF(Gt)},Sr=function(Y){oe(3,"event fired causing an update:",Y.type),"resize"==Y.type&&(Le=pt(),ht=Q),!0!==ge&&(ge=!0,gt())},xe=function(){if(!ut&&Le!=pt()){var Y;try{Y=new Event("resize",{bubbles:!1,cancelable:!1})}catch{(Y=document.createEvent("Event")).initEvent("resize",!1,!1)}X.container.dispatchEvent(Y)}Fe.forEach(function(Ie,je){Ie.refresh()}),qe()},oe=this._log=function(Y,Ie){X.loglevel>=Y&&(Array.prototype.splice.call(arguments,1,0,"("+ae+") ->"),G.log.apply(window,arguments))};this._options=X;var ve=function(Y){if(Y.length<=1)return Y;var Ie=Y.slice(0);return Ie.sort(function(je,bt){return je.scrollOffset()>bt.scrollOffset()?1:-1}),Ie};return this.addScene=function(Y){if(G.type.Array(Y))Y.forEach(function(je,bt){J.addScene(je)});else if(Y instanceof k.Scene){if(Y.controller()!==J)Y.addTo(J);else if(Fe.indexOf(Y)<0){for(var Ie in Fe.push(Y),Fe=ve(Fe),Y.on("shift.controller_sort",function(){Fe=ve(Fe)}),X.globalSceneOptions)Y[Ie]&&Y[Ie].call(Y,X.globalSceneOptions[Ie]);oe(3,"adding Scene (now "+Fe.length+" total)")}}else oe(1,"ERROR: invalid argument supplied for '.addScene()'");return J},this.removeScene=function(Y){if(G.type.Array(Y))Y.forEach(function(je,bt){J.removeScene(je)});else{var Ie=Fe.indexOf(Y);Ie>-1&&(Y.off("shift.controller_sort"),Fe.splice(Ie,1),oe(3,"removing Scene (now "+Fe.length+" left)"),Y.remove())}return J},this.updateScene=function(Y,Ie){return G.type.Array(Y)?Y.forEach(function(je,bt){J.updateScene(je,Ie)}):Ie?Y.update(!0):!0!==ge&&Y instanceof k.Scene&&(-1==(ge=ge||[]).indexOf(Y)&&ge.push(Y),ge=ve(ge),gt()),J},this.update=function(Y){return Sr({type:"resize"}),Y&&Gt(),J},this.scrollTo=function(Y,Ie){if(G.type.Number(Y))tt.call(X.container,Y,Ie);else if(Y instanceof k.Scene)Y.controller()===J?J.scrollTo(Y.scrollOffset(),Ie):oe(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",Y);else if(G.type.Function(Y))tt=Y;else{var je=G.get.elements(Y)[0];if(je){for(;je.parentNode.hasAttribute(_e);)je=je.parentNode;var bt=X.vertical?"top":"left",mt=G.get.offset(X.container),It=G.get.offset(je);ut||(mt[bt]-=J.scrollPos()),J.scrollTo(It[bt]-mt[bt],Ie)}else oe(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",Y)}return J},this.scrollPos=function(Y){return arguments.length?(G.type.Function(Y)?se=Y:oe(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),J):se.call(J)},this.info=function(Y){var Ie={size:Le,vertical:X.vertical,scrollPos:Ee,scrollDirection:ht,container:X.container,isDocument:ut};return arguments.length?void 0!==Ie[Y]?Ie[Y]:void oe(1,'ERROR: option "'+Y+'" is not available'):Ie},this.loglevel=function(Y){return arguments.length?(X.loglevel!=Y&&(X.loglevel=Y),J):X.loglevel},this.enabled=function(Y){return arguments.length?(re!=Y&&(re=!!Y,J.updateScene(Fe,!0)),J):re},this.destroy=function(Y){window.clearTimeout(ne);for(var Ie=Fe.length;Ie--;)Fe[Ie].destroy(Y);return X.container.removeEventListener("resize",Sr),X.container.removeEventListener("scroll",Sr),G.cAF(Se),oe(3,"destroyed "+ae+" (reset: "+(Y?"true":"false")+")"),null},function(){for(var Y in X)Ze.hasOwnProperty(Y)||(oe(2,'WARNING: Unknown option "'+Y+'"'),delete X[Y]);if(X.container=G.get.elements(X.container)[0],!X.container)throw oe(1,"ERROR creating object "+ae+": No valid scroll container supplied"),ae+" init failed.";(ut=X.container===window||X.container===document.body||!document.body.contains(X.container))&&(X.container=window),Le=pt(),X.container.addEventListener("resize",Sr),X.container.addEventListener("scroll",Sr);var Ie=parseInt(X.refreshInterval,10);X.refreshInterval=G.type.Number(Ie)?Ie:Ze.refreshInterval,qe(),oe(3,"added new "+ae+" controller (v"+k.version+")")}(),J};var we={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};k.Controller.addOption=function(te,ae){we.defaults[te]=ae},k.Controller.extend=function(te){var ae=this;k.Controller=function(){return ae.apply(this,arguments),this.$super=G.extend({},this),te.apply(this,arguments)||this},G.extend(k.Controller,ae),(k.Controller.prototype=ae.prototype).constructor=k.Controller},k.Scene=function(te){var Le,re,ae="ScrollMagic.Scene",B="BEFORE",H="DURING",Q="AFTER",Ze=Te.defaults,J=this,X=G.extend({},Ze,te),Fe=B,ge=0,Ee={start:0,end:0},ht=0,ut=!0,ne={};this.on=function(he,$e){return G.type.Function($e)?(he=he.trim().split(" ")).forEach(function(it){var Rt=it.split("."),Vt=Rt[0],Zt=Rt[1];"*"!=Vt&&(ne[Vt]||(ne[Vt]=[]),ne[Vt].push({namespace:Zt||"",callback:$e}))}):fe(1,"ERROR when calling '.on()': Supplied callback for '"+he+"' is not a valid function!"),J},this.off=function(he,$e){return he?((he=he.trim().split(" ")).forEach(function(it,Rt){var Vt=it.split("."),Zt=Vt[0],Bt=Vt[1]||"";("*"===Zt?Object.keys(ne):[Zt]).forEach(function(jn){for(var pr=ne[jn]||[],Di=pr.length;Di--;){var vt=pr[Di];vt&&(Bt===vt.namespace||"*"===Bt)&&(!$e||$e==vt.callback)&&pr.splice(Di,1)}pr.length||delete ne[jn]})}),J):(fe(1,"ERROR: Invalid event name supplied."),J)},this.trigger=function(he,$e){if(he){var it=he.trim().split("."),Rt=it[0],Vt=it[1],Zt=ne[Rt];fe(3,"event fired:",Rt,$e?"->":"",$e||""),Zt&&Zt.forEach(function(Bt,ln){(!Vt||Vt===Bt.namespace)&&Bt.callback.call(J,new k.Event(Rt,Bt.namespace,J,$e))})}else fe(1,"ERROR: Invalid event name supplied.");return J},J.on("change.internal",function(he){"loglevel"!==he.what&&"tweenChanges"!==he.what&&("triggerElement"===he.what?pt():"reverse"===he.what&&J.update())}).on("shift.internal",function(he){qe(),J.update()});var fe=this._log=function(he,$e){X.loglevel>=he&&(Array.prototype.splice.call(arguments,1,0,"("+ae+") ->"),G.log.apply(window,arguments))};this.addTo=function(he){return he instanceof k.Controller?re!=he&&(re&&re.removeScene(J),re=he,gt(),se(!0),pt(!0),qe(),re.info("container").addEventListener("resize",tt),he.addScene(J),J.trigger("add",{controller:re}),fe(3,"added "+ae+" to controller"),J.update()):fe(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),J},this.enabled=function(he){return arguments.length?(ut!=he&&(ut=!!he,J.update(!0)),J):ut},this.remove=function(){if(re){re.info("container").removeEventListener("resize",tt);var he=re;re=void 0,he.removeScene(J),J.trigger("remove"),fe(3,"removed "+ae+" from controller")}return J},this.destroy=function(he){return J.trigger("destroy",{reset:he}),J.remove(),J.off("*.*"),fe(3,"destroyed "+ae+" (reset: "+(he?"true":"false")+")"),null},this.update=function(he){if(re)if(he)if(re.enabled()&&ut){var it,$e=re.info("scrollPos");it=X.duration>0?($e-Ee.start)/(Ee.end-Ee.start):$e>=Ee.start?1:0,J.trigger("update",{startPos:Ee.start,endPos:Ee.end,scrollPos:$e}),J.progress(it)}else oe&&Fe===H&&Y(!0);else re.updateScene(J,!1);return J},this.refresh=function(){return se(),pt(),J},this.progress=function(he){if(arguments.length){var $e=!1,it=Fe,Rt=re?re.info("scrollDirection"):"PAUSED",Vt=X.reverse||he>=ge;if(0===X.duration?($e=ge!=he,Fe=0==(ge=he<1&&Vt?0:1)?B:H):he<0&&Fe!==B&&Vt?(ge=0,Fe=B,$e=!0):he>=0&&he<1&&Vt?(ge=he,Fe=H,$e=!0):he>=1&&Fe!==Q?(ge=1,Fe=Q,$e=!0):Fe===H&&!Vt&&Y(),$e){var Zt={progress:ge,state:Fe,scrollDirection:Rt},Bt=Fe!=it,ln=function(jn){J.trigger(jn,Zt)};Bt&&it!==H&&(ln("enter"),ln(it===B?"start":"end")),ln("progress"),Bt&&Fe!==H&&(ln(Fe===B?"start":"end"),ln("leave"))}return J}return ge};var oe,ve,qe=function(){Ee={start:ht+X.offset},re&&X.triggerElement&&(Ee.start-=re.info("size")*X.triggerHook),Ee.end=Ee.start+X.duration},se=function(he){if(Le){var $e="duration";Sr($e,Le.call(J))&&!he&&(J.trigger("change",{what:$e,newval:X[$e]}),J.trigger("shift",{reason:$e}))}},pt=function(he){var $e=0,it=X.triggerElement;if(re&&(it||ht>0)){if(it)if(it.parentNode){for(var Rt=re.info(),Vt=G.get.offset(Rt.container),Zt=Rt.vertical?"top":"left";it.parentNode.hasAttribute(_e);)it=it.parentNode;var Bt=G.get.offset(it);Rt.isDocument||(Vt[Zt]-=re.scrollPos()),$e=Bt[Zt]-Vt[Zt]}else fe(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),J.triggerElement(void 0);var ln=$e!=ht;ht=$e,ln&&!he&&J.trigger("shift",{reason:"triggerElementPosition"})}},tt=function(he){X.triggerHook>0&&J.trigger("shift",{reason:"containerResize"})},Gt=G.extend(Te.validate,{duration:function(he){if(G.type.String(he)&&he.match(/^(\.|\d)*\d+%$/)){var $e=parseFloat(he)/100;he=function(){return re?re.info("size")*$e:0}}if(G.type.Function(he)){Le=he;try{he=parseFloat(Le.call(J))}catch{he=-1}}if(he=parseFloat(he),!G.type.Number(he)||he<0)throw Le?(Le=void 0,['Invalid return value of supplied function for option "duration":',he]):['Invalid value for option "duration":',he];return he}}),gt=function(he){(he=arguments.length?[he]:Object.keys(Gt)).forEach(function($e,it){var Rt;if(Gt[$e])try{Rt=Gt[$e](X[$e])}catch(Zt){Rt=Ze[$e];var Vt=G.type.String(Zt)?[Zt]:Zt;G.type.Array(Vt)?(Vt[0]="ERROR: "+Vt[0],Vt.unshift(1),fe.apply(this,Vt)):fe(1,"ERROR: Problem executing validation callback for option '"+$e+"':",Zt.message)}finally{X[$e]=Rt}})},Sr=function(he,$e){var it=!1,Rt=X[he];return X[he]!=$e&&(X[he]=$e,gt(he),it=Rt!=X[he]),it},xe=function(he){J[he]||(J[he]=function($e){return arguments.length?("duration"===he&&(Le=void 0),Sr(he,$e)&&(J.trigger("change",{what:he,newval:X[he]}),Te.shifts.indexOf(he)>-1&&J.trigger("shift",{reason:he})),J):X[he]})};this.controller=function(){return re},this.state=function(){return Fe},this.scrollOffset=function(){return Ee.start},this.triggerPosition=function(){var he=X.offset;return re&&(he+=X.triggerElement?ht:re.info("size")*J.triggerHook()),he},J.on("shift.internal",function(he){var $e="duration"===he.reason;(Fe===Q&&$e||Fe===H&&0===X.duration)&&Y(),$e&&Ie()}).on("progress.internal",function(he){Y()}).on("add.internal",function(he){Ie()}).on("destroy.internal",function(he){J.removePin(he.reset)});var Y=function(he){if(oe&&re){var $e=re.info(),it=ve.spacer.firstChild;if(he||Fe!==H){var Zt={position:ve.inFlow?"relative":"absolute",top:0,left:0},Bt=G.css(it,"position")!=Zt.position;ve.pushFollowers?X.duration>0&&(Fe===Q&&0===parseFloat(G.css(ve.spacer,"padding-top"))||Fe===B&&0===parseFloat(G.css(ve.spacer,"padding-bottom")))&&(Bt=!0):Zt[$e.vertical?"top":"left"]=X.duration*ge,G.css(it,Zt),Bt&&Ie()}else{"fixed"!=G.css(it,"position")&&(G.css(it,{position:"fixed"}),Ie());var Rt=G.get.offset(ve.spacer,!0),Vt=X.reverse||0===X.duration?$e.scrollPos-Ee.start:Math.round(ge*X.duration*10)/10;Rt[$e.vertical?"top":"left"]+=Vt,G.css(ve.spacer.firstChild,{top:Rt.top,left:Rt.left})}}},Ie=function(){if(oe&&re&&ve.inFlow){var it=Fe===H,Rt=re.info("vertical"),Vt=ve.spacer.firstChild,Zt=G.isMarginCollapseType(G.css(ve.spacer,"display")),Bt={};ve.relSize.width||ve.relSize.autoFullWidth?G.css(oe,it?{width:G.get.width(ve.spacer)}:{width:"100%"}):(Bt["min-width"]=G.get.width(Rt?oe:Vt,!0,!0),Bt.width=it?Bt["min-width"]:"auto"),ve.relSize.height?G.css(oe,it?{height:G.get.height(ve.spacer)-(ve.pushFollowers?X.duration:0)}:{height:"100%"}):(Bt["min-height"]=G.get.height(Rt?Vt:oe,!0,!Zt),Bt.height=it?Bt["min-height"]:"auto"),ve.pushFollowers&&(Bt["padding"+(Rt?"Top":"Left")]=X.duration*ge,Bt["padding"+(Rt?"Bottom":"Right")]=X.duration*(1-ge)),G.css(ve.spacer,Bt)}},je=function(){re&&oe&&Fe===H&&!re.info("isDocument")&&Y()},bt=function(){re&&oe&&Fe===H&&((ve.relSize.width||ve.relSize.autoFullWidth)&&G.get.width(window)!=G.get.width(ve.spacer.parentNode)||ve.relSize.height&&G.get.height(window)!=G.get.height(ve.spacer.parentNode))&&Ie()},mt=function(he){re&&oe&&Fe===H&&!re.info("isDocument")&&(he.preventDefault(),re._setScrollPos(re.info("scrollPos")-((he.wheelDelta||he[re.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-he.detail)))};this.setPin=function(he,$e){var Rt=$e&&$e.hasOwnProperty("pushFollowers");if($e=G.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},$e),!(he=G.get.elements(he)[0]))return fe(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),J;if("fixed"===G.css(he,"position"))return fe(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),J;if(oe){if(oe===he)return J;J.removePin()}var Vt=(oe=he).parentNode.style.display,Zt=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];oe.parentNode.style.display="none";var Bt="absolute"!=G.css(oe,"position"),ln=G.css(oe,Zt.concat(["display"])),jn=G.css(oe,["width","height"]);oe.parentNode.style.display=Vt,!Bt&&$e.pushFollowers&&(fe(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),$e.pushFollowers=!1),window.setTimeout(function(){oe&&0===X.duration&&Rt&&$e.pushFollowers&&fe(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var pr=oe.parentNode.insertBefore(document.createElement("div"),oe),Di=G.extend(ln,{position:Bt?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(Bt||G.extend(Di,G.css(oe,["width","height"])),G.css(pr,Di),pr.setAttribute(_e,""),G.addClass(pr,$e.spacerClass),ve={spacer:pr,relSize:{width:"%"===jn.width.slice(-1),height:"%"===jn.height.slice(-1),autoFullWidth:"auto"===jn.width&&Bt&&G.isMarginCollapseType(ln.display)},pushFollowers:$e.pushFollowers,inFlow:Bt},!oe.___origStyle){oe.___origStyle={};var vt=oe.style;Zt.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(ui){oe.___origStyle[ui]=vt[ui]||""})}return ve.relSize.width&&G.css(pr,{width:jn.width}),ve.relSize.height&&G.css(pr,{height:jn.height}),pr.appendChild(oe),G.css(oe,{position:Bt?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(ve.relSize.width||ve.relSize.autoFullWidth)&&G.css(oe,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",je),window.addEventListener("resize",je),window.addEventListener("resize",bt),oe.addEventListener("mousewheel",mt),oe.addEventListener("DOMMouseScroll",mt),fe(3,"added pin"),Y(),J},this.removePin=function(he){if(oe){if(Fe===H&&Y(!0),he||!re){var $e=ve.spacer.firstChild;if($e.hasAttribute(_e)){var it=ve.spacer.style,Vt={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(Zt){Vt[Zt]=it[Zt]||""}),G.css($e,Vt)}ve.spacer.parentNode.insertBefore($e,ve.spacer),ve.spacer.parentNode.removeChild(ve.spacer),oe.parentNode.hasAttribute(_e)||(G.css(oe,oe.___origStyle),delete oe.___origStyle)}window.removeEventListener("scroll",je),window.removeEventListener("resize",je),window.removeEventListener("resize",bt),oe.removeEventListener("mousewheel",mt),oe.removeEventListener("DOMMouseScroll",mt),oe=void 0,fe(3,"removed pin (reset: "+(he?"true":"false")+")")}return J};var It,wt=[];return J.on("destroy.internal",function(he){J.removeClassToggle(he.reset)}),this.setClassToggle=function(he,$e){var it=G.get.elements(he);return 0!==it.length&&G.type.String($e)?(wt.length>0&&J.removeClassToggle(),It=$e,wt=it,J.on("enter.internal_class leave.internal_class",function(Rt){var Vt="enter"===Rt.type?G.addClass:G.removeClass;wt.forEach(function(Zt,Bt){Vt(Zt,It)})}),J):(fe(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===it.length?"element":"classes")+" supplied."),J)},this.removeClassToggle=function(he){return he&&wt.forEach(function($e,it){G.removeClass($e,It)}),J.off("start.internal_class end.internal_class"),It=void 0,wt=[],J},function(){for(var he in X)Ze.hasOwnProperty(he)||(fe(2,'WARNING: Unknown option "'+he+'"'),delete X[he]);for(var $e in Ze)xe($e);gt()}(),J};var Te={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(te){if(te=parseFloat(te),!G.type.Number(te))throw['Invalid value for option "offset":',te];return te},triggerElement:function(te){if(te=te||void 0){var ae=G.get.elements(te)[0];if(!ae||!ae.parentNode)throw['Element defined in option "triggerElement" was not found:',te];te=ae}return te},triggerHook:function(te){var ae={onCenter:.5,onEnter:1,onLeave:0};if(G.type.Number(te))te=Math.max(0,Math.min(parseFloat(te),1));else{if(!(te in ae))throw['Invalid value for option "triggerHook": ',te];te=ae[te]}return te},reverse:function(te){return!!te},loglevel:function(te){if(te=parseInt(te),!G.type.Number(te)||te<0||te>3)throw['Invalid value for option "loglevel":',te];return te}},shifts:["duration","offset","triggerHook"]};k.Scene.addOption=function(te,ae,B,H){te in Te.defaults?k._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+te+"', because it already exists."):(Te.defaults[te]=ae,Te.validate[te]=B,H&&Te.shifts.push(te))},k.Scene.extend=function(te){var ae=this;k.Scene=function(){return ae.apply(this,arguments),this.$super=G.extend({},this),te.apply(this,arguments)||this},G.extend(k.Scene,ae),(k.Scene.prototype=ae.prototype).constructor=k.Scene},k.Event=function(te,ae,B,H){for(var Q in H=H||{})this[Q]=H[Q];return this.type=te,this.target=this.currentTarget=B,this.namespace=ae||"",this.timeStamp=this.timestamp=Date.now(),this};var G=k._util=function(te){var B,ae={},H=function(ne){return parseFloat(ne)||0},Q=function(ne){return ne.currentStyle?ne.currentStyle:te.getComputedStyle(ne)},Ze=function(ne,fe,qe,se){if((fe=fe===document?te:fe)===te)se=!1;else if(!re.DomElement(fe))return 0;ne=ne.charAt(0).toUpperCase()+ne.substr(1).toLowerCase();var pt=(qe?fe["offset"+ne]||fe["outer"+ne]:fe["client"+ne]||fe["inner"+ne])||0;if(qe&&se){var tt=Q(fe);pt+="Height"===ne?H(tt.marginTop)+H(tt.marginBottom):H(tt.marginLeft)+H(tt.marginRight)}return pt},J=function(ne){return ne.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(fe){return fe[1].toUpperCase()})};ae.extend=function(ne){for(ne=ne||{},B=1;B<arguments.length;B++)if(arguments[B])for(var fe in arguments[B])arguments[B].hasOwnProperty(fe)&&(ne[fe]=arguments[B][fe]);return ne},ae.isMarginCollapseType=function(ne){return["block","flex","list-item","table","-webkit-box"].indexOf(ne)>-1};var X=0,Fe=["ms","moz","webkit","o"],ge=te.requestAnimationFrame,Ee=te.cancelAnimationFrame;for(B=0;!ge&&B<Fe.length;++B)ge=te[Fe[B]+"RequestAnimationFrame"],Ee=te[Fe[B]+"CancelAnimationFrame"]||te[Fe[B]+"CancelRequestAnimationFrame"];ge||(ge=function(ne){var fe=(new Date).getTime(),qe=Math.max(0,16-(fe-X)),se=te.setTimeout(function(){ne(fe+qe)},qe);return X=fe+qe,se}),Ee||(Ee=function(ne){te.clearTimeout(ne)}),ae.rAF=ge.bind(te),ae.cAF=Ee.bind(te);var ht=["error","warn","log"],ut=te.console||{};for(ut.log=ut.log||function(){},B=0;B<ht.length;B++){var Le=ht[B];ut[Le]||(ut[Le]=ut.log)}ae.log=function(ne){(ne>ht.length||ne<=0)&&(ne=ht.length);var fe=new Date,qe=("0"+fe.getHours()).slice(-2)+":"+("0"+fe.getMinutes()).slice(-2)+":"+("0"+fe.getSeconds()).slice(-2)+":"+("00"+fe.getMilliseconds()).slice(-3),se=ht[ne-1],pt=Array.prototype.splice.call(arguments,1),tt=Function.prototype.bind.call(ut[se],ut);pt.unshift(qe),tt.apply(ut,pt)};var re=ae.type=function(ne){return Object.prototype.toString.call(ne).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};re.String=function(ne){return"string"===re(ne)},re.Function=function(ne){return"function"===re(ne)},re.Array=function(ne){return Array.isArray(ne)},re.Number=function(ne){return!re.Array(ne)&&ne-parseFloat(ne)+1>=0},re.DomElement=function(ne){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?ne instanceof HTMLElement||ne instanceof SVGElement:ne&&"object"==typeof ne&&null!==ne&&1===ne.nodeType&&"string"==typeof ne.nodeName};var Se=ae.get={};return Se.elements=function(ne){var fe=[];if(re.String(ne))try{ne=document.querySelectorAll(ne)}catch{return fe}if("nodelist"===re(ne)||re.Array(ne)||ne instanceof NodeList)for(var qe=0,se=fe.length=ne.length;qe<se;qe++){var pt=ne[qe];fe[qe]=re.DomElement(pt)?pt:Se.elements(pt)}else(re.DomElement(ne)||ne===document||ne===te)&&(fe=[ne]);return fe},Se.scrollTop=function(ne){return ne&&"number"==typeof ne.scrollTop?ne.scrollTop:te.pageYOffset||0},Se.scrollLeft=function(ne){return ne&&"number"==typeof ne.scrollLeft?ne.scrollLeft:te.pageXOffset||0},Se.width=function(ne,fe,qe){return Ze("width",ne,fe,qe)},Se.height=function(ne,fe,qe){return Ze("height",ne,fe,qe)},Se.offset=function(ne,fe){var qe={top:0,left:0};if(ne&&ne.getBoundingClientRect){var se=ne.getBoundingClientRect();qe.top=se.top,qe.left=se.left,fe||(qe.top+=Se.scrollTop(),qe.left+=Se.scrollLeft())}return qe},ae.addClass=function(ne,fe){fe&&(ne.classList?ne.classList.add(fe):ne.className+=" "+fe)},ae.removeClass=function(ne,fe){fe&&(ne.classList?ne.classList.remove(fe):ne.className=ne.className.replace(new RegExp("(^|\\b)"+fe.split(" ").join("|")+"(\\b|$)","gi")," "))},ae.css=function(ne,fe){if(re.String(fe))return Q(ne)[J(fe)];if(re.Array(fe)){var qe={},se=Q(ne);return fe.forEach(function(Gt,gt){qe[Gt]=se[J(Gt)]}),qe}for(var pt in fe){var tt=fe[pt];tt==parseFloat(tt)&&(tt+="px"),ne.style[J(pt)]=tt}},ae}(window||{});return k.Scene.prototype.addIndicators=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},k.Scene.prototype.removeIndicators=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},k.Scene.prototype.setTween=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},k.Scene.prototype.removeTween=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},k.Scene.prototype.setVelocity=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},k.Scene.prototype.removeVelocity=function(){return k._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},k},void 0!==(le=_.call(Be,V,Be,Mt))&&(Mt.exports=le)},655:(Mt,Be,V)=>{"use strict";function _e(xe,oe){var ve={};for(var Y in xe)Object.prototype.hasOwnProperty.call(xe,Y)&&oe.indexOf(Y)<0&&(ve[Y]=xe[Y]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Y=Object.getOwnPropertySymbols(xe);Ie<Y.length;Ie++)oe.indexOf(Y[Ie])<0&&Object.prototype.propertyIsEnumerable.call(xe,Y[Ie])&&(ve[Y[Ie]]=xe[Y[Ie]])}return ve}function Q(xe,oe,ve,Y){return new(ve||(ve=Promise))(function(je,bt){function mt(he){try{wt(Y.next(he))}catch($e){bt($e)}}function It(he){try{wt(Y.throw(he))}catch($e){bt($e)}}function wt(he){he.done?je(he.value):function Ie(je){return je instanceof ve?je:new ve(function(bt){bt(je)})}(he.value).then(mt,It)}wt((Y=Y.apply(xe,oe||[])).next())})}function Le(xe){return this instanceof Le?(this.v=xe,this):new Le(xe)}function re(xe,oe,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Y=ve.apply(xe,oe||[]),je=[];return Ie={},bt("next"),bt("throw"),bt("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function bt(it){Y[it]&&(Ie[it]=function(Rt){return new Promise(function(Vt,Zt){je.push([it,Rt,Vt,Zt])>1||mt(it,Rt)})})}function mt(it,Rt){try{!function It(it){it.value instanceof Le?Promise.resolve(it.value.v).then(wt,he):$e(je[0][2],it)}(Y[it](Rt))}catch(Vt){$e(je[0][3],Vt)}}function wt(it){mt("next",it)}function he(it){mt("throw",it)}function $e(it,Rt){it(Rt),je.shift(),je.length&&mt(je[0][0],je[0][1])}}function ne(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,oe=xe[Symbol.asyncIterator];return oe?oe.call(xe):(xe=function Fe(xe){var oe="function"==typeof Symbol&&Symbol.iterator,ve=oe&&xe[oe],Y=0;if(ve)return ve.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Y>=xe.length&&(xe=void 0),{value:xe&&xe[Y++],done:!xe}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),ve={},Y("next"),Y("throw"),Y("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Y(je){ve[je]=xe[je]&&function(bt){return new Promise(function(mt,It){!function Ie(je,bt,mt,It){Promise.resolve(It).then(function(wt){je({value:wt,done:mt})},bt)}(mt,It,(bt=xe[je](bt)).done,bt.value)})}}}V.d(Be,{FC:()=>re,KL:()=>ne,_T:()=>_e,mG:()=>Q,qq:()=>Le})},4650:(Mt,Be,V)=>{"use strict";V.d(Be,{$8M:()=>yc,$Z:()=>My,AFp:()=>Bw,ALo:()=>ib,AaK:()=>te,CRH:()=>Rr,CZH:()=>_m,CqO:()=>a_,D6c:()=>KS,Dn7:()=>Cw,EJc:()=>Em,F4k:()=>V0,FYo:()=>Jv,FiY:()=>lo,G48:()=>HS,GfV:()=>e0,JOm:()=>cs,LFG:()=>Xn,LSH:()=>fd,Lbi:()=>wm,Lck:()=>oS,MMx:()=>_w,NdJ:()=>Sf,OlP:()=>wn,Oqu:()=>qg,PXZ:()=>US,Q6J:()=>N0,QGY:()=>Pd,QP$:()=>Ht,Qsj:()=>aI,R0b:()=>ms,RDi:()=>yy,Rgc:()=>zf,SBq:()=>vg,Sil:()=>Tb,Suo:()=>hb,TTD:()=>zi,TgZ:()=>Hg,X6Q:()=>$S,XFs:()=>vt,Xpm:()=>$n,Xts:()=>ef,Y36:()=>ct,YKP:()=>ZD,YNc:()=>k0,Yjl:()=>ee,Yz7:()=>It,Z0I:()=>it,ZZ4:()=>Zd,_UZ:()=>s_,_Vd:()=>_g,_c5:()=>lv,_uU:()=>ro,aQg:()=>Mm,c2e:()=>PS,cJS:()=>he,cg1:()=>me,dDg:()=>X_,dqk:()=>In,eFA:()=>bm,eoX:()=>Kw,f3M:()=>qt,g9A:()=>vm,h0i:()=>Bd,hGG:()=>hE,hij:()=>_t,iGM:()=>O_,ifc:()=>Nt,ip1:()=>G_,jDz:()=>QD,kL8:()=>Io,lG2:()=>j,lqb:()=>yd,lri:()=>Ww,oAB:()=>Ci,q4F:()=>lI,qLn:()=>wg,qZA:()=>Rd,rWj:()=>Dm,sBO:()=>zS,sIi:()=>Bg,s_b:()=>dm,soG:()=>W_,tb:()=>ol,tp0:()=>Ho,uIk:()=>n_,vHH:()=>X,vpe:()=>ta,wAp:()=>Ft,xp6:()=>l0,z2F:()=>J_,zSh:()=>pg,zs3:()=>$c});var _=V(7579),le=V(727),k=V(9751),_e=V(6451),we=V(3099);function Te(s){for(let o in s)if(s[o]===Te)return o;throw Error("Could not find renamed property on target object.")}function te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=Te({__forward_ref__:Te});function H(s){return s.__forward_ref__=H,s.toString=function(){return te(this())},s}function Q(s){return function Ze(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===H}(s)?s():s}class X extends Error{constructor(o,u){super(function Fe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function re(s,o){throw new X(-201,!1)}function Y(s,o){null==s&&function Ie(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function It(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function he(s){return{providers:s.providers||[],imports:s.imports||[]}}function $e(s){return Rt(s,ln)||Rt(s,pr)}function it(s){return null!==$e(s)}function Rt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Bt(s){return s&&(s.hasOwnProperty(jn)||s.hasOwnProperty(Di))?s[jn]:null}const ln=Te({\u0275prov:Te}),jn=Te({\u0275inj:Te}),pr=Te({ngInjectableDef:Te}),Di=Te({ngInjectorDef:Te});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Nr;function ci(s){const o=Nr;return Nr=s,o}function aa(s,o,u){const l=$e(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&vt.Optional?null:void 0!==o?o:void re(te(s))}function gr(s){return{toString:s}.toString()}var On=(()=>((On=On||{})[On.OnPush=0]="OnPush",On[On.Default=1]="Default",On))(),Nt=(()=>{return(s=Nt||(Nt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Nt;var s})();const In=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ar={},jt=[],Lr=Te({\u0275cmp:Te}),vn=Te({\u0275dir:Te}),ua=Te({\u0275pipe:Te}),un=Te({\u0275mod:Te}),mr=Te({\u0275fac:Te}),Fr=Te({__NG_ELEMENT_ID__:Te});let Xi=0;function $n(s){return gr(()=>{const u=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===On.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Nt.Emulated,id:"c"+Xi++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return d.inputs=z(s.inputs,l),d.outputs=z(s.outputs),v&&v.forEach(D=>D(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(Is).filter(Zn):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(nt).filter(Zn):null,d})}function Is(s){return be(s)||de(s)}function Zn(s){return null!==s}function Ci(s){return gr(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return ar;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=l,o&&(o[d]=g)}return u}const j=$n;function ee(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function be(s){return s[Lr]||null}function de(s){return s[vn]||null}function nt(s){return s[ua]||null}function Ht(s){const o=be(s)||de(s)||nt(s);return null!==o&&o.standalone}function Yt(s,o){const u=s[un]||null;if(!u&&!0===o)throw new Error(`Type ${te(s)} does not have '\u0275mod' property.`);return u}function yr(s){return Array.isArray(s)&&"object"==typeof s[1]}function di(s){return Array.isArray(s)&&!0===s[1]}function la(s){return 0!=(8&s.flags)}function Yu(s){return 2==(2&s.flags)}function Vs(s){return 1==(1&s.flags)}function es(s){return null!==s.template}function da(s){return 0!=(256&s[2])}function Bs(s,o){return s.hasOwnProperty(mr)?s[mr]:null}class wp{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function zi(){return ph}function ph(s){return s.type.prototype.ngOnChanges&&(s.setInput=Cl),Ja}function Ja(){const s=Ep(this),o=s?.current;if(o){const u=s.previous;if(u===ar)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Cl(s,o,u,l){const d=Ep(s)||function Ju(s,o){return s[eu]=o}(s,{previous:ar,current:null}),g=d.current||(d.current={}),v=d.previous,D=this.declaredInputs[u],T=v[D];g[D]=new wp(T&&T.currentValue,o,v===ar),s[l]=o}zi.ngInherit=!0;const eu="__ngSimpleChanges__";function Ep(s){return s[eu]||null}function Yn(s){for(;Array.isArray(s);)s=s[0];return s}function hi(s,o){return Yn(o[s.index])}function ic(s,o){return s.data[o]}function Qn(s,o){const u=o[s];return yr(u)?u:u[0]}function Mo(s){return 64==(64&s[2])}function Si(s,o){return null==o?null:s[o]}function co(s){s[18]=0}function jr(s,o){s[5]+=o;let u=s,l=s[3];for(;null!==l&&(1===o&&1===u[5]||-1===o&&0===u[5]);)l[5]+=o,u=l,l=l[3]}const zt={lFrame:Ol(null),bindingsEnabled:!0};function vh(){return zt.bindingsEnabled}function Ue(){return zt.lFrame.lView}function tn(){return zt.lFrame.tView}function Hn(){let s=oc();for(;null!==s&&64===s.type;)s=s.parent;return s}function oc(){return zt.lFrame.currentTNode}function Ai(s,o){const u=zt.lFrame;u.currentTNode=s,u.isParent=o}function fa(){return zt.lFrame.isParent}function $s(){return zt.lFrame.bindingIndex++}function ry(s,o){const u=zt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Rl(o)}function Rl(s){zt.lFrame.currentDirectiveIndex=s}function ac(){return zt.lFrame.currentQueryIndex}function Jr(s){zt.lFrame.currentQueryIndex=s}function Pl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ru(s,o,u){if(u&vt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&vt.Host||(d=Pl(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=zt.lFrame=Oo();return l.currentTNode=o,l.lView=s,!0}function iu(s){const o=Oo(),u=s[1];zt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Oo(){const s=zt.lFrame,o=null===s?null:s.child;return null===o?Ol(s):o}function Ol(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function su(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ih=su;function ga(){const s=su();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function dn(){return zt.lFrame.selectedIndex}function Hs(s){zt.lFrame.selectedIndex=s}function kn(){const s=zt.lFrame;return ic(s.tView,s.selectedIndex)}function ko(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),D&&((s.contentHooks||(s.contentHooks=[])).push(u,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,D)),T&&(s.viewHooks||(s.viewHooks=[])).push(-u,T),x&&((s.viewHooks||(s.viewHooks=[])).push(u,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,x)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(u,O)}}function ou(s,o,u){au(s,o,3,u)}function ma(s,o,u,l){(3&s[2])===u&&au(s,o,u,l)}function Th(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function au(s,o,u,l){const g=l??-1,v=o.length-1;let D=0;for(let T=void 0!==l?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(D=o[T],null!=l&&D>=l)break}else o[T]<0&&(s[18]+=65536),(D<g||-1==g)&&(Cp(s,u,o,T),s[18]=(4294901760&s[18])+T+2),T++}function Cp(s,o,u,l){const d=u[l]<0,g=u[l+1],D=s[d?-u[l]:u[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class uu{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function hc(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const g=u[l++],v=u[l++],D=u[l++];s.setAttribute(o,v,D,g)}else{const g=d,v=u[++l];Ap(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),l++}}return l}function fc(s){return 3===s||4===s||6===s}function Ap(s){return 64===s.charCodeAt(0)}function ya(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||Ah(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function Ah(s,o,u,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===u){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function Ul(s){return-1!==s}function cu(s){return 32767&s}function bs(s,o){let u=function xp(s){return s>>16}(s),l=o;for(;u>0;)l=l[15],u--;return l}let lu=!0;function Gs(s){const o=lu;return lu=s,o}let du=0;const qi={};function _a(s,o){const u=Lo(s,o);if(-1!==u)return u;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Bl(l.data,s),Bl(o,null),Bl(l.blueprint,null));const d=Fo(s,o),g=s.injectorIndex;if(Ul(d)){const v=cu(d),D=bs(d,o),T=D[1].data;for(let x=0;x<8;x++)o[g+x]=D[v+x]|T[v+x]}return o[g+8]=d,g}function Bl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Lo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Fo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=Pp(d),null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function hu(s,o,u){!function Vl(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(Fr)&&(l=u[Fr]),null==l&&(l=u[Fr]=du++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function gc(s,o,u){if(u&vt.Optional||void 0!==s)return s;re()}function Mp(s,o,u,l){if(u&vt.Optional&&void 0===l&&(l=null),0==(u&(vt.Self|vt.Host))){const d=s[9],g=ci(void 0);try{return d?d.get(o,l,u&vt.Optional):aa(o,l,u&vt.Optional)}finally{ci(g)}}return gc(l,0,u)}function fu(s,o,u,l=vt.Default,d){if(null!==s){if(1024&o[2]){const v=function gu(s,o,u,l,d){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=va(g,v,u,l|vt.Self,qi);if(D!==qi)return D;let T=g.parent;if(!T){const x=v[21];if(x){const O=x.get(u,qi,l);if(O!==qi)return O}T=Pp(v),v=v[15]}g=T}return d}(s,o,u,l,qi);if(v!==qi)return v}const g=va(s,o,u,l,qi);if(g!==qi)return g}return Mp(o,u,l,d)}function va(s,o,u,l,d){const g=function Vo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Fr)?s[Fr]:void 0;return"number"==typeof o?o>=0?255&o:oy:o}(u);if("function"==typeof g){if(!ru(o,s,l))return l&vt.Host?gc(d,0,l):Mp(o,u,l,d);try{const v=g(l);if(null!=v||l&vt.Optional)return v;re()}finally{Ih()}}else if("number"==typeof g){let v=null,D=Lo(s,o),T=-1,x=l&vt.Host?o[16][6]:null;for((-1===D||l&vt.SkipSelf)&&(T=-1===D?Fo(s,o):o[D+8],-1!==T&&mc(l,!1)?(v=o[1],D=cu(T),o=bs(T,o)):D=-1);-1!==D;){const O=o[1];if(Rp(g,D,O.data)){const F=sy(D,o,u,v,l,x);if(F!==qi)return F}T=o[D+8],-1!==T&&mc(l,o[1].data[D+8]===x)&&Rp(g,D,o)?(v=O,D=cu(T),o=bs(T,o)):D=-1}}return d}function sy(s,o,u,l,d,g){const v=o[1],D=v.data[s+8],O=Ts(D,v,u,null==l?Yu(D)&&lu:l!=v&&0!=(3&D.type),d&vt.Host&&g===D);return null!==O?pu(o,v,O,D):qi}function Ts(s,o,u,l,d){const g=s.providerIndexes,v=o.data,D=1048575&g,T=s.directiveStart,O=g>>20,W=d?D+O:s.directiveEnd;for(let ue=l?D:D+O;ue<W;ue++){const ke=v[ue];if(ue<T&&u===ke||ue>=T&&ke.type===u)return ue}if(d){const ue=v[T];if(ue&&es(ue)&&ue.type===u)return T}return null}function pu(s,o,u,l){let d=s[u];const g=o.data;if(function lc(s){return s instanceof uu}(d)){const v=d;v.resolving&&function ht(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new X(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}(g[u]));const D=Gs(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?ci(v.injectImpl):null;ru(s,l,vt.Default);try{d=s[u]=v.factory(void 0,g,s,l),o.firstCreatePass&&u>=l.directiveStart&&function Nl(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=ph(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==T&&ci(T),Gs(D),v.resolving=!1,Ih()}}return d}function Rp(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function mc(s,o){return!(s&vt.Self||s&vt.Host&&o)}class Ss{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return fu(this._tNode,this._lView,o,l,u)}}function oy(){return new Ss(Hn(),Ue())}function Pp(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function yc(s){return function Uo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const g=u[d];if(fc(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(Hn(),s)}const Gn="__parameters__";function Ws(s,o,u){return gr(()=>{const l=function wa(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return D.annotation=v,D;function D(T,x,O){const F=T.hasOwnProperty(Gn)?T[Gn]:Object.defineProperty(T,Gn,{value:[]})[Gn];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),T}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class wn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=It({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ir(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let l=s[u];Array.isArray(l)?(o===s&&(o=s.slice(0,u)),ir(l,o)):o!==s&&o.push(l)}return o}function ss(s,o){s.forEach(u=>Array.isArray(u)?ss(u,o):o(u))}function zl(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Gl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}const cr={},lr="__NG_DI_FLAG__",ei="ngTempTokenPath",Ks=/\n/gm,wu="__source";let jo;function ti(s){const o=jo;return jo=s,o}function Wl(s,o=vt.Default){if(void 0===jo)throw new X(-203,!1);return null===jo?aa(s,void 0,o):jo.get(s,o&vt.Optional?null:void 0,o)}function Xn(s,o=vt.Default){return(function ui(){return Nr}()||Wl)(Q(s),o)}function qt(s,o=vt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Xn(s,o)}function kh(s){const o=[];for(let u=0;u<s.length;u++){const l=Q(s[u]);if(Array.isArray(l)){if(0===l.length)throw new X(900,!1);let d,g=vt.Default;for(let v=0;v<l.length;v++){const D=l[v],T=Kl(D);"number"==typeof T?-1===T?d=D.token:g|=T:d=D}o.push(Xn(d,g))}else o.push(Xn(l))}return o}function $o(s,o){return s[lr]=o,s.prototype[lr]=o,s}function Kl(s){return s[lr]}const lo=$o(Ws("Optional"),8),Ho=$o(Ws("SkipSelf"),4);var cs=(()=>((cs=cs||{})[cs.Important=1]="Important",cs[cs.DashCase=2]="DashCase",cs))();const L=new Map;let Z=0;const Tn="__ngContext__";function Pt(s,o){yr(o)?(s[Tn]=o[20],function Me(s){L.set(s[20],s)}(o)):s[Tn]=o}function Pc(s,o){return undefined(s,o)}function nd(s){const o=s[3];return di(o)?o[3]:o}function Oc(s){return xa(s[13])}function hy(s){return xa(s[4])}function xa(s){for(;null!==s&&!di(s);)s=s[4];return s}function kc(s,o,u,l,d){if(null!=l){let g,v=!1;di(l)?g=l:yr(l)&&(v=!0,l=l[0]);const D=Yn(l);0===s&&null!==u?null==d?sd(o,u,D):Go(o,u,D,d||null,!0):1===s&&null!==u?Go(o,u,D,d||null,!0):2===s?function tg(s,o,u){const l=zh(s,o);l&&function Qp(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,D,v):3===s&&o.destroyNode(D),null!=g&&function ig(s,o,u,l,d){const g=u[7];g!==Yn(u)&&kc(o,s,l,g,d);for(let D=10;D<u.length;D++){const T=u[D];od(T[1],T,s,o,l,g)}}(o,s,g,u,d)}}function Kp(s,o,u){return s.createElement(o,u)}function Lc(s,o){const u=s[9],l=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,jr(d,-1)),u.splice(l,1)}function Tu(s,o){if(s.length<=10)return;const u=10+o,l=s[u];if(l){const d=l[17];null!==d&&d!==s&&Lc(d,l),o>0&&(s[u-1][4]=l[4]);const g=Gl(s,10+o);!function Cu(s,o){od(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Su(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&od(s,o,u,3,null,null),function jv(s){let o=s[13];if(!o)return $h(s[1],s);for(;o;){let u=null;if(yr(o))u=o[13];else{const l=o[10];l&&(u=l)}if(!u){for(;o&&!o[4]&&o!==s;)yr(o)&&$h(o[1],o),o=o[3];null===o&&(o=s),yr(o)&&$h(o[1],o),u=o&&o[4]}o=u}}(o)}}function $h(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Hh(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof uu)){const g=u[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=d[g[v]],T=g[v+1];try{T.call(D)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function Yp(s,o){const u=s.cleanup,l=o[7];let d=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],D="function"==typeof v?v(o):Yn(o[v]),T=l[d=u[g+2]],x=u[g+3];"boolean"==typeof x?D.removeEventListener(u[g],T,x):x>=0?l[d=x]():l[d=-x].unsubscribe(),g+=2}else{const v=l[d=u[g+1]];u[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&di(o[3])){u!==o[3]&&Lc(u,o);const l=o[19];null!==l&&l.detachView(s)}!function Je(s){L.delete(s[20])}(o)}}function Au(s,o,u){return function fy(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Nt.None||d===Nt.Emulated)return null}return hi(l,u)}(s,o.parent,u)}function Go(s,o,u,l,d){s.insertBefore(o,u,l,d)}function sd(s,o,u){s.appendChild(o,u)}function py(s,o,u,l,d){null!==l?Go(s,o,u,l,d):sd(s,o,u)}function zh(s,o){return s.parentNode(o)}let yo,Jp=function Gh(s,o,u){return 40&s.type?hi(s,u):null};function mo(s,o,u,l){const d=Au(s,l,o),g=o[11],D=function gy(s,o,u){return Jp(s,o,u)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(u))for(let T=0;T<u.length;T++)py(g,d,u[T],D,!1);else py(g,d,u,D,!1)}function Js(s,o){if(null!==o){const u=o.type;if(3&u)return hi(o,s);if(4&u)return Wh(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return Js(s,l);{const d=s[o.index];return di(d)?Wh(-1,d):Yn(d)}}if(32&u)return Pc(o,s)()||Yn(s[o.index]);{const l=eg(s,o);return null!==l?Array.isArray(l)?l[0]:Js(nd(s[16]),l):Js(s,o.next)}}return null}function eg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Wh(s,o){const u=10+s+1;if(u<o.length){const l=o[u],d=l[1].firstChild;if(null!==d)return Js(l,d)}return o[7]}function ng(s,o,u,l,d,g,v){for(;null!=u;){const D=l[u.index],T=u.type;if(v&&0===o&&(D&&Pt(Yn(D),l),u.flags|=4),64!=(64&u.flags))if(8&T)ng(s,o,u.child,l,d,g,!1),kc(o,s,d,D,g);else if(32&T){const x=Pc(u,l);let O;for(;O=x();)kc(o,s,d,O,g);kc(o,s,d,D,g)}else 16&T?rg(s,o,l,u,d,g):kc(o,s,d,D,g);u=v?u.projectionNext:u.next}}function od(s,o,u,l,d,g){ng(u,l,s.firstChild,o,d,g,!1)}function rg(s,o,u,l,d,g){const v=u[16],T=v[6].projection[l.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)kc(o,s,d,T[x],g);else ng(s,o,T,v[3],d,g,!0)}function og(s,o,u){s.setAttribute(o,"style",u)}function ag(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function yy(s){yo=s}class ug{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function fd(s){const o=function pd(){const s=Ue();return s&&s[12]}();return o?o.sanitize(Er.URL,s)||"":function qo(s,o){const u=function vy(s){return s instanceof ug&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}(s,"URL")?function wr(s){return s instanceof ug?s.changingThisBreaksApplicationSecurity:s}(s):function E(s){return(s=String(s)).match(p)?s:"unsafe:"+s}(ge(s))}const ef=new wn("ENVIRONMENT_INITIALIZER"),gd=new wn("INJECTOR",-1),YE=new wn("INJECTOR_DEF_TYPES");class QE{get(o,u=cr){if(u===cr){const l=new Error(`NullInjectorError: No provider for ${te(o)}!`);throw l.name="NullInjectorError",l}return u}}function jC(...s){return{\u0275providers:XE(0,s)}}function XE(s,...o){const u=[],l=new Set;let d;return ss(o,g=>{const v=g;Kv(v,u,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&JE(d,u),u}function JE(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];ss(d,g=>{o.push(g)})}}function Kv(s,o,u,l){if(!(s=Q(s)))return!1;let d=null,g=Bt(s);const v=!g&&be(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const T=s.ngModule;if(g=Bt(T),!g)return!1;d=T}const D=l.has(d);if(v){if(D)return!1;if(l.add(d),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of T)Kv(x,o,u,l)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let x;l.add(d);try{ss(g.imports,O=>{Kv(O,o,u,l)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&JE(x,o)}if(!D){const x=Bs(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:jt},{provide:YE,useValue:d,multi:!0},{provide:ef,useValue:()=>Xn(d),multi:!0})}const T=g.providers;null==T||D||ss(T,O=>{o.push(O)})}}return d!==s&&void 0!==s.providers}const $C=Te({provide:String,useValue:Te});function Zv(s){return null!==s&&"object"==typeof s&&$C in s}function Ru(s){return"function"==typeof s}const pg=new wn("Set Injector scope."),md={},HC={};let Qv;function Dy(){return void 0===Qv&&(Qv=new QE),Qv}class yd{}class gg extends yd{constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xv(o,v=>this.processProvider(v)),this.records.set(gd,_d(void 0,this)),d.has("environment")&&this.records.set(yd,_d(void 0,this));const g=this.records.get(pg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(YE.multi,jt,vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=ti(this),l=ci(void 0);try{return o()}finally{ti(u),ci(l)}}get(o,u=cr,l=vt.Default){this.assertNotDestroyed();const d=ti(this),g=ci(void 0);try{if(!(l&vt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const T=function zC(s){return"function"==typeof s||"object"==typeof s&&s instanceof wn}(o)&&$e(o);D=T&&this.injectableDefInScope(T)?_d(by(o),md):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(l&vt.Self?Dy():this.parent).get(o,u=l&vt.Optional&&u===cr?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[ei]=v[ei]||[]).unshift(te(o)),d)throw v;return function Zl(s,o,u,l){const d=s[ei];throw o[wu]&&d.unshift(o[wu]),s.message=function _r(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=te(o);if(Array.isArray(o))d=o.map(te).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):te(D)))}d=`{${g.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(Ks,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[ei]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{ci(g),ti(d)}}resolveInjectorInitializers(){const o=ti(this),u=ci(void 0);try{const l=this.get(ef.multi,jt,vt.Self);for(const d of l)d()}finally{ti(o),ci(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(te(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(o){let u=Ru(o=Q(o))?o:Q(o&&o.provide);const l=function Cy(s){return Zv(s)?_d(void 0,s.useValue):_d(function mg(s,o,u){let l;if(Ru(s)){const d=Q(s);return Bs(d)||by(d)}if(Zv(s))l=()=>Q(s.useValue);else if(function eI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...kh(s.deps||[]));else if(function Yv(s){return!(!s||!s.useExisting)}(s))l=()=>Xn(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function yg(s){return!!s.deps}(s))return Bs(d)||by(d);l=()=>new d(...kh(s.deps))}return l}(s),md)}(o);if(Ru(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=_d(void 0,md,!0),d.factory=()=>kh(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===md&&(u.value=HC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function rI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function by(s){const o=$e(s),u=null!==o?o.factory:Bs(s);if(null!==u)return u;if(s instanceof wn)throw new X(204,!1);if(s instanceof Function)return function nI(s){const o=s.length;if(o>0)throw function Ea(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?"),new X(204,!1);const u=function Vt(s){const o=s&&(s[ln]||s[pr]);if(o){const u=function Zt(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new X(204,!1)}function _d(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function GC(s){return!!s.\u0275providers}function Xv(s,o){for(const u of s)Array.isArray(u)?Xv(u,o):GC(u)?Xv(u.\u0275providers,o):o(u)}class iI{}class WC{resolveComponentFactory(o){throw function Ty(s){const o=Error(`No component factory found for ${te(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _g=(()=>{class s{}return s.NULL=new WC,s})();function KC(){return tf(Hn(),Ue())}function tf(s,o){return new vg(hi(s,o))}let vg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=KC,s})();function oI(s){return s instanceof vg?s.nativeElement:s}class Jv{}let aI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function uI(){const s=Ue(),u=Qn(Hn().index,s);return(yr(u)?u:s)[11]}(),s})(),cI=(()=>{class s{}return s.\u0275prov=It({token:s,providedIn:"root",factory:()=>null}),s})();class e0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const lI=new e0("14.3.0"),t0={};function r0(s){return s.ngOriginalError}class wg{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&r0(o);for(;u&&r0(u);)u=r0(u);return u||null}}function Pu(s){return s instanceof Function?s():s}function Eg(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}u=d+1}}const _I="ng-template";function XC(s,o,u){let l=0;for(;l<s.length;){let d=s[l++];if(u&&"class"===d){if(d=s[l],-1!==Eg(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function vI(s){return 4===s.type&&s.value!==_I}function JC(s,o,u){return o===(4!==s.type||u?s.value:_I)}function wI(s,o,u){let l=4;const d=s.attrs||[],g=function u0(s){for(let o=0;o<s.length;o++)if(fc(s[o]))return o;return s.length}(d);let v=!1;for(let D=0;D<o.length;D++){const T=o[D];if("number"!=typeof T){if(!v)if(4&l){if(l=2|1&l,""!==T&&!JC(s,T,u)||""===T&&1===o.length){if(Bn(l))return!1;v=!0}}else{const x=8&l?T:o[++D];if(8&l&&null!==s.attrs){if(!XC(s.attrs,x,u)){if(Bn(l))return!1;v=!0}continue}const F=eT(8&l?"class":T,d,vI(s),u);if(-1===F){if(Bn(l))return!1;v=!0;continue}if(""!==x){let W;W=F>g?"":d[F+1].toLowerCase();const ue=8&l?W:null;if(ue&&-1!==Eg(ue,x,0)||2&l&&x!==W){if(Bn(l))return!1;v=!0}}}}else{if(!v&&!Bn(l)&&!Bn(T))return!1;if(v&&Bn(T))continue;v=!1,l=T|1&l}}return Bn(l)||v}function Bn(s){return 0==(1&s)}function eT(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=o[++d];for(;"string"==typeof D;)D=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function tT(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function o0(s,o,u=!1){for(let l=0;l<o.length;l++)if(wI(s,o[l],u))return!0;return!1}function c0(s,o){return s?":not("+o.trim()+")":o}function C1(s){let o=s[0],u=1,l=2,d="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&l){const D=s[++u];d+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Bn(v)&&(o+=c0(g,d),d=""),l=v,g=g||!Bn(l);u++}return""!==d&&(o+=c0(g,d)),o}const Xt={};function l0(s){Ig(tn(),Ue(),dn()+s,!1)}function Ig(s,o,u,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ou(o,g,u)}else{const g=s.preOrderHooks;null!==g&&ma(o,g,0,u)}Hs(u)}function DI(s,o=null,u=null,l){const d=bI(s,o,u,l);return d.resolveInjectorInitializers(),d}function bI(s,o=null,u=null,l,d=new Set){const g=[u||jt,jC(s)];return l=l||("object"==typeof s?void 0:te(s)),new gg(g,o||Dy(),l||null,d)}let $c=(()=>{class s{static create(u,l){if(Array.isArray(u))return DI({name:""},l,u,"");{const d=u.name??"";return DI({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=cr,s.NULL=new QE,s.\u0275prov=It({token:s,providedIn:"any",factory:()=>Xn(gd)}),s.__NG_ELEMENT_ID__=-1,s})();function ct(s,o=vt.Default){const u=Ue();return null===u?Xn(s,o):fu(Hn(),u,Q(s),o)}function My(){throw new Error("invalid")}function C0(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],g=u[l+1];if(-1!==g){const v=s.data[g];Jr(d),v.contentQueries(2,o[g],g)}}}function Tg(s,o,u,l,d,g,v,D,T,x,O){const F=o.blueprint.slice();return F[0]=d,F[2]=76|l,(null!==O||s&&1024&s[2])&&(F[2]|=1024),co(F),F[3]=F[15]=s,F[8]=u,F[10]=v||s&&s[10],F[11]=D||s&&s[11],F[12]=T||s&&s[12]||null,F[9]=x||s&&s[9]||null,F[6]=g,F[20]=function ie(){return Z++}(),F[21]=O,F[16]=2==o.type?s[16]:F,F}function Ed(s,o,u,l,d){let g=s.data[o];if(null===g)g=function Sg(s,o,u,l,d){const g=oc(),v=fa(),T=s.data[o]=function vT(s,o,u,l,d,g){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,u,l,d),function Eh(){return zt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=l,g.attrs=d;const v=function Ro(){const s=zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ai(g,!0),g}function Id(s,o,u,l){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function T0(s,o,u){iu(o);try{const l=s.viewQuery;null!==l&&kg(1,l,u);const d=s.template;null!==d&&By(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&C0(s,o),s.staticViewQueries&&kg(2,s.viewQuery,u);const g=s.components;null!==g&&function mT(s,o){for(let u=0;u<o.length;u++)Wy(s,o[u])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,ga()}}function hf(s,o,u,l){const d=o[2];if(128!=(128&d)){iu(o);try{co(o),function rs(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&By(s,o,u,2,l);const v=3==(3&d);if(v){const x=s.preOrderCheckHooks;null!==x&&ou(o,x,null)}else{const x=s.preOrderHooks;null!==x&&ma(o,x,0,null),Th(o,0)}if(function fs(s){for(let o=Oc(s);null!==o;o=hy(o)){if(!o[2])continue;const u=o[9];for(let l=0;l<u.length;l++){const d=u[l],g=d[3];0==(512&d[2])&&jr(g,1),d[2]|=512}}}(o),function KI(s){for(let o=Oc(s);null!==o;o=hy(o))for(let u=10;u<o.length;u++){const l=o[u],d=l[1];Mo(l)&&hf(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&C0(s,o),v){const x=s.contentCheckHooks;null!==x&&ou(o,x)}else{const x=s.contentHooks;null!==x&&ma(o,x,1),Th(o,1)}!function b0(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)Hs(~d);else{const g=d,v=u[++l],D=u[++l];ry(v,g),D(2,o[g])}}}finally{Hs(-1)}}(s,o);const D=s.components;null!==D&&function BI(s,o){for(let u=0;u<o.length;u++)ZI(s,o[u])}(o,D);const T=s.viewQuery;if(null!==T&&kg(2,T,l),v){const x=s.viewCheckHooks;null!==x&&ou(o,x)}else{const x=s.viewHooks;null!==x&&ma(o,x,2),Th(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,jr(o[3],-1))}finally{ga()}}}function By(s,o,u,l,d){const g=dn(),v=2&l;try{Hs(-1),v&&o.length>22&&Ig(s,o,22,!1),u(l,d)}finally{Hs(g)}}function Gr(s,o,u){!vh()||(function wT(s,o,u,l){const d=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||_a(u,o),Pt(l,o);const v=u.initialInputs;for(let D=d;D<g;D++){const T=s.data[D],x=es(T);x&&IT(o,u,T);const O=pu(o,s,D,u);Pt(O,o),null!==v&&WI(0,D-d,O,T,0,v),x&&(Qn(u.index,o)[8]=O)}}(s,o,u,hi(u,o)),128==(128&u.flags)&&function Pg(s,o,u){const l=u.directiveStart,d=u.directiveEnd,g=u.index,v=function pa(){return zt.lFrame.currentDirectiveIndex}();try{Hs(g);for(let D=l;D<d;D++){const T=s.data[D],x=o[D];Rl(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&A0(T,x)}}finally{Hs(-1),Rl(v)}}(s,o,u))}function ni(s,o,u=hi){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],D=-1===v?u(o,s):s[v];s[d++]=D}}}function Ag(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=xg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function xg(s,o,u,l,d,g,v,D,T,x){const O=22+l,F=O+d,W=function yT(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:Xt);return u}(O,F),ue="function"==typeof x?x():x;return W[1]={type:s,blueprint:W,template:u,queries:null,viewQuery:D,declTNode:o,data:W.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ue,incompleteFirstPass:!1}}function S0(s,o,u,l){const d=Yy(o);null===u?d.push(l):(d.push(u),s.firstCreatePass&&Ng(s).push(l,d.length-1))}function jI(s,o,u){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(o,d):u[l]=[o,d]}return u}function $I(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let D=null,T=null;for(let x=o.directiveStart;x<l;x++){const O=d[x],F=O.inputs,W=null===g||vI(o)?null:qy(F,g);v.push(W),D=jI(F,x,D),T=jI(O.outputs,x,T)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=T}function $y(s,o){const u=Qn(o,s);16&u[2]||(u[2]|=32)}function Rg(s,o,u,l){let d=!1;if(vh()){const g=function GI(s,o,u){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];o0(u,v.selectors,!1)&&(d||(d=[]),hu(_a(u,o),s,v.type),es(v)?(x0(s,u),d.unshift(v)):d.push(v))}return d}(s,o,u),v=null===l?null:{"":-1};if(null!==g){d=!0,qI(u,s.data.length,g.length);for(let O=0;O<g.length;O++){const F=g[O];F.providersResolver&&F.providersResolver(F)}let D=!1,T=!1,x=Id(s,o,g.length,null);for(let O=0;O<g.length;O++){const F=g[O];u.mergedAttrs=ya(u.mergedAttrs,F.hostAttrs),Dd(s,u,o,x,F),ET(x,F,v),null!==F.contentQueries&&(u.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(u.flags|=128);const W=F.type.prototype;!D&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),D=!0),!T&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),T=!0),x++}$I(s,u)}v&&function Gy(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new X(-301,!1);l.push(o[d],g)}}}(u,l,v)}return u.mergedAttrs=ya(u.mergedAttrs,u.attrs),d}function zy(s,o,u,l,d,g){const v=g.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const T=~o.index;(function zI(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(D)!=T&&D.push(T),D.push(l,d,v)}}function A0(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function x0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ET(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;es(o)&&(u[""]=s)}}function qI(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Dd(s,o,u,l,d){s.data[l]=d;const g=d.factory||(d.factory=Bs(d.type)),v=new uu(g,es(d),ct);s.blueprint[l]=v,u[l]=v,zy(s,o,0,l,Id(s,u,d.hostVars,Xt),d)}function IT(s,o,u){const l=hi(o,s),d=Ag(u),g=s[10],v=pf(s,Tg(s,d,null,u.onPush?32:16,l,o,g,g.createRenderer(l,u),null,null,null));s[o.index]=v}function ka(s,o,u,l,d,g){const v=hi(s,o);!function Nu(s,o,u,l,d,g,v){if(null==g)s.removeAttribute(o,d,u);else{const D=null==v?ge(g):v(g,l||"",d);s.setAttribute(o,d,D,u)}}(o[11],v,g,s.value,u,l,d)}function WI(s,o,u,l,d,g){const v=g[o];if(null!==v){const D=l.setInput;for(let T=0;T<v.length;){const x=v[T++],O=v[T++],F=v[T++];null!==D?l.setInput(u,F,x,O):u[O]=F}}}function qy(s,o){let u=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return u}function ff(s,o,u,l){return new Array(s,!0,!1,o,null,0,l,u,null,null)}function ZI(s,o){const u=Qn(o,s);if(Mo(u)){const l=u[1];48&u[2]?hf(l,u,l.template,u[8]):u[5]>0&&bd(u)}}function bd(s){for(let l=Oc(s);null!==l;l=hy(l))for(let d=10;d<l.length;d++){const g=l[d];if(Mo(g))if(512&g[2]){const v=g[1];hf(v,g,v.template,g[8])}else g[5]>0&&bd(g)}const u=s[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=Qn(u[l],s);Mo(d)&&d[5]>0&&bd(d)}}function Wy(s,o){const u=Qn(o,s),l=u[1];(function YI(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(l,u),T0(l,u,u[8])}function pf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Ky(s){for(;s;){s[2]|=32;const o=nd(s);if(da(s)&&!o)return s;s=o}return null}function Og(s,o,u,l=!0){const d=o[10];d.begin&&d.begin();try{hf(s,o,s.template,u)}catch(v){throw l&&M0(o,v),v}finally{d.end&&d.end()}}function kg(s,o,u){Jr(0),o(s,u)}function Yy(s){return s[7]||(s[7]=[])}function Ng(s){return s.cleanup||(s.cleanup=[])}function M0(s,o){const u=s[9],l=u?u.get(wg,null):null;l&&l.handleError(o)}function R0(s,o,u,l,d){for(let g=0;g<u.length;){const v=u[g++],D=u[g++],T=o[v],x=s.data[v];null!==x.setInput?x.setInput(T,d,l,D):T[D]=d}}function Ko(s,o,u){const l=function Gi(s,o){return Yn(o[s])}(o,s);!function jh(s,o,u){s.setValue(o,u)}(s[11],l,u)}function Cd(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?g=D:1==g?d=ae(d,D):2==g&&(l=ae(l,D+": "+o[++v]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function mf(s,o,u,l,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&l.push(Yn(g)),di(g))for(let D=10;D<g.length;D++){const T=g[D],x=T[1].firstChild;null!==x&&mf(T[1],T,x,l)}const v=u.type;if(8&v)mf(s,o,u.child,l);else if(32&v){const D=Pc(u,o);let T;for(;T=D();)l.push(T)}else if(16&v){const D=eg(o,u);if(Array.isArray(D))l.push(...D);else{const T=nd(o[16]);mf(T[1],T,D,l,!0)}}u=d?u.projectionNext:u.next}return l}class yf{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return mf(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(di(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(Tu(o,l),Gl(u,l))}this._attachedToViewContainer=!1}Su(this._lView[1],this._lView)}onDestroy(o){S0(this._lView[1],this._lView,null,o)}markForCheck(){Ky(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Og(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KE(s,o){od(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=o}}class XI extends yf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Og(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Qy extends _g{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=be(o);return new Gc(u,this.ngModule)}}function JI(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class eD{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){const d=this.injector.get(o,t0,l);return d!==t0||u===t0?d:this.parentInjector.get(o,u,l)}}class Gc extends iI{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function T1(s){return s.map(C1).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return JI(this.componentDef.inputs)}get outputs(){return JI(this.componentDef.outputs)}create(o,u,l,d){let g=(d=d||this.ngModule)instanceof yd?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new eD(o,g):o,D=v.get(Jv,null);if(null===D)throw new X(407,!1);const T=v.get(cI,null),x=D.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=l?function _T(s,o,u){return s.selectRootElement(o,u===Nt.ShadowDom)}(x,l,this.componentDef.encapsulation):Kp(x,O,function Lg(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),W=this.componentDef.onPush?288:272,ue=xg(0,null,null,1,0,null,null,null,null,null),ke=Tg(null,ue,null,W,null,null,D,x,T,v,null);let Xe,st;iu(ke);try{const At=function bT(s,o,u,l,d,g){const v=u[1];u[22]=s;const T=Ed(v,22,2,"#host",null),x=T.mergedAttrs=o.hostAttrs;null!==x&&(Cd(T,x,!0),null!==s&&(hc(d,s,x),null!==T.classes&&ag(d,s,T.classes),null!==T.styles&&og(d,s,T.styles)));const O=l.createRenderer(s,o),F=Tg(u,Ag(o),null,o.onPush?32:16,u[22],T,l,O,g||null,null,null);return v.firstCreatePass&&(hu(_a(T,u),v,o.type),x0(v,T),qI(T,u.length,1)),pf(u,F),u[22]=F}(F,this.componentDef,ke,D,x);if(F)if(l)hc(x,F,["ng-version",lI.full]);else{const{attrs:$t,classes:He}=function rT(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&u.push(g);else{if(!Bn(d))break;d=g}l++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);$t&&hc(x,F,$t),He&&He.length>0&&ag(x,F,He.join(" "))}if(st=ic(ue,22),void 0!==u){const $t=st.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Kt=u[He];$t.push(null!=Kt?Array.from(Kt):null)}}Xe=function tD(s,o,u,l){const d=u[1],g=function Hy(s,o,u){const l=Hn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Dd(s,l,o,Id(s,o,1,null),u),$I(s,l));const d=pu(o,s,l.directiveStart,l);Pt(d,o);const g=hi(l,o);return g&&Pt(g,o),d}(d,u,o);if(s[8]=u[8]=g,null!==l)for(const D of l)D(g,o);if(o.contentQueries){const D=Hn();o.contentQueries(1,g,D.directiveStart)}const v=Hn();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Hs(v.index),zy(u[1],v,0,v.directiveStart,v.directiveEnd,o),A0(o,g)),g}(At,this.componentDef,ke,[nD]),T0(ue,ke,null)}finally{ga()}return new P0(this.componentType,Xe,tf(st,ke),ke,st)}}class P0 extends class qC{}{constructor(o,u,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new XI(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const g=this._rootLView;R0(g[1],g,d,o,u),$y(g,this._tNode.index)}}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function nD(){const s=Hn();ko(Ue()[1],s)}let e_=null;function Wc(){if(!e_){const s=In.Symbol;if(s&&s.iterator)e_=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const l=o[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(e_=l)}}}return e_}function Bg(s){return!!Td(s)&&(Array.isArray(s)||!(s instanceof Map)&&Wc()in s)}function Td(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function t_(s,o,u,l,d){const g=function _o(s,o,u,l){const d=Fi(s,o,u);return Fi(s,o+1,l)||d}(s,o,u,l);return Fi(s,o+2,d)||g}function n_(s,o,u,l){const d=Ue();return Fi(d,$s(),o)&&(tn(),ka(kn(),d,s,o,u,l)),n_}function k0(s,o,u,l,d,g,v,D){const T=Ue(),x=tn(),O=s+22,F=x.firstCreatePass?function Ir(s,o,u,l,d,g,v,D,T){const x=o.consts,O=Ed(o,s,4,v||null,Si(x,D));Rg(o,u,O,Si(x,T)),ko(o,O);const F=O.tViews=xg(2,O,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,x,T,o,u,l,d,g,v):x.data[O];Ai(F,!1);const W=T[11].createComment("");mo(x,T,W,F),Pt(W,T),pf(T,T[O]=ff(W,T,W,F)),Vs(F)&&Gr(x,T,F),null!=v&&ni(T,F,D)}function N0(s,o,u){const l=Ue();return Fi(l,$s(),o)&&function Li(s,o,u,l,d,g,v,D){const T=hi(o,u);let O,x=o.inputs;!D&&null!=x&&(O=x[l])?(R0(s,u,O,l,d),Yu(o)&&$y(u,o.index)):3&o.type&&(l=function Mg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,g.setProperty(T,l,d))}(tn(),kn(),l,s,o,l[11],u,!1),N0}function i_(s,o,u,l,d){const v=d?"class":"style";R0(s,u,o.inputs[v],v,l)}function Hg(s,o,u,l){const d=Ue(),g=tn(),v=22+s,D=d[11],T=d[v]=Kp(D,o,function cc(){return zt.lFrame.currentNamespace}()),x=g.firstCreatePass?function aD(s,o,u,l,d,g,v){const D=o.consts,x=Ed(o,s,2,d,Si(D,g));return Rg(o,u,x,Si(D,v)),null!==x.attrs&&Cd(x,x.attrs,!1),null!==x.mergedAttrs&&Cd(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,g,d,0,o,u,l):g.data[v];Ai(x,!0);const O=x.mergedAttrs;null!==O&&hc(D,T,O);const F=x.classes;null!==F&&ag(D,T,F);const W=x.styles;return null!==W&&og(D,T,W),64!=(64&x.flags)&&mo(g,d,T,x),0===function tu(){return zt.lFrame.elementDepthCount}()&&Pt(T,d),function yh(){zt.lFrame.elementDepthCount++}(),Vs(x)&&(Gr(g,d,x),function jy(s,o,u){if(la(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}(g,x,d)),null!==l&&ni(d,x),Hg}function Rd(){let s=Hn();fa()?function xl(){zt.lFrame.isParent=!1}():(s=s.parent,Ai(s,!1));const o=s;!function _h(){zt.lFrame.elementDepthCount--}();const u=tn();return u.firstCreatePass&&(ko(u,s),la(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Sh(s){return 0!=(16&s.flags)}(o)&&i_(u,o,Ue(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Sp(s){return 0!=(32&s.flags)}(o)&&i_(u,o,Ue(),o.stylesWithoutHost,!1),Rd}function s_(s,o,u,l){return Hg(s,o,u,l),Rd(),s_}function Pd(s){return!!s&&"function"==typeof s.then}function V0(s){return!!s&&"function"==typeof s.subscribe}const a_=V0;function Sf(s,o,u,l){const d=Ue(),g=tn(),v=Hn();return function uD(s,o,u,l,d,g,v,D){const T=Vs(l),O=s.firstCreatePass&&Ng(s),F=o[8],W=Yy(o);let ue=!0;if(3&l.type||D){const st=hi(l,o),At=D?D(st):st,$t=W.length,He=D?gn=>D(Yn(gn[l.index])):l.index;let Kt=null;if(!D&&T&&(Kt=function u_(s,o,u,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===u&&d[g+1]===l){const D=o[7],T=d[g+2];return D.length>T?D[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=g,Kt.__ngLastListenerFn__=g,ue=!1;else{g=Af(l,o,F,g,!1);const gn=u.listen(At,d,g);W.push(g,gn),O&&O.push(d,He,$t,$t+1)}}else g=Af(l,o,F,g,!1);const ke=l.outputs;let Xe;if(ue&&null!==ke&&(Xe=ke[d])){const st=Xe.length;if(st)for(let At=0;At<st;At+=2){const Kn=o[Xe[At]][Xe[At+1]].subscribe(g),hl=W.length;W.push(g,Kn),O&&O.push(d,l.index,hl,-(hl+1))}}}(g,d,d[11],v,s,o,0,l),Sf}function j0(s,o,u,l){try{return!1!==u(l)}catch(d){return M0(s,d),!1}}function Af(s,o,u,l,d){return function g(v){if(v===Function)return l;Ky(2&s.flags?Qn(s.index,o):o);let T=j0(o,0,l,v),x=g.__ngNextListenerFn__;for(;x;)T=j0(o,0,x,v)&&T,x=x.__ngNextListenerFn__;return d&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function ro(s,o=""){const u=Ue(),l=tn(),d=s+22,g=l.firstCreatePass?Ed(l,d,1,o,null):l.data[d],v=u[d]=function rd(s,o){return s.createText(o)}(u[11],o);mo(l,u,v,g),Ai(g,!1)}function qg(s){return _t("",s,""),qg}function _t(s,o,u){const l=Ue(),d=function Sd(s,o,u,l){return Fi(s,$s(),u)?o+ge(u)+l:Xt}(l,s,o,u);return d!==Xt&&Ko(l,dn(),d),_t}const Uu=void 0;var SD=["en",[["a","p"],["AM","PM"],Uu],[["AM","PM"],Uu,Uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uu,"{1} 'at' {0}",Uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TD(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let io={};function me(s){const o=function jT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=xD(o);if(u)return u;const l=o.split("-")[0];if(u=xD(l),u)return u;if("en"===l)return SD;throw new X(701,!1)}function Io(s){return me(s)[Ft.PluralCase]}function xD(s){return s in io||(io[s]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[s]),io[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Jc="en-US";let sw=Jc;class Bd{}class ZD{}function oS(s,o){return new mw(s,o??null)}class mw extends Bd{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qy(this);const l=Yt(o);this._bootstrapComponents=Pu(l.bootstrap),this._r3Injector=bI(o,u,[{provide:Bd,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],te(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class yw extends ZD{constructor(o){super(),this.moduleType=o}create(o){return new mw(this.moduleType,o)}}class YD extends Bd{constructor(o,u,l){super(),this.componentFactoryResolver=new Qy(this),this.instance=null;const d=new gg([...o,{provide:Bd,useValue:this},{provide:_g,useValue:this.componentFactoryResolver}],u||Dy(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function _w(s,o,u=null){return new YD(s,o,u).injector}let aS=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const l=XE(0,u.type),d=l.length>0?_w([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=It({token:s,providedIn:"environment",factory:()=>new s(Xn(yd))}),s})();function QD(s){s.getStandaloneInjector=o=>o.get(aS).getOrCreateStandaloneInjector(s)}function ea(s,o,u,l,d,g,v,D){const T=o+u;return t_(s,T,d,g,v)?function Zo(s,o,u){return s[o]=u}(s,T+3,D?l.call(D,d,g,v):l(d,g,v)):function Bf(s,o){const u=s[o];return u===Xt?void 0:u}(s,T+3)}function ib(s,o){const u=tn();let l;const d=s+22;u.firstCreatePass?(l=function dS(s,o){if(o)for(let u=o.length-1;u>=0;u--){const l=o[u];if(s===l.name)return l}}(o,u.pipeRegistry),u.data[d]=l,l.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,l.onDestroy)):l=u.data[d];const g=l.factory||(l.factory=Bs(l.type)),v=ci(ct);try{const D=Gs(!1),T=g();return Gs(D),function AT(s,o,u,l){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=l}(u,Ue(),d,T),T}finally{ci(v)}}function Cw(s,o,u,l,d){const g=s+22,v=Ue(),D=function ha(s,o){return s[o]}(v,g);return function sl(s,o){return s[1].data[o].pure}(v,g)?ea(v,function Xr(){const s=zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,D.transform,u,l,d,D):D.transform(u,l,d)}function Tw(s){return o=>{setTimeout(s,void 0,o)}}const ta=class fS extends _.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,g=u||(()=>null),v=l;if(o&&"object"==typeof o){const T=o;d=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Tw(g),d&&(d=Tw(d)),v&&(v=Tw(v)));const D=super.subscribe({next:d,error:g,complete:v});return o instanceof le.w0&&o.add(D),D}};function Hf(){return this._results[Wc()]()}class Hu{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Wc(),l=Hu.prototype;l[u]||(l[u]=Hf)}get changes(){return this._changes||(this._changes=new ta)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=ir(o);(this._changesDetected=!function Fp(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zf=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gf,s})();const $d=zf,ab=class extends $d{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(o,u){const l=this._declarationTContainer.tViews,d=Tg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),T0(l,d,o),new yf(d)}};function Gf(){return lm(Hn(),Ue())}function lm(s,o){return 4&s.type?new ab(o,s,tf(s,o)):null}let dm=(()=>{class s{}return s.__NG_ELEMENT_ID__=hm,s})();function hm(){return fm(Hn(),Ue())}const pS=dm,ub=class extends pS{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return tf(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const o=Fo(this._hostTNode,this._hostLView);if(Ul(o)){const u=bs(o,this._hostLView),l=cu(o);return new Ss(u[1].data[l+8],u)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=tr(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const v=o.createEmbeddedView(u||{},g);return this.insert(v,d),v}createComponent(o,u,l,d,g){const v=o&&!function Wi(s){return"function"==typeof s}(o);let D;if(v)D=u;else{const F=u||{};D=F.index,l=F.injector,d=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const T=v?o:new Gc(be(o)),x=l||this.parentInjector;if(!g&&null==T.ngModule){const W=(v?x:this.parentInjector).get(yd,null);W&&(g=W)}const O=T.create(x,d,void 0,g);return this.insert(O.hostView,D),O}insert(o,u){const l=o._lView,d=l[1];if(function Sl(s){return di(s[3])}(l)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=l[3],W=new ub(F,F[6],F[3]);W.detach(W.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function Zp(s,o,u,l){const d=10+l,g=u.length;l>0&&(u[d-1][4]=o),l<g-10?(o[4]=u[d],zl(u,10+l,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function $v(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(d,l,v,g);const D=Wh(g,v),T=l[11],x=zh(T,v[7]);return null!==x&&function id(s,o,u,l,d,g){l[0]=d,l[6]=o,od(s,l,u,1,d,g)}(d,v[6],T,l,x,D),o.attachToViewContainerRef(),zl(qf(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=tr(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=Tu(this._lContainer,u);l&&(Gl(qf(this._lContainer),u),Su(l[1],l))}detach(o){const u=this._adjustIndex(o,-1),l=Tu(this._lContainer,u);return l&&null!=Gl(qf(this._lContainer),u)?new yf(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function tr(s){return s[8]}function qf(s){return s[8]||(s[8]=[])}function fm(s,o){let u;const l=o[s.index];if(di(l))u=l;else{let d;if(8&s.type)d=Yn(l);else{const g=o[11];d=g.createComment("");const v=hi(s,o);Go(g,zh(g,v),d,function Xp(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=u=ff(l,o,d,s),pf(o,u)}return new ub(u,s,o)}class Sw{constructor(o){this.queryList=o,this.matches=null}clone(){return new Sw(this.queryList)}setDirty(){this.queryList.setDirty()}}class M_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<l;g++){const v=u.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new M_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==gm(o,u).matches&&this.queries[u].setDirty()}}class Hd{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class na{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==u?u.push(g):u=[g])}return null!==u?new na(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class R_{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new R_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,u,lb(u,g)),this.matchTNodeWithReadOption(o,u,Ts(u,o,g,!1,!1))}else l===zf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ts(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===vg||d===dm||d===zf&&4&u.type)this.addMatch(u.index,-2);else{const g=Ts(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function lb(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function Wf(s,o,u,l){return-1===u?function db(s,o){return 11&s.type?tf(s,o):4&s.type?lm(s,o):null}(o,s):-2===u?function Aw(s,o,u){return u===vg?tf(o,s):u===zf?lm(o,s):u===dm?fm(o,s):void 0}(s,o,l):pu(s,s[1],u,o)}function P_(s,o,u,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=u.matches,D=[];for(let T=0;T<v.length;T+=2){const x=v[T];D.push(x<0?null:Wf(o,g[x],v[T+1],u.metadata.read))}d.matches=D}return d.matches}function pm(s,o,u,l){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const v=P_(s,o,d,u);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)l.push(v[D/2]);else{const x=g[D+1],O=o[-T];for(let F=10;F<O.length;F++){const W=O[F];W[17]===W[3]&&pm(W[1],W,x,l)}if(null!==O[9]){const F=O[9];for(let W=0;W<F.length;W++){const ue=F[W];pm(ue[1],ue,x,l)}}}}}return l}function O_(s){const o=Ue(),u=tn(),l=ac();Jr(l+1);const d=gm(u,l);if(s.dirty&&function ny(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?pm(u,o,l,[]):P_(u,o,d,l);s.reset(g,oI),s.notifyOnChanges()}return!0}return!1}function hb(s,o,u,l){const d=tn();if(d.firstCreatePass){const g=Hn();(function Mw(s,o,u){null===s.queries&&(s.queries=new na),s.queries.track(new R_(o,u))})(d,new Hd(o,u,l),g.index),function Rw(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function xw(s,o,u){const l=new Hu(4==(4&u));S0(s,o,l,l.destroy),null===o[19]&&(o[19]=new M_),o[19].queries.push(new Sw(l))}(d,Ue(),u)}function Rr(){return function pn(s,o){return s[19].queries[o].queryList}(Ue(),ac())}function gm(s,o){return s.queries.getByIndex(o)}function ym(...s){}const G_=new wn("Application Initializer");let _m=(()=>{class s{constructor(u){this.appInits=u,this.resolve=ym,this.reject=ym,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Pd(g))u.push(g);else if(a_(g)){const v=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});u.push(v)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Xn(G_,8))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Bw=new wn("AppId",{providedIn:"root",factory:function Cb(){return`${q_()}${q_()}${q_()}`}});function q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vm=new wn("Platform Initializer"),wm=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ol=new wn("appBootstrapListener");let PS=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const W_=new wn("LocaleId",{providedIn:"root",factory:()=>qt(W_,vt.Optional|vt.SkipSelf)||function OS(){return typeof $localize<"u"&&$localize.locale||Jc}()}),Em=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class NS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Tb=(()=>{class s{compileModuleSync(u){return new yw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),g=Pu(Yt(u).declarations).reduce((v,D)=>{const T=be(D);return T&&v.push(new Gc(T)),v},[]);return new NS(l,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Z_=(()=>Promise.resolve(0))();function Hw(s){typeof Zone>"u"?Z_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ms{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ta(!1),this.onMicrotaskEmpty=new ta(!1),this.onStable=new ta(!1),this.onError=new ta(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function zw(){let s=In.requestAnimationFrame,o=In.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Q_(s){const o=()=>{!function Im(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(In,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Wd(s),s.isCheckStableRunning=!0,Y_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Wd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,g,v,D)=>{try{return Gw(s),u.invokeTask(d,g,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),qw(s)}},onInvoke:(u,l,d,g,v,D,T)=>{try{return Gw(s),u.invoke(d,g,v,D,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),qw(s)}},onHasTask:(u,l,d,g)=>{u.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Wd(s),Y_(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,l,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new X(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,FS,ym,ym);try{return g.runTask(v,u,l)}finally{g.cancelTask(v)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const FS={};function Y_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Wd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Gw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function qw(s){s._nesting--,Y_(s)}class Yi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ta,this.onMicrotaskEmpty=new ta,this.onStable=new ta,this.onError=new ta}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const Ww=new wn(""),Dm=new wn("");let ul,X_=(()=>{class s{constructor(u,l,d){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ul||(function al(s){ul=s}(d),d.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),Hw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Xn(ms),Xn(Kw),Xn(Dm))},s.\u0275prov=It({token:s,factory:s.\u0275fac}),s})(),Kw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return ul?.findTestabilityInTree(this,u,l)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),qu=null;const cl=new wn("AllowMultipleToken"),Zw=new wn("PlatformDestroyListeners");class US{constructor(o,u){this.name=o,this.token=u}}function bm(s,o,u=[]){const l=`Platform: ${o}`,d=new wn(l);return(g=[])=>{let v=Qw();if(!v||v.injector.get(cl,!1)){const D=[...u,...g,{provide:d,useValue:!0}];s?s(D):function Rb(s){if(qu&&!qu.get(cl,!1))throw new X(400,!1);qu=s;const o=s.get(Xw);(function Yw(s){const o=s.get(vm,null);o&&o.forEach(u=>u())})(s)}(function Ob(s=[],o){return $c.create({name:o,providers:[{provide:pg,useValue:"platform"},{provide:Zw,useValue:new Set([()=>qu=null])},...s]})}(D,l))}return function Pb(s){const o=Qw();if(!o)throw new X(401,!1);return o}()}}function Qw(){return qu?.get(Xw)??null}let Xw=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const d=function tp(s,o){let u;return u="noop"===s?new Yi:("zone.js"===s?void 0:s)||new ms(o),u}(l?.ngZone,function ll(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:ms,useValue:d}];return d.run(()=>{const v=$c.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(v),T=D.injector.get(wg,null);if(!T)throw new X(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:O=>{T.handleError(O)}});D.onDestroy(()=>{Cm(this._modules,D),x.unsubscribe()})}),function Jw(s,o,u){try{const l=u();return Pd(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(T,d,()=>{const x=D.injector.get(_m);return x.runInitializers(),x.donePromise.then(()=>(function Ui(s){Y(s,"Expected localeId to be defined"),"string"==typeof s&&(sw=s.toLowerCase().replace(/_/g,"-"))}(D.injector.get(W_,Jc)||Jc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,l=[]){const d=eE({},l);return function xb(s,o,u){const l=new yw(u);return Promise.resolve(l)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(u){const l=u.injector.get(J_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new X(403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(Zw,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Xn($c))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function eE(s,o){return Array.isArray(o)?o.reduce(eE,s):{...s,...o}}let J_=(()=>{class s{constructor(u,l,d){this._zone=u,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new k.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),Hw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),x.unsubscribe()}});this.isStable=(0,_e.T)(g,v.pipe((0,we.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const d=u instanceof iI;if(!this._injector.get(_m).done)throw!d&&Ht(u),new X(405,false);let v;v=d?u:this._injector.get(_g).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const D=function Mb(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Bd),x=v.create($c.NULL,[],l||v.selector,D),O=x.location.nativeElement,F=x.injector.get(Ww,null);return F?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),Cm(this.components,x),F?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Cm(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ol,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Cm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new X(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Xn(ms),Xn(yd),Xn(wg))},s.\u0275prov=It({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Cm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let ev=!0,si=!1;function $S(){return si=!0,ev}function HS(){if(si)throw new Error("Cannot enable prod mode after platform setup.");ev=!1}let zS=(()=>{class s{}return s.__NG_ELEMENT_ID__=nv,s})();function nv(s){return function rv(s,o,u){if(Yu(s)&&!u){const l=Qn(s.index,o);return new yf(l,l)}return 47&s.type?new yf(o[16],o):null}(Hn(),Ue(),16==(16&s))}class oE{constructor(){}supports(o){return Bg(o)}create(o){return new $b(o)}}const jb=(s,o)=>o;class $b{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jb}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,g=null;for(;u||l;){const v=!l||u&&u.currentIndex<uv(l,d,g)?u:l,D=uv(v,d,g),T=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{g||(g=[]);const x=D-d,O=T-d;if(x!=O){for(let W=0;W<x;W++){const ue=W<g.length?g[W]:g[W]=0,ke=ue+W;O<=ke&&ke<x&&(g[W]=ue+1)}g[v.previousIndex]=O-x}}D!==T&&o(v,D,T)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Bg(o))throw new X(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)g=o[D],v=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,g,v,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,D),l=!0),u=u._next}else d=0,function TT(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Wc()]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,D=>{v=this._trackByFn(d,D),null!==u&&Object.is(u.trackById,v)?(l&&(u=this._verifyReinsertion(u,D,v,d)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,v,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new qS(u,l),g,d),o}_verifyReinsertion(o,u,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Hb),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class qS{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Hb{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new aE,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uv(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class uE{constructor(){}supports(o){return o instanceof Map||Td(o)}create(){return new zb}}class zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Td(o)))throw new X(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new cE(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class cE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xm(){return new Zd([new oE])}let Zd=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||xm()),deps:[[s,new Ho,new lo]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new X(901,!1)}}return s.\u0275prov=It({token:s,providedIn:"root",factory:xm}),s})();function cv(){return new Mm([new uE])}let Mm=(()=>{class s{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:l=>s.create(u,l||cv()),deps:[[s,new Ho,new lo]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new X(901,!1)}}return s.\u0275prov=It({token:s,providedIn:"root",factory:cv}),s})();const lv=bm(null,"core",[]);let hE=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Xn(J_))},s.\u0275mod=Ci({type:s}),s.\u0275inj=he({}),s})();function KS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Mt,Be,V)=>{"use strict";V.d(Be,{Z:()=>X});var _=V(2090),le=V(4859),k=V(6881),_e=V(1877);class we{constructor(ge,Ee){this._delegate=ge,this.firebase=Ee,(0,k._addComponent)(ge,new le.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ge,Ee=k._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(ge);return!ut.isInitialized()&&"EXPLICIT"===(null===(ht=ut.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Ee})}_removeServiceInstance(ge,Ee=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Ee)}_addComponent(ge){(0,k._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,k._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const G=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ae(){const Fe=function te(Fe){const ge={},Ee={__esModule:!0,initializeApp:function Le(fe,qe={}){const se=k.initializeApp(fe,qe);if((0,_.r3)(ge,se.name))return ge[se.name];const pt=new Fe(se,Ee);return ge[se.name]=pt,pt},app:ut,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Se(fe){const qe=fe.name,se=qe.replace("-compat","");if(k._registerComponent(fe)&&"PUBLIC"===fe.type){const pt=(tt=ut())=>{if("function"!=typeof tt[se])throw G.create("invalid-app-argument",{appName:qe});return tt[se]()};void 0!==fe.serviceProps&&(0,_.ZB)(pt,fe.serviceProps),Ee[se]=pt,Fe.prototype[se]=function(...tt){return this._getService.bind(this,qe).apply(this,fe.multipleInstances?tt:[])}}return"PUBLIC"===fe.type?Ee[se]:null},removeApp:function ht(fe){delete ge[fe]},useAsService:function ne(fe,qe){return"serverAuth"===qe?null:qe},modularAPIs:k}};function ut(fe){if(!(0,_.r3)(ge,fe=fe||k._DEFAULT_ENTRY_NAME))throw G.create("no-app",{appName:fe});return ge[fe]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function re(){return Object.keys(ge).map(fe=>ge[fe])}}),ut.App=Fe,Ee}(we);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ge(Ee){(0,_.ZB)(Fe,Ee)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Fe}(),H=new _e.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const X=B;!function J(Fe){(0,k.registerVersion)("@firebase/app-compat","0.2.11",Fe)}()},6881:(Mt,Be,V)=>{"use strict";V.r(Be),V.d(Be,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>ua,_DEFAULT_ENTRY_NAME:()=>$i,_addComponent:()=>Et,_addOrOverwriteComponent:()=>Nt,_apps:()=>On,_clearComponents:()=>ar,_components:()=>an,_getProvider:()=>Es,_registerComponent:()=>In,_removeServiceInstance:()=>bi,deleteApp:()=>Xi,getApp:()=>mr,getApps:()=>Fr,initializeApp:()=>un,onLog:()=>Is,registerVersion:()=>Ur,setLogLevel:()=>Zn});var _=V(5861),le=V(4859),k=V(1877),_e=V(2090);let Te,G;const B=new WeakMap,H=new WeakMap,Q=new WeakMap,Ze=new WeakMap,J=new WeakMap;let ge={get(ye,pe,Ge){if(ye instanceof IDBTransaction){if("done"===pe)return H.get(ye);if("objectStoreNames"===pe)return ye.objectStoreNames||Q.get(ye);if("store"===pe)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Le(ye[pe])},set:(ye,pe,Ge)=>(ye[pe]=Ge,!0),has:(ye,pe)=>ye instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in ye};function ut(ye){return"function"==typeof ye?function ht(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...pe){return ye.apply(re(this),pe),Le(B.get(this))}:function(...pe){return Le(ye.apply(re(this),pe))}:function(pe,...Ge){const We=ye.call(re(this),pe,...Ge);return Q.set(We,pe.sort?pe.sort():[pe]),Le(We)}}(ye):(ye instanceof IDBTransaction&&function Fe(ye){if(H.has(ye))return;const pe=new Promise((Ge,We)=>{const Ut=()=>{ye.removeEventListener("complete",Qt),ye.removeEventListener("error",cn),ye.removeEventListener("abort",cn)},Qt=()=>{Ge(),Ut()},cn=()=>{We(ye.error||new DOMException("AbortError","AbortError")),Ut()};ye.addEventListener("complete",Qt),ye.addEventListener("error",cn),ye.addEventListener("abort",cn)});H.set(ye,pe)}(ye),((ye,pe)=>pe.some(Ge=>ye instanceof Ge))(ye,function te(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,ge):ye)}function Le(ye){if(ye instanceof IDBRequest)return function X(ye){const pe=new Promise((Ge,We)=>{const Ut=()=>{ye.removeEventListener("success",Qt),ye.removeEventListener("error",cn)},Qt=()=>{Ge(Le(ye.result)),Ut()},cn=()=>{We(ye.error),Ut()};ye.addEventListener("success",Qt),ye.addEventListener("error",cn)});return pe.then(Ge=>{Ge instanceof IDBCursor&&B.set(Ge,ye)}).catch(()=>{}),J.set(pe,ye),pe}(ye);if(Ze.has(ye))return Ze.get(ye);const pe=ut(ye);return pe!==ye&&(Ze.set(ye,pe),J.set(pe,ye)),pe}const re=ye=>J.get(ye),fe=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],se=new Map;function pt(ye,pe){if(!(ye instanceof IDBDatabase)||pe in ye||"string"!=typeof pe)return;if(se.get(pe))return se.get(pe);const Ge=pe.replace(/FromIndex$/,""),We=pe!==Ge,Ut=qe.includes(Ge);if(!(Ge in(We?IDBIndex:IDBObjectStore).prototype)||!Ut&&!fe.includes(Ge))return;const Qt=function(){var cn=(0,_.Z)(function*(Fn,...sn){const Br=this.transaction(Fn,Ut?"readwrite":"readonly");let Hi=Br.store;return We&&(Hi=Hi.index(sn.shift())),(yield Promise.all([Hi[Ge](...sn),Ut&&Br.done]))[0]});return function(sn){return cn.apply(this,arguments)}}();return se.set(pe,Qt),Qt}!function Ee(ye){ge=ye(ge)}(ye=>({...ye,get:(pe,Ge,We)=>pt(pe,Ge)||ye.get(pe,Ge,We),has:(pe,Ge)=>!!pt(pe,Ge)||ye.has(pe,Ge)}));class tt{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function Gt(ye){return"VERSION"===ye.getComponent()?.type}(Ge)){const We=Ge.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Ge=>Ge).join(" ")}}const gt="@firebase/app",xe=new k.Yd("@firebase/app"),$i="[DEFAULT]",gr={[gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},On=new Map,an=new Map;function Et(ye,pe){try{ye.container.addComponent(pe)}catch(Ge){xe.debug(`Component ${pe.name} failed to register with FirebaseApp ${ye.name}`,Ge)}}function Nt(ye,pe){ye.container.addOrOverwriteComponent(pe)}function In(ye){const pe=ye.name;if(an.has(pe))return xe.debug(`There were multiple attempts to register component ${pe}.`),!1;an.set(pe,ye);for(const Ge of On.values())Et(Ge,ye);return!0}function Es(ye,pe){const Ge=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),ye.container.getProvider(pe)}function bi(ye,pe,Ge=$i){Es(ye,pe).clearInstance(Ge)}function ar(){an.clear()}const Lr=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(pe,Ge,We){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const ua="9.22.1";function un(ye,pe={}){let Ge=ye;"object"!=typeof pe&&(pe={name:pe});const We=Object.assign({name:$i,automaticDataCollectionEnabled:!1},pe),Ut=We.name;if("string"!=typeof Ut||!Ut)throw Lr.create("bad-app-name",{appName:String(Ut)});if(Ge||(Ge=(0,_e.aH)()),!Ge)throw Lr.create("no-options");const Qt=On.get(Ut);if(Qt){if((0,_e.vZ)(Ge,Qt.options)&&(0,_e.vZ)(We,Qt.config))return Qt;throw Lr.create("duplicate-app",{appName:Ut})}const cn=new le.H0(Ut);for(const sn of an.values())cn.addComponent(sn);const Fn=new vn(Ge,We,cn);return On.set(Ut,Fn),Fn}function mr(ye=$i){const pe=On.get(ye);if(!pe&&ye===$i&&(0,_e.aH)())return un();if(!pe)throw Lr.create("no-app",{appName:ye});return pe}function Fr(){return Array.from(On.values())}function Xi(ye){return $n.apply(this,arguments)}function $n(){return($n=(0,_.Z)(function*(ye){const pe=ye.name;On.has(pe)&&(On.delete(pe),yield Promise.all(ye.container.getProviders().map(Ge=>Ge.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Ur(ye,pe,Ge){var We;let Ut=null!==(We=gr[ye])&&void 0!==We?We:ye;Ge&&(Ut+=`-${Ge}`);const Qt=Ut.match(/\s|\//),cn=pe.match(/\s|\//);if(Qt||cn){const Fn=[`Unable to register library "${Ut}" with version "${pe}":`];return Qt&&Fn.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),Qt&&cn&&Fn.push("and"),cn&&Fn.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void xe.warn(Fn.join(" "))}In(new le.wA(`${Ut}-version`,()=>({library:Ut,version:pe}),"VERSION"))}function Is(ye,pe){if(null!==ye&&"function"!=typeof ye)throw Lr.create("invalid-log-argument");(0,k.Am)(ye,pe)}function Zn(ye){(0,k.Ub)(ye)}const z="firebase-heartbeat-store";let j=null;function ee(){return j||(j=function Se(ye,pe,{blocked:Ge,upgrade:We,blocking:Ut,terminated:Qt}={}){const cn=indexedDB.open(ye,pe),Fn=Le(cn);return We&&cn.addEventListener("upgradeneeded",sn=>{We(Le(cn.result),sn.oldVersion,sn.newVersion,Le(cn.transaction),sn)}),Ge&&cn.addEventListener("blocked",sn=>Ge(sn.oldVersion,sn.newVersion,sn)),Fn.then(sn=>{Qt&&sn.addEventListener("close",()=>Qt()),Ut&&sn.addEventListener("versionchange",Br=>Ut(Br.oldVersion,Br.newVersion,Br))}).catch(()=>{}),Fn}("firebase-heartbeat-database",1,{upgrade:(ye,pe)=>{0===pe&&ye.createObjectStore(z)}}).catch(ye=>{throw Lr.create("idb-open",{originalErrorMessage:ye.message})})),j}function de(){return(de=(0,_.Z)(function*(ye){try{return yield(yield ee()).transaction(z).objectStore(z).get(Yt(ye))}catch(pe){if(pe instanceof _e.ZR)xe.warn(pe.message);else{const Ge=Lr.create("idb-get",{originalErrorMessage:pe?.message});xe.warn(Ge.message)}}})).apply(this,arguments)}function nt(ye,pe){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(ye,pe){try{const We=(yield ee()).transaction(z,"readwrite");yield We.objectStore(z).put(pe,Yt(ye)),yield We.done}catch(Ge){if(Ge instanceof _e.ZR)xe.warn(Ge.message);else{const We=Lr.create("idb-set",{originalErrorMessage:Ge?.message});xe.warn(We.message)}}})).apply(this,arguments)}function Yt(ye){return`${ye.name}!${ye.options.appId}`}class Ct{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new Vr(Ge),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var pe=this;return(0,_.Z)(function*(){const We=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=kt();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!pe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Ut))return pe._heartbeatsCache.heartbeats.push({date:Ut,agent:We}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Qt=>{const cn=new Date(Qt.date).valueOf();return Date.now()-cn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,_.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const Ge=kt(),{heartbeatsToSend:We,unsentEntries:Ut}=function Dn(ye,pe=1024){const Ge=[];let We=ye.slice();for(const Ut of ye){const Qt=Ge.find(cn=>cn.agent===Ut.agent);if(Qt){if(Qt.dates.push(Ut.date),bn(Ge)>pe){Qt.dates.pop();break}}else if(Ge.push({agent:Ut.agent,dates:[Ut.date]}),bn(Ge)>pe){Ge.pop();break}We=We.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:We}}(pe._heartbeatsCache.heartbeats),Qt=(0,_e.L)(JSON.stringify({version:2,heartbeats:We}));return pe._heartbeatsCache.lastSentHeartbeatDate=Ge,Ut.length>0?(pe._heartbeatsCache.heartbeats=Ut,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Qt})()}}function kt(){return(new Date).toISOString().substring(0,10)}class Vr{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,_.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function be(ye){return de.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var Ge=this;return(0,_.Z)(function*(){var We;if(yield Ge._canUseIndexedDBPromise){const Qt=yield Ge.read();return nt(Ge.app,{lastSentHeartbeatDate:null!==(We=pe.lastSentHeartbeatDate)&&void 0!==We?We:Qt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Ge=this;return(0,_.Z)(function*(){var We;if(yield Ge._canUseIndexedDBPromise){const Qt=yield Ge.read();return nt(Ge.app,{lastSentHeartbeatDate:null!==(We=pe.lastSentHeartbeatDate)&&void 0!==We?We:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...pe.heartbeats]})}})()}}function bn(ye){return(0,_e.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function Ji(ye){In(new le.wA("platform-logger",pe=>new tt(pe),"PRIVATE")),In(new le.wA("heartbeat",pe=>new Ct(pe),"PRIVATE")),Ur(gt,"0.9.11",ye),Ur(gt,"0.9.11","esm2017"),Ur("fire-js","")}("")},4859:(Mt,Be,V)=>{"use strict";V.d(Be,{H0:()=>te,wA:()=>k});var _=V(5861),le=V(2090);class k{constructor(B,H,Q){this.name=B,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const _e="[DEFAULT]";class we{constructor(B,H){this.name=B,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const H=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(H)){const Q=new le.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:H});Ze&&Q.resolve(Ze)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(B){var H;const Q=this.normalizeInstanceIdentifier(B?.identifier),Ze=null!==(H=B?.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(J){if(Ze)return null;throw J}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function G(ae){return"EAGER"===ae.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[H,Q]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(H);try{const J=this.getOrInitializeService({instanceIdentifier:Ze});Q.resolve(J)}catch{}}}}clearInstance(B=_e){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,_.Z)(function*(){const H=Array.from(B.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=_e){return this.instances.has(B)}getOptions(B=_e){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:H={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[J,X]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(J)&&X.resolve(Ze);return Ze}onInit(B,H){var Q;const Ze=this.normalizeInstanceIdentifier(H),J=null!==(Q=this.onInitCallbacks.get(Ze))&&void 0!==Q?Q:new Set;J.add(B),this.onInitCallbacks.set(Ze,J);const X=this.instances.get(Ze);return X&&B(X,Ze),()=>{J.delete(B)}}invokeOnInitCallbacks(B,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Ze of Q)try{Ze(B,H)}catch{}}getOrInitializeService({instanceIdentifier:B,options:H={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=B,ae===_e?void 0:ae),options:H}),this.instances.set(B,Q),this.instancesOptions.set(B,H),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch{}var ae;return Q||null}normalizeInstanceIdentifier(B=_e){return this.component?this.component.multipleInstances?B:_e:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const H=this.getProvider(B.name);if(H.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);H.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const H=new we(B,this);return this.providers.set(B,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Mt,Be,V)=>{"use strict";V.d(Be,{Am:()=>ae,Ub:()=>te,Yd:()=>G,in:()=>le});const _=[];var le=(()=>{return(B=le||(le={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",le;var B})();const k={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},_e=le.INFO,we={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Te=(B,H,...Q)=>{if(H<B.logLevel)return;const Ze=(new Date).toISOString(),J=we[H];if(!J)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[J](`[${Ze}]  ${B.name}:`,...Q)};class G{constructor(H){this.name=H,this._logLevel=_e,this._logHandler=Te,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in le))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?k[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...H),this._logHandler(this,le.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...H),this._logHandler(this,le.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,le.INFO,...H),this._logHandler(this,le.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,le.WARN,...H),this._logHandler(this,le.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...H),this._logHandler(this,le.ERROR,...H)}}function te(B){_.forEach(H=>{H.setLogLevel(B)})}function ae(B,H){for(const Q of _){let Ze=null;H&&H.level&&(Ze=k[H.level]),Q.userLogHandler=null===B?null:(J,X,...Fe)=>{const ge=Fe.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");X>=(Ze??J.logLevel)&&B({level:le[X].toLowerCase(),message:ge,args:Fe,type:J.name})}}}},259:(Mt,Be,V)=>{"use strict";V.d(Be,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=V(6881);(0,_.registerVersion)("firebase","9.22.1","app")},9260:(Mt,Be,V)=>{"use strict";V.d(Be,{Z:()=>_.Z});var _=V(3942);_.Z.registerVersion("firebase","9.22.1","app-compat")},2644:(Mt,Be,V)=>{"use strict";V.r(Be);var _=V(5861),le=V(3942),k=V(2090),_e=V(6881),we=V(655),Te=V(1877),G=V(4859);const X=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Fe=function J(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new Te.Yd("@firebase/auth");function Le(y,...f){ht.logLevel<=Te.in.ERROR&&ht.error(`Auth (${_e.SDK_VERSION}): ${y}`,...f)}function re(y,...f){throw qe(y,...f)}function Se(y,...f){return qe(y,...f)}function ne(y,f,p){const E=Object.assign(Object.assign({},Fe()),{[f]:p});return new k.LL("auth","Firebase",E).create(f,{appName:y.name})}function fe(y,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&re(y,"argument-error"),ne(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(y,...f){if("string"!=typeof y){const p=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(p,...E)}return ge.create(y,...f)}function se(y,f,...p){if(!y)throw qe(f,...p)}function pt(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Le(f),new Error(f)}function tt(y,f){y||pt(f)}function Gt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function gt(){return"http:"===Sr()||"https:"===Sr()}function Sr(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ve{constructor(f,p){this.shortDelay=f,this.longDelay=p,tt(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y(y,f){tt(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Ie{static initialize(f,p,E){this.fetchImpl=f,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new ve(3e4,6e4);function mt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function It(y,f,p,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,_.Z)(function*(y,f,p,E,A={}){return he(y,A,(0,_.Z)(function*(){let R={},q={};E&&("GET"===f?q=E:R={body:JSON.stringify(E)});const ce=(0,k.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),Ie.fetch()(Vt(y,y.config.apiHost,p,ce),Object.assign({method:f,headers:ze,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function he(y,f,p){return $e.apply(this,arguments)}function $e(){return($e=(0,_.Z)(function*(y,f,p){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},je),f);try{const A=new Zt(y),R=yield Promise.race([p(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Bt(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const ce=R.ok?q.errorMessage:q.error.message,[ze,et]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw Bt(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===ze)throw Bt(y,"email-already-in-use",q);if("USER_DISABLED"===ze)throw Bt(y,"user-disabled",q);const yt=E[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw ne(y,yt,et);re(y,yt)}}catch(A){if(A instanceof k.ZR)throw A;re(y,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function it(y,f,p,E){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,_.Z)(function*(y,f,p,E,A={}){const R=yield It(y,f,p,E,A);return"mfaPendingCredential"in R&&re(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Vt(y,f,p,E){const A=`${f}${p}?${E}`;return y.config.emulator?Y(y.config,A):`${y.config.apiScheme}://${A}`}class Zt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bt(y,f,p){const E={appName:y.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const A=Se(y,f,E);return A.customData._tokenResponse=p,A}function jn(){return(jn=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function pr(y,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vt(y,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ui(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function $i(){return($i=(0,_.Z)(function*(y,f=!1){const p=(0,k.m9)(y),E=yield p.getIdToken(f),A=On(E);se(A&&A.exp&&A.auth_time&&A.iat,p.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:E,authTime:ui(gr(A.auth_time)),issuedAtTime:ui(gr(A.iat)),expirationTime:ui(gr(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function gr(y){return 1e3*Number(y)}function On(y){const[f,p,E]=y.split(".");if(void 0===f||void 0===p||void 0===E)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(p);return A?JSON.parse(A):(Le("Failed to decode base64 JWT payload"),null)}catch(A){return Le("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Et(y,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,_.Z)(function*(y,f,p=!1){if(p)return f;try{return yield f}catch(E){throw E instanceof k.ZR&&In(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function In({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Es{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,_.Z)(function*(){yield p.iteration()}),E)}iteration(){var f=this;return(0,_.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&f.schedule(!0))}f.schedule()})()}}class bi{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(y){return jt.apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(y){var f;const p=y.auth,E=yield y.getIdToken(),A=yield Et(y,vt(p,{idToken:E}));se(A?.users.length,p,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const q=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?un(R.providerUserInfo):[],ce=ua(y.providerData,q),yt=!!y.isAnonymous&&!(y.email&&R.passwordHash||ce?.length),Dt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new bi(R.createdAt,R.lastLoginAt),isAnonymous:yt};Object.assign(y,Dt)})).apply(this,arguments)}function vn(){return(vn=(0,_.Z)(function*(y){const f=(0,k.m9)(y);yield ar(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ua(y,f){return[...y.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function un(y){return y.map(f=>{var{providerId:p}=f,E=(0,we._T)(f,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fr(){return(Fr=(0,_.Z)(function*(y,f){const p=yield he(y,{},(0,_.Z)(function*(){const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,q=Vt(y,A,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(q,{method:"POST",headers:ce,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const p="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function an(y){const f=On(y);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var E=this;return(0,_.Z)(function*(){return se(!E.accessToken||E.refreshToken,f,"user-token-expired"),p||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var E=this;return(0,_.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function mr(y,f){return Fr.apply(this,arguments)}(f,p);E.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(f,p,E){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,p){const{refreshToken:E,accessToken:A,expirationTime:R}=p,q=new Xi;return E&&(se("string"==typeof E,"internal-error",{appName:f}),q.refreshToken=E),A&&(se("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),R&&(se("number"==typeof R,"internal-error",{appName:f}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return pt("not implemented")}}function $n(y,f){se("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Ur{constructor(f){var{uid:p,auth:E,stsTokenManager:A}=f,R=(0,we._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new bi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,_.Z)(function*(){const E=yield Et(p,p.stsTokenManager.getToken(p.auth,f));return se(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(f){return function aa(y){return $i.apply(this,arguments)}(this,f)}reload(){return function Lr(y){return vn.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const p=new Ur(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var E=this;return(0,_.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),p&&(yield ar(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,_.Z)(function*(){const p=yield f.getIdToken();return yield Et(f,function ln(y,f){return jn.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var E,A,R,q,ce,ze,et,yt;const Dt=null!==(E=p.displayName)&&void 0!==E?E:void 0,Vn=null!==(A=p.email)&&void 0!==A?A:void 0,ds=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,dd=null!==(q=p.photoURL)&&void 0!==q?q:void 0,Rs=null!==(ce=p.tenantId)&&void 0!==ce?ce:void 0,hd=null!==(ze=p._redirectEventId)&&void 0!==ze?ze:void 0,Vc=null!==(et=p.createdAt)&&void 0!==et?et:void 0,Ey=null!==(yt=p.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:dg,emailVerified:hg,isAnonymous:Bc,providerData:jc,stsTokenManager:Iy}=p;se(dg&&Iy,f,"internal-error");const Ma=Xi.fromJSON(this.name,Iy);se("string"==typeof dg,f,"internal-error"),$n(Dt,f.name),$n(Vn,f.name),se("boolean"==typeof hg,f,"internal-error"),se("boolean"==typeof Bc,f,"internal-error"),$n(ds,f.name),$n(dd,f.name),$n(Rs,f.name),$n(hd,f.name),$n(Vc,f.name),$n(Ey,f.name);const Mu=new Ur({uid:dg,auth:f,email:Vn,emailVerified:hg,displayName:Dt,isAnonymous:Bc,photoURL:dd,phoneNumber:ds,tenantId:Rs,stsTokenManager:Ma,createdAt:Vc,lastLoginAt:Ey});return jc&&Array.isArray(jc)&&(Mu.providerData=jc.map(Er=>Object.assign({},Er))),hd&&(Mu._redirectEventId=hd),Mu}static _fromIdTokenResponse(f,p,E=!1){return(0,_.Z)(function*(){const A=new Xi;A.updateFromServerResponse(p);const R=new Ur({uid:p.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield ar(R),R})()}}const Is=new Map;function Zn(y){tt(y instanceof Function,"Expected a class definition");let f=Is.get(y);return f?(tt(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Is.set(y,f),f)}const li=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(p,E){var A=this;return(0,_.Z)(function*(){A.storage[p]=E})()}_get(p){var E=this;return(0,_.Z)(function*(){const A=E.storage[p];return void 0===A?null:A})()}_remove(p){var E=this;return(0,_.Z)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return y.type="NONE",y})();function z(y,f,p){return`firebase:${y}:${f}:${p}`}class j{constructor(f,p,E){this.persistence=f,this.auth=p,this.userKey=E;const{config:A,name:R}=this.auth;this.fullUserKey=z(this.userKey,A.apiKey,R),this.fullPersistenceKey=z("persistence",A.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,_.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Ur._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,_.Z)(function*(){if(p.persistence===f)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,E="authUser"){return(0,_.Z)(function*(){if(!p.length)return new j(Zn(li),f,E);const A=(yield Promise.all(p.map(function(){var et=(0,_.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return et.apply(this,arguments)}}()))).filter(et=>et);let R=A[0]||Zn(li);const q=z(E,f.config.apiKey,f.name);let ce=null;for(const et of p)try{const yt=yield et._get(q);if(yt){const Dt=Ur._fromJSON(f,yt);et!==R&&(ce=Dt),R=et;break}}catch{}const ze=A.filter(et=>et._shouldAllowMigration);return R._shouldAllowMigration&&ze.length?(R=ze[0],ce&&(yield R._set(q,ce.toJSON())),yield Promise.all(p.map(function(){var et=(0,_.Z)(function*(yt){if(yt!==R)try{yield yt._remove(q)}catch{}});return function(yt){return et.apply(this,arguments)}}())),new j(R,f,E)):new j(R,f,E)})()}}function ee(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ht(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(be(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(yn(f))return"Blackberry";if(Qe(f))return"Webos";if(de(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(Yt(f))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function be(y=(0,k.z$)()){return/firefox\//i.test(y)}function de(y=(0,k.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(y=(0,k.z$)()){return/crios\//i.test(y)}function Ht(y=(0,k.z$)()){return/iemobile/i.test(y)}function Yt(y=(0,k.z$)()){return/android/i.test(y)}function yn(y=(0,k.z$)()){return/blackberry/i.test(y)}function Qe(y=(0,k.z$)()){return/webos/i.test(y)}function Ct(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function bn(y=(0,k.z$)()){return Ct(y)||Yt(y)||Qe(y)||yn(y)||/windows phone/i.test(y)||Ht(y)}function ye(y,f=[]){let p;switch(y){case"Browser":p=ee((0,k.z$)());break;case"Worker":p=`${ee((0,k.z$)())}-${y}`;break;default:p=y}const E=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${_e.SDK_VERSION}/${E}`}function Ge(){return(Ge=(0,_.Z)(function*(y){return(yield It(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function We(y,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(y,f){return It(y,"GET","/v2/recaptchaConfig",mt(y,f))})).apply(this,arguments)}function Qt(y){return void 0!==y&&void 0!==y.getResponse}function cn(y){return void 0!==y&&void 0!==y.enterprise}class Fn{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Br(y){return new Promise((f,p)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=f,E.onerror=A=>{const R=Se("internal-error");R.customData=A,p(R)},E.type="text/javascript",E.charset="UTF-8",function sn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(E)})}function Hi(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Cn{constructor(f){this.type="recaptcha-enterprise",this.auth=An(f)}verify(f="verify",p=!1){var E=this;return(0,_.Z)(function*(){function R(){return R=(0,_.Z)(function*(ce){if(!p){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var ze=(0,_.Z)(function*(et,yt){We(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dt=>{if(void 0!==Dt.recaptchaKey){const Vn=new Fn(Dt);return null==ce.tenantId?ce._agentRecaptchaConfig=Vn:ce._tenantRecaptchaConfigs[ce.tenantId]=Vn,et(Vn.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Dt=>{yt(Dt)})});return function(et,yt){return ze.apply(this,arguments)}}())}),R.apply(this,arguments)}function q(ce,ze,et){const yt=window.grecaptcha;cn(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(ce,{action:f}).then(Dt=>{ze(Dt)}).catch(()=>{ze("NO_RECAPTCHA")})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,ze)=>{(function A(ce){return R.apply(this,arguments)})(E.auth).then(et=>{if(!p&&cn(window.grecaptcha))q(et,ce,ze);else{if(typeof window>"u")return void ze(new Error("RecaptchaVerifier is only supported in browser"));Br("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{q(et,ce,ze)}).catch(yt=>{ze(yt)})}}).catch(et=>{ze(et)})})})()}}function Ds(y,f,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,_.Z)(function*(y,f,p,E=!1){const A=new Cn(y);let R;try{R=yield A.verify(p)}catch{R=yield A.verify(p,!0)}const q=Object.assign({},f);return Object.assign(q,E?{captchaResp:R}:{captchaResponse:R}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class xo{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const E=R=>new Promise((q,ce)=>{try{q(f(R))}catch(ze){ce(ze)}});E.onAbort=p,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,_.Z)(function*(){if(p.auth.currentUser===f)return;const E=[];try{for(const A of p.queue)yield A(f),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const R of E)try{R()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class wl{constructor(f,p,E,A){this.app=f,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uo(this),this.idTokenSubscription=new uo(this),this.beforeStateQueue=new xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,p){var E=this;return p&&(this._popupRedirectResolver=Zn(p)),this._initializationPromise=this.queue((0,_.Z)(function*(){var A,R;if(!E._deleted&&(E.persistenceManager=yield j.create(E,f),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,_.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,_.Z)(function*(){var E;const A=yield p.assertedPersistence.getCurrentUser();let R=A,q=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ce=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,ze=R?._redirectEventId,et=yield p.tryRedirectSignIn(f);(!ce||ce===ze)&&et?.user&&(R=et.user,q=!0)}if(!R)return p.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield p.beforeStateQueue.runMiddleware(R)}catch(ce){R=A,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ce))}return R?p.reloadAndSetCurrentUserOrClear(R):p.directlySetCurrentUser(null)}return se(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===R._redirectEventId?p.directlySetCurrentUser(R):p.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var p=this;return(0,_.Z)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,_.Z)(function*(){try{yield ar(f)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function oe(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,_.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,_.Z)(function*(){const E=f?(0,k.m9)(f):null;return E&&se(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(f,p=!1){var E=this;return(0,_.Z)(function*(){if(!E._deleted)return f&&se(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,_.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,_.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,_.Z)(function*(){yield p.assertedPersistence.setPersistence(Zn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,_.Z)(function*(){const p=yield We(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Fn(p);null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,E.emailPasswordEnabled&&new Cn(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,p,E){return this.registerStateListener(this.authStateSubscription,f,p,E)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,E){return this.registerStateListener(this.idTokenSubscription,f,p,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var E=this;return(0,_.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(p);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,_.Z)(function*(){if(!p.redirectPersistenceManager){const E=f&&Zn(f)||p._popupRedirectResolver;se(E,p,"argument-error"),p.redirectPersistenceManager=yield j.create(p,[Zn(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,_.Z)(function*(){var E,A;return p._isInitialized&&(yield p.queue((0,_.Z)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===f?p._currentUser:(null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,_.Z)(function*(){if(f===p.currentUser)return p.queue((0,_.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,E,A){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),q=this._isInitialized?Promise.resolve():this._initializationPromise;return se(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof p?f.addObserver(p,E,A):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,_.Z)(function*(){p.currentUser&&p.currentUser!==f&&p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh(),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,_.Z)(function*(){var p;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();A&&(E["X-Firebase-Client"]=A);const R=yield f._getAppCheckToken();return R&&(E["X-Firebase-AppCheck"]=R),E})()}_getAppCheckToken(){var f=this;return(0,_.Z)(function*(){var p;const E=yield null===(p=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function ut(y,...f){ht.logLevel<=Te.in.WARN&&ht.warn(`Auth (${_e.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function An(y){return(0,k.m9)(y)}class uo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function la(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Vs{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return pt("not implemented")}_getIdTokenResponse(f){return pt("not implemented")}_linkToIdToken(f,p){return pt("not implemented")}_getReauthenticationResolver(f){return pt("not implemented")}}function es(y,f){return da.apply(this,arguments)}function da(){return(da=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:resetPassword",mt(y,f))})).apply(this,arguments)}function sh(y,f){return El.apply(this,arguments)}function El(){return(El=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function oh(y,f){return mp.apply(this,arguments)}function mp(){return(mp=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:update",mt(y,f))})).apply(this,arguments)}function xn(y,f){return ah.apply(this,arguments)}function ah(){return(ah=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithPassword",mt(y,f))})).apply(this,arguments)}function Il(y,f){return uh.apply(this,arguments)}function uh(){return(uh=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:sendOobCode",mt(y,f))})).apply(this,arguments)}function yp(y,f){return ch.apply(this,arguments)}function ch(){return(ch=(0,_.Z)(function*(y,f){return Il(y,f)})).apply(this,arguments)}function Qu(y,f){return _p.apply(this,arguments)}function _p(){return(_p=(0,_.Z)(function*(y,f){return Il(y,f)})).apply(this,arguments)}function lh(y,f){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,_.Z)(function*(y,f){return Il(y,f)})).apply(this,arguments)}function ey(y,f){return dh.apply(this,arguments)}function dh(){return(dh=(0,_.Z)(function*(y,f){return Il(y,f)})).apply(this,arguments)}function Dl(){return(Dl=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithEmailLink",mt(y,f))})).apply(this,arguments)}function vp(){return(vp=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithEmailLink",mt(y,f))})).apply(this,arguments)}class bl extends Vs{constructor(f,p,E,A=null){super("password",E),this._email=f,this._password=p,this._tenantId=A}static _fromEmailAndPassword(f,p){return new bl(f,p,"password")}static _fromEmailAndCode(f,p,E=null){return new bl(f,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,_.Z)(function*(){var E;switch(p.signInMethod){case"password":const A={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const R=yield Ds(f,A,"signInWithPassword");return xn(f,R)}return xn(f,A).catch(function(){var R=(0,_.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ce=yield Ds(f,A,"signInWithPassword");return xn(f,ce)}return Promise.reject(q)});return function(q){return R.apply(this,arguments)}}());case"emailLink":return function hh(y,f){return Dl.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:re(f,"internal-error")}})()}_linkToIdToken(f,p){var E=this;return(0,_.Z)(function*(){switch(E.signInMethod){case"password":return sh(f,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function fh(y,f){return vp.apply(this,arguments)}(f,{idToken:p,email:E._email,oobCode:E._password});default:re(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ts(y,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithIdp",mt(y,f))})).apply(this,arguments)}class zi extends Vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new zi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):re("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=p,R=(0,we._T)(p,["providerId","signInMethod"]);if(!E||!A)return null;const q=new zi(E,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(f){return ts(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,ts(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ts(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,k.xO)(p)}return f}}function ph(y,f){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:sendVerificationCode",mt(y,f))})).apply(this,arguments)}function eu(){return(eu=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,f))})).apply(this,arguments)}function Ju(){return(Ju=(0,_.Z)(function*(y,f){const p=yield it(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,f));if(p.temporaryProof)throw Bt(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ec={USER_NOT_FOUND:"user-not-found"};function Ar(){return(Ar=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithPhoneNumber",mt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ec)})).apply(this,arguments)}class Qr extends Vs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Qr({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Qr({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Cl(y,f){return eu.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ep(y,f){return Ju.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ip(y,f){return Ar.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:E,verificationCode:A}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:E,phoneNumber:A,temporaryProof:R}=f;return E||p||A||R?new Qr({verificationId:p,verificationCode:E,phoneNumber:A,temporaryProof:R}):null}}class nc{constructor(f){var p,E,A,R,q,ce;const ze=(0,k.zd)((0,k.pd)(f)),et=null!==(p=ze.apiKey)&&void 0!==p?p:null,yt=null!==(E=ze.oobCode)&&void 0!==E?E:null,Dt=function ty(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ze.mode)&&void 0!==A?A:null);se(et&&yt&&Dt,"argument-error"),this.apiKey=et,this.operation=Dt,this.code=yt,this.continueUrl=null!==(R=ze.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=ze.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=ze.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const p=function tc(y){const f=(0,k.zd)((0,k.pd)(y)).link,p=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||p||f||y}(f);try{return new nc(p)}catch{return null}}}let Yn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,E){return bl._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const A=nc.parseLink(E);return se(A,"argument-error"),bl._fromEmailAndCode(p,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class js{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class rc extends js{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Gi extends rc{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return se("providerId"in p&&"signInMethod"in p,"argument-error"),zi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Gi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Gi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:ce}=f;if(!E&&!A&&!p&&!R||!ce)return null;try{return new Gi(ce)._credential({idToken:p,accessToken:E,nonce:q,pendingToken:R})}catch{return null}}}let hi=(()=>{class y extends rc{constructor(){super("facebook.com")}static credential(p){return zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Tl=(()=>{class y extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:A}=p;if(!E&&!A)return null;try{return y.credential(E,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ic=(()=>{class y extends rc{constructor(){super("github.com")}static credential(p){return zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qn extends Vs{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return ts(f,this.buildRequest())}_linkToIdToken(f,p){const E=this.buildRequest();return E.idToken=p,ts(f,E)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ts(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:R}=p;return E&&A&&R&&E===A?new Qn(E,R):null}static _create(f,p){return new Qn(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends js{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Mo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Mo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=Qn.fromJSON(f);return se(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:E}=f;if(!p||!E)return null;try{return Qn._create(E,p)}catch{return null}}}let Sl=(()=>{class y extends rc{constructor(){super("twitter.com")}static credential(p,E){return zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=p;if(!E||!A)return null;try{return y.credential(E,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Si(y,f){return co.apply(this,arguments)}function co(){return(co=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signUp",mt(y,f))})).apply(this,arguments)}class jr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,E,A=!1){return(0,_.Z)(function*(){const R=yield Ur._fromIdTokenResponse(f,E,A),q=zt(E);return new jr({user:R,providerId:q,_tokenResponse:E,operationType:p})})()}static _forOperation(f,p,E){return(0,_.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=zt(E);return new jr({user:f,providerId:A,_tokenResponse:E,operationType:p})})()}}function zt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function mh(){return(mh=(0,_.Z)(function*(y){var f;const p=An(y);if(yield p._initializationPromise,null!==(f=p.currentUser)&&void 0!==f&&f.isAnonymous)return new jr({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield Si(p,{returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(A.user),A})).apply(this,arguments)}class tu extends k.ZR{constructor(f,p,E,A){var R;super(p.code,p.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,tu.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,p,E,A){return new tu(f,p,E,A)}}function yh(y,f,p,E){return("reauthenticate"===f?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?tu._fromErrorAndOperation(y,R,f,E):R})}function _h(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function ns(){return(ns=(0,_.Z)(function*(y,f){const p=(0,k.m9)(y);yield tn(!0,p,f);const{providerUserInfo:E}=yield pr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),A=_h(E||[]);return p.providerData=p.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function sc(y,f){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,_.Z)(function*(y,f,p=!1){const E=yield Et(y,f._linkToIdToken(y.auth,yield y.getIdToken()),p);return jr._forOperation(y,"link",E)})).apply(this,arguments)}function tn(y,f,p){return Al.apply(this,arguments)}function Al(){return(Al=(0,_.Z)(function*(y,f,p){yield ar(f);const A=!1===y?"provider-already-linked":"no-such-provider";se(_h(f.providerData).has(p)===y,f.auth,A)})).apply(this,arguments)}function wh(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,_.Z)(function*(y,f,p=!1){const{auth:E}=y,A="reauthenticate";try{const R=yield Et(y,yh(E,A,f,y),p);se(R.idToken,E,"internal-error");const q=On(R.idToken);se(q,E,"internal-error");const{sub:ce}=q;return se(y.uid===ce,E,"user-mismatch"),jr._forOperation(y,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&re(E,"user-mismatch"),R}})).apply(this,arguments)}function oc(y,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,_.Z)(function*(y,f,p=!1){const E="signIn",A=yield yh(y,E,f),R=yield jr._fromIdTokenResponse(y,E,A);return p||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ai(y,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(y,f){return oc(An(y),f)})).apply(this,arguments)}function xl(y,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,_.Z)(function*(y,f){const p=(0,k.m9)(y);return yield tn(!1,p,f.providerId),sc(p,f)})).apply(this,arguments)}function zn(y,f){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,_.Z)(function*(y,f){return wh((0,k.m9)(y),f)})).apply(this,arguments)}function bp(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,_.Z)(function*(y,f){return it(y,"POST","/v1/accounts:signInWithCustomToken",mt(y,f))})).apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(y,f){const p=An(y),E=yield bp(p,{token:f,returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(A.user),A})).apply(this,arguments)}class $s{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?Mi._fromServerResponse(f,p):"totpInfo"in p?Eh._fromServerResponse(f,p):re(f,"internal-error")}}class Mi extends $s{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new Mi(p)}}class Eh extends $s{constructor(f){super("totp",f)}static _fromServerResponse(f,p){return new Eh(p)}}function Po(y,f,p){var E;se((null===(E=p.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),se(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(se(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(se(p.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function pa(){return pa=(0,_.Z)(function*(y,f,p){var E;const A=An(y),R={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const q=yield Ds(A,R,"getOobCode",!0);p&&Po(A,q,p),yield Qu(A,q)}else p&&Po(A,R,p),yield Qu(A,R).catch(function(){var q=(0,_.Z)(function*(ce){if("auth/missing-recaptcha-token"!==ce.code)return Promise.reject(ce);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ze=yield Ds(A,R,"getOobCode",!0);p&&Po(A,ze,p),yield Qu(A,ze)}});return function(ce){return q.apply(this,arguments)}}())}),pa.apply(this,arguments)}function nu(){return(nu=(0,_.Z)(function*(y,f,p){yield es((0,k.m9)(y),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Jr(){return(Jr=(0,_.Z)(function*(y,f){yield oh((0,k.m9)(y),{oobCode:f})})).apply(this,arguments)}function Pl(y,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,_.Z)(function*(y,f){const p=(0,k.m9)(y),E=yield es(p,{oobCode:f}),A=E.requestType;switch(se(A,p,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(E.mfaInfo,p,"internal-error");default:se(E.email,p,"internal-error")}let R=null;return E.mfaInfo&&(R=$s._fromServerResponse(An(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function Oo(){return(Oo=(0,_.Z)(function*(y,f){const{data:p}=yield Pl((0,k.m9)(y),f);return p.email})).apply(this,arguments)}function su(){return su=(0,_.Z)(function*(y,f,p){var E;const A=An(y),R={returnSecureToken:!0,email:f,password:p,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const et=yield Ds(A,R,"signUpPassword");q=Si(A,et)}else q=Si(A,R).catch(function(){var et=(0,_.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dt=yield Ds(A,R,"signUpPassword");return Si(A,Dt)}return Promise.reject(yt)});return function(yt){return et.apply(this,arguments)}}());const ce=yield q.catch(et=>Promise.reject(et)),ze=yield jr._fromIdTokenResponse(A,"signIn",ce);return yield A._updateCurrentUser(ze.user),ze}),su.apply(this,arguments)}function uc(){return uc=(0,_.Z)(function*(y,f,p){var E;const A=An(y),R={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function q(ce,ze){se(ze.handleCodeInApp,A,"argument-error"),ze&&Po(A,ce,ze)}if(null!==(E=A._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ce=yield Ds(A,R,"getOobCode",!0);q(ce,p),yield lh(A,ce)}else q(R,p),yield lh(A,R).catch(function(){var ce=(0,_.Z)(function*(ze){if("auth/missing-recaptcha-token"!==ze.code)return Promise.reject(ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const et=yield Ds(A,R,"getOobCode",!0);q(et,p),yield lh(A,et)}});return function(ze){return ce.apply(this,arguments)}}())}),uc.apply(this,arguments)}function Hs(){return(Hs=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y),A=Yn.credentialWithLink(f,p||Gt());return se(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ai(E,A)})).apply(this,arguments)}function kn(y,f){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:createAuthUri",mt(y,f))})).apply(this,arguments)}function kl(){return(kl=(0,_.Z)(function*(y,f){const E={identifier:f,continueUri:gt()?Gt():"http://localhost"},{signinMethods:A}=yield kn((0,k.m9)(y),E);return A||[]})).apply(this,arguments)}function cc(){return(cc=(0,_.Z)(function*(y,f){const p=(0,k.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Po(p.auth,A,f);const{email:R}=yield yp(p.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function ko(){return(ko=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};p&&Po(E.auth,R,p);const{email:q}=yield ey(E.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function ou(y,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,_.Z)(function*(y,f){return It(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function au(){return(au=(0,_.Z)(function*(y,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const E=(0,k.m9)(y),R={idToken:yield E.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},q=yield Et(E,ou(E.auth,R));E.displayName=q.displayName||null,E.photoURL=q.photoUrl||null;const ce=E.providerData.find(({providerId:ze})=>"password"===ze);ce&&(ce.displayName=E.displayName,ce.photoURL=E.photoURL),yield E._updateTokensIfNecessary(q)})).apply(this,arguments)}function uu(y,f,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,_.Z)(function*(y,f,p){const{auth:E}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),p&&(R.password=p);const q=yield Et(y,sh(E,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class is{constructor(f,p,E={}){this.isNewUser=f,this.providerId=p,this.profile=E}}class Ll extends is{constructor(f,p,E,A){super(f,p,E),this.username=A}}class Sh extends is{constructor(f,p){super(f,"facebook.com",p)}}class Sp extends Ll{constructor(f,p){super(f,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Fl extends is{constructor(f,p){super(f,"google.com",p)}}class dc extends Ll{constructor(f,p,E){super(f,"twitter.com",p,E)}}function hc(y){const{user:f,_tokenResponse:p}=y;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Tp(y){var f,p;if(!y)return null;const{providerId:E}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&y?.idToken){const q=null===(p=null===(f=On(y.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(q)return new is(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!E)return null;switch(E){case"facebook.com":return new Sh(R,A);case"github.com":return new Sp(R,A);case"google.com":return new Fl(R,A);case"twitter.com":return new dc(R,A,y.screenName||null);case"custom":case"anonymous":return new is(R,null);default:return new is(R,E,A)}}(p)}class No{constructor(f,p,E){this.type=f,this.credential=p,this.auth=E}static _fromIdtoken(f,p){return new No("enroll",f,p)}static _fromMfaPendingCredential(f){return new No("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,E;if(f?.multiFactorSession){if(null!==(p=f.multiFactorSession)&&void 0!==p&&p.pendingCredential)return No._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(E=f.multiFactorSession)&&void 0!==E&&E.idToken)return No._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cs{constructor(f,p,E){this.session=f,this.hints=p,this.signInResolver=E}static _fromError(f,p){const E=An(f),A=p.customData._serverResponse,R=(A.mfaInfo||[]).map(ce=>$s._fromServerResponse(E,ce));se(A.mfaPendingCredential,E,"internal-error");const q=No._fromMfaPendingCredential(A.mfaPendingCredential);return new Cs(q,R,function(){var ce=(0,_.Z)(function*(ze){const et=yield ze._process(E,q);delete A.mfaInfo,delete A.mfaPendingCredential;const yt=Object.assign(Object.assign({},A),{idToken:et.idToken,refreshToken:et.refreshToken});switch(p.operationType){case"signIn":const Dt=yield jr._fromIdTokenResponse(E,p.operationType,yt);return yield E._updateCurrentUser(Dt.user),Dt;case"reauthenticate":return se(p.user,E,"internal-error"),jr._forOperation(p.user,p.operationType,yt);default:re(E,"internal-error")}});return function(ze){return ce.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,_.Z)(function*(){return p.signInResolver(f)})()}}function du(y,f){return It(y,"POST","/v2/accounts/mfaEnrollment:start",mt(y,f))}class Lo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>$s._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Lo(f)}getSession(){var f=this;return(0,_.Z)(function*(){return No._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,p){var E=this;return(0,_.Z)(function*(){const A=f,R=yield E.getSession(),q=yield Et(E.user,A._process(E.user.auth,R,p));return yield E.user._updateTokensIfNecessary(q),E.user.reload()})()}unenroll(f){var p=this;return(0,_.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield p.user.getIdToken();try{const R=yield Et(p.user,function Bl(y,f){return It(y,"POST","/v2/accounts/mfaEnrollment:withdraw",mt(y,f))}(p.user.auth,{idToken:A,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:q})=>q!==E),yield p.user._updateTokensIfNecessary(R),yield p.user.reload()}catch(R){throw R}})()}}const Fo=new WeakMap,Uo="__sak";class gc{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Uo,"1"),this.storage.removeItem(Uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ts=(()=>{class y extends gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mp(){const y=(0,k.z$)();return de(y)||Ct(y)}()&&function Ji(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),R=this.localCache[E];A!==R&&p(E,R,A)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((ce,ze,et)=>{this.notifyListeners(ce,et)});const A=p.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(p.newValue!==ce)null!==p.newValue?this.storage.setItem(A,p.newValue):this.storage.removeItem(A);else if(this.localCache[A]===p.newValue&&!E)return}const R=()=>{const ce=this.storage.getItem(A);!E&&this.localCache[A]===ce||this.notifyListeners(A,ce)},q=this.storage.getItem(A);!function Vr(){return(0,k.w1)()&&10===document.documentMode}()||q===p.newValue||p.newValue===p.oldValue?R():setTimeout(R,10)}notifyListeners(p,E){this.localCache[p]=E;const A=this.listeners[p];if(A)for(const R of Array.from(A))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var A=()=>super._set,R=this;return(0,_.Z)(function*(){yield A().call(R,p,E),R.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,A=this;return(0,_.Z)(function*(){const R=yield E().call(A,p);return A.localCache[p]=JSON.stringify(R),R})()}_remove(p){var E=()=>super._remove,A=this;return(0,_.Z)(function*(){yield E().call(A,p),delete A.localCache[p]})()}}return y.type="LOCAL",y})(),Vo=(()=>{class y extends gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return y.type="SESSION",y})();let mc=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(R=>R.isListeningto(p));if(E)return E;const A=new y(p);return this.receivers.push(A),A}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,_.Z)(function*(){const A=p,{eventId:R,eventType:q,data:ce}=A.data,ze=E.handlersMap[q];if(!ze?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const et=Array.from(ze).map(function(){var Dt=(0,_.Z)(function*(Vn){return Vn(A.origin,ce)});return function(Vn){return Dt.apply(this,arguments)}}()),yt=yield function Rp(y){return Promise.all(y.map(function(){var f=(0,_.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return f.apply(this,arguments)}}()))}(et);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:yt})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ss(y="",f=10){let p="";for(let E=0;E<f;E++)p+=Math.floor(10*Math.random());return y+p}class oy{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,E=50){var A=this;return(0,_.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,ce;return new Promise((ze,et)=>{const yt=Ss("",20);R.port1.start();const Dt=setTimeout(()=>{et(new Error("unsupported_event"))},E);ce={messageChannel:R,onMessage(Vn){const ds=Vn;if(ds.data.eventId===yt)switch(ds.data.status){case"ack":clearTimeout(Dt),q=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),ze(ds.data.response);break;default:clearTimeout(Dt),clearTimeout(q),et(new Error("invalid_response"))}}},A.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:yt,data:p},[R.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function Un(){return window}function gu(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function yc(){return(yc=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bo="firebaseLocalStorageDb",wa="firebaseLocalStorage",Ws="fbase_key";class _c{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function mu(y,f){return y.transaction([wa],f?"readwrite":"readonly").objectStore(wa)}function $l(){const y=indexedDB.open(Bo,1);return new Promise((f,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(wa,{keyPath:Ws})}catch(A){p(A)}}),y.addEventListener("success",(0,_.Z)(function*(){const E=y.result;E.objectStoreNames.contains(wa)?f(E):(E.close(),yield function wn(){const y=indexedDB.deleteDatabase(Bo);return new _c(y).toPromise()}(),f(yield $l()))}))})}function Hl(y,f,p){return Op.apply(this,arguments)}function Op(){return(Op=(0,_.Z)(function*(y,f,p){const E=mu(y,!0).put({[Ws]:f,value:p});return new _c(E).toPromise()})).apply(this,arguments)}function kp(){return(kp=(0,_.Z)(function*(y,f){const p=mu(y,!1).get(f),E=yield new _c(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Np(y,f){const p=mu(y,!0).delete(f);return new _c(p).toPromise()}const vc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,_.Z)(function*(){return p.db||(p.db=yield $l()),p.db})()}_withRetries(p){var E=this;return(0,_.Z)(function*(){let A=0;for(;;)try{const R=yield E._openDb();return yield p(R)}catch(R){if(A++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,_.Z)(function*(){return gu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,_.Z)(function*(){p.receiver=mc._getInstance(function Gn(){return gu()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,_.Z)(function*(A,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(A,R){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,_.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,_.Z)(function*(){var E,A;if(p.activeServiceWorker=yield function Pp(){return yc.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new oy(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,_.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function qs(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const p=yield $l();return yield Hl(p,Uo,"1"),yield Np(p,Uo),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,_.Z)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var A=this;return(0,_.Z)(function*(){return A._withPendingWrite((0,_.Z)(function*(){return yield A._withRetries(R=>Hl(R,p,E)),A.localCache[p]=E,A.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,_.Z)(function*(){const A=yield E._withRetries(R=>function xh(y,f){return kp.apply(this,arguments)}(R,p));return E.localCache[p]=A,A})()}_remove(p){var E=this;return(0,_.Z)(function*(){return E._withPendingWrite((0,_.Z)(function*(){return yield E._withRetries(A=>Np(A,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,_.Z)(function*(){const E=yield p._withRetries(q=>{const ce=mu(q,!1).getAll();return new _c(ce).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:ce}of E)R.add(q),JSON.stringify(p.localCache[q])!==JSON.stringify(ce)&&(p.notifyListeners(q,ce),A.push(q));for(const q of Object.keys(p.localCache))p.localCache[q]&&!R.has(q)&&(p.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(p,E){this.localCache[p]=E;const A=this.listeners[p];if(A)for(const R of Array.from(A))R(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ur(y,f){return It(y,"POST","/v2/accounts/mfaSignIn:start",mt(y,f))}const ir=1e12;class ss{constructor(f){this.auth=f,this.counter=ir,this._widgets=new Map}render(f,p){const E=this.counter;return this._widgets.set(E,new zl(f,this.auth.name,p||{})),this.counter++,E}reset(f){var p;const E=f||ir;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ir))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,_.Z)(function*(){var E;return null===(E=p._widgets.get(f||ir))||void 0===E||E.execute(),""})()}}class zl{constructor(f,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;se(A,"argument-error",{appName:p}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gl(y){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ea=Hi("rcb"),Rh=new ve(3e4,6e4);class ay{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Un().grecaptcha)||void 0===f||!f.render)}load(f,p=""){return se(function Up(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),f,"argument-error"),this.shouldResolveImmediately(p)&&Qt(Un().grecaptcha)?Promise.resolve(Un().grecaptcha):new Promise((E,A)=>{const R=Un().setTimeout(()=>{A(Se(f,"network-request-failed"))},Rh.get());Un()[Ea]=()=>{Un().clearTimeout(R),delete Un()[Ea];const ce=Un().grecaptcha;if(!ce||!Qt(ce))return void A(Se(f,"internal-error"));const ze=ce.render;ce.render=(et,yt)=>{const Dt=ze(et,yt);return this.counter++,Dt},this.hostLanguage=p,E(ce)},Br(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Ea,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),A(Se(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!(null===(p=Un().grecaptcha)||void 0===p||!p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Uv{load(f){return(0,_.Z)(function*(){return new ss(f)})()}clearedOneInstance(){}}const Ec="recaptcha",Ri={theme:"light",type:"image"};class Ic{constructor(f,p=Object.assign({},Ri),E){this.parameters=p,this.type=Ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(E),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;se(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uv:new ay,this.validateStartingState()}verify(){var f=this;return(0,_.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(p)||new Promise(R=>{const q=ce=>{!ce||(f.tokenChangeListeners.delete(q),R(ce))};f.tokenChangeListeners.add(q),f.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof f)f(p);else if("string"==typeof f){const E=Un()[f];"function"==typeof E&&E(p)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,_.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,_.Z)(function*(){se(gt()&&!gu(),f.auth,"internal-error"),yield function _u(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function pe(y){return Ge.apply(this,arguments)}(f.auth);se(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ql{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Qr._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Dc(){return(Dc=(0,_.Z)(function*(y,f,p){const E=An(y),A=yield Tc(E,f,(0,k.m9)(p));return new ql(A,R=>Ai(E,R))})).apply(this,arguments)}function bc(){return(bc=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y);yield tn(!1,E,"phone");const A=yield Tc(E.auth,f,(0,k.m9)(p));return new ql(A,R=>xl(E,R))})).apply(this,arguments)}function Cc(){return(Cc=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y),A=yield Tc(E.auth,f,(0,k.m9)(p));return new ql(A,R=>zn(E,R))})).apply(this,arguments)}function Tc(y,f,p){return En.apply(this,arguments)}function En(){return(En=(0,_.Z)(function*(y,f,p){var E;const A=yield p.verify();try{let R;if(se("string"==typeof A,y,"argument-error"),se(p.type===Ec,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const q=R.session;if("phoneNumber"in R)return se("enroll"===q.type,y,"internal-error"),(yield du(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{se("signin"===q.type,y,"internal-error");const ce=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return se(ce,y,"missing-multi-factor-info"),(yield ur(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ph(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{p._reset()}})).apply(this,arguments)}function xt(){return(xt=(0,_.Z)(function*(y,f){yield sc((0,k.m9)(y),f)})).apply(this,arguments)}let cr=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=An(p)}verifyPhoneNumber(p,E){return Tc(this.auth,p,(0,k.m9)(E))}static credential(p,E){return Qr._fromVerification(p,E)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:A}=p;return E&&A?Qr._fromTokenResponse(E,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function lr(y,f){return f?Zn(f):(se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ei extends Vs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ts(f,this._buildIdpRequest())}_linkToIdToken(f,p){return ts(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return ts(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function vu(y){return oc(y.auth,new ei(y),y.bypassAuthState)}function Ks(y){const{auth:f,user:p}=y;return se(p,f,"internal-error"),wh(p,new ei(y),y.bypassAuthState)}function Sc(y){return wu.apply(this,arguments)}function wu(){return(wu=(0,_.Z)(function*(y){const{auth:f,user:p}=y;return se(p,f,"internal-error"),sc(p,new ei(y),y.bypassAuthState)})).apply(this,arguments)}class jo{constructor(f,p,E,A,R=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,_.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(E,A){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,_.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:R,tenantId:q,error:ce,type:ze}=f;if(ce)return void p.reject(ce);const et={auth:p.auth,requestUri:E,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ze)(et))}catch(yt){p.reject(yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return Sc;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:re(this.auth,"internal-error")}}resolve(f){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ti=new ve(2e3,1e4);function Xn(){return(Xn=(0,_.Z)(function*(y,f,p){const E=An(y);fe(y,f,js);const A=lr(E,p);return new Kl(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function qt(){return(qt=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y);fe(E.auth,f,js);const A=lr(E.auth,p);return new Kl(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y);fe(E.auth,f,js);const A=lr(E.auth,p);return new Kl(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let Kl=(()=>{class y extends jo{constructor(p,E,A,R,q){super(p,E,R,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,_.Z)(function*(){const E=yield p.execute();return se(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,_.Z)(function*(){tt(1===p.filter.length,"Popup operations only handle one event");const E=Ss();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(A=>{p.reject(A)}),p.resolver._isIframeWebStorageSupported(p.auth,A=>{A||p.reject(Se(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,ti.get())};p()}}return y.currentPopupAction=null,y})();const _r=new Map;class Nh extends jo{constructor(f,p,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,_.Z)(function*(){let E=_r.get(p.auth._key());if(!E){try{const R=(yield function lo(y,f){return Yl.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;E=()=>Promise.resolve(R)}catch(A){E=()=>Promise.reject(A)}_r.set(p.auth._key(),E)}return p.bypassAuthState||_r.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,E=this;return(0,_.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,p().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Yl(){return(Yl=(0,_.Z)(function*(y,f){const p=Eu(f),E=ba(y);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(p));return yield E._remove(p),A})).apply(this,arguments)}function Ho(y,f){return Da.apply(this,arguments)}function Da(){return(Da=(0,_.Z)(function*(y,f){return ba(y)._set(Eu(f),"true")})).apply(this,arguments)}function Zs(y,f){_r.set(y._key(),f)}function ba(y){return Zn(y._redirectPersistence)}function Eu(y){return z("pendingRedirect",y.config.apiKey,y.name)}function Ki(){return(Ki=(0,_.Z)(function*(y,f,p){const E=An(y);fe(y,f,js),yield E._initializationPromise;const A=lr(E,p);return yield Ho(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function Hr(){return(Hr=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y);fe(E.auth,f,js),yield E.auth._initializationPromise;const A=lr(E.auth,p);yield Ho(A,E.auth);const R=yield ho(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(y,f,p){const E=(0,k.m9)(y);fe(E.auth,f,js),yield E.auth._initializationPromise;const A=lr(E.auth,p);yield tn(!1,E,f.providerId),yield Ho(A,E.auth);const R=yield ho(E);return A._openRedirect(E.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function Ca(){return(Ca=(0,_.Z)(function*(y,f){return yield An(y)._initializationPromise,fi(y,f,!1)})).apply(this,arguments)}function fi(y,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(y,f,p=!1){const E=An(y),A=lr(E,f),q=yield new Nh(E,A,p).execute();return q&&!p&&(delete q.user._redirectEventId,yield E._persistUserIfCurrent(q.user),yield E._setRedirectUser(null,f)),q})).apply(this,arguments)}function ho(y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,_.Z)(function*(y){const f=Ss(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class as{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(p=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function xs(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vr(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var E;if(f.error&&!vr(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(Se(this.auth,A))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const E=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(us(f))}saveEventToCache(f){this.cachedEventUids.add(us(f)),this.lastProcessedEventTime=Date.now()}}function us(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function vr({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function $p(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,_.Z)(function*(y,f={}){return It(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Hp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zp=/^https?/;function zo(){return(zo=(0,_.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield $p(y);for(const p of f)try{if(Jl(p))return}catch{}re(y,"unauthorized-domain")})).apply(this,arguments)}function Jl(y){const f=Gt(),{protocol:p,hostname:E}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===E?"chrome-extension:"===p&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&q.hostname===E}if(!zp.test(p))return!1;if(Hp.test(y))return E===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const nn=new ve(3e4,6e4);function Du(){const y=Un().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Ys=null;function po(y){return Ys=Ys||function Sa(y){return new Promise((f,p)=>{var E,A,R;function q(){Du(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Du(),p(Se(y,"network-request-failed"))},timeout:nn.get()})}if(null!==(A=null===(E=Un().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Un().gapi)||void 0===R||!R.load){const ce=Hi("iframefcb");return Un()[ce]=()=>{gapi.load?q():p(Se(y,"network-request-failed"))},Br(`https://apis.google.com/js/api.js?onload=${ce}`).catch(ze=>p(ze))}q()}}).catch(f=>{throw Ys=null,f})}(y),Ys}const Uh=new ve(5e3,15e3),ed={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vv(y){const f=y.config;se(f.authDomain,y,"auth-domain-config-required");const p=f.emulator?Y(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:y.name,v:_e.SDK_VERSION},A=cs.get(y.config.apiHost);A&&(E.eid=A);const R=y._getFrameworks();return R.length&&(E.fw=R.join(",")),`${p}?${(0,k.xO)(E).slice(1)}`}function C(){return C=(0,_.Z)(function*(y){const f=yield po(y),p=Un().gapi;return se(p,y,"internal-error"),f.open({where:document.body,url:Vv(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ed,dontclear:!0},E=>new Promise(function(){var A=(0,_.Z)(function*(R,q){yield E.restyle({setHideOnLeave:!1});const ce=Se(y,"network-request-failed"),ze=Un().setTimeout(()=>{q(ce)},Uh.get());function et(){Un().clearTimeout(ze),R(E)}E.ping(et).then(et,()=>{q(ce)})});return function(R,q){return A.apply(this,arguments)}}()))}),C.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rt{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zr=encodeURIComponent("fac");function Tn(y,f,p,E,A,R){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,_.Z)(function*(y,f,p,E,A,R){se(y.config.authDomain,y,"auth-domain-config-required"),se(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:E,v:_e.SDK_VERSION,eventId:A};if(f instanceof js){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[yt,Dt]of Object.entries(R||{}))q[yt]=Dt}if(f instanceof rc){const yt=f.getScopes().filter(Dt=>""!==Dt);yt.length>0&&(q.scopes=yt.join(","))}y.tenantId&&(q.tid=y.tenantId);const ce=q;for(const yt of Object.keys(ce))void 0===ce[yt]&&delete ce[yt];const ze=yield y._getAppCheckToken(),et=ze?`#${zr}=${encodeURIComponent(ze)}`:"";return`${ls(y)}?${(0,k.xO)(ce).slice(1)}${et}`})).apply(this,arguments)}function ls({config:y}){return y.emulator?Y(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const go="webStorageSupport";class td extends class Rc{constructor(f){this.factorId=f}_process(f,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,E);case"signin":return this._finalizeSignIn(f,p.credential);default:return pt("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new td(f)}_finalizeEnroll(f,p,E){return function qi(y,f){return It(y,"POST","/v2/accounts/mfaEnrollment:finalize",mt(y,f))}(f,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function wc(y,f){return It(y,"POST","/v2/accounts/mfaSignIn:finalize",mt(y,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cy=(()=>{class y{constructor(){}static assertion(p){return td._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Vh="@firebase/auth";class Bh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,_.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(E=>{f(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xa(){return window}function rd(){return(rd=(0,_.Z)(function*(y,f,p){var E;const{BuildInfo:A}=xa();tt(f.sessionId,"AuthEvent did not contain a session ID");const R=yield jv(f.sessionId),q={};return Ct()?q.ibi=A.packageName:Yt()?q.apn=A.packageName:re(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,Tn(y,p,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,q)})).apply(this,arguments)}function Nc(){return(Nc=(0,_.Z)(function*(y){const{BuildInfo:f}=xa(),p={};Ct()?p.iosBundleId=f.packageName:Yt()?p.androidPackageName=f.packageName:re(y,"operation-not-supported-in-this-environment"),yield $p(y,p)})).apply(this,arguments)}function id(){return(id=(0,_.Z)(function*(y,f,p){const{cordova:E}=xa();let A=()=>{};try{yield new Promise((R,q)=>{let ce=null;function ze(){var Dt;R();const Vn=null===(Dt=E.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof Vn&&Vn(),"function"==typeof p?.close&&p.close()}function et(){ce||(ce=window.setTimeout(()=>{q(Se(y,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&et()}f.addPassiveListener(ze),document.addEventListener("resume",et,!1),Yt()&&document.addEventListener("visibilitychange",yt,!1),A=()=>{f.removePassiveListener(ze),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",yt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function jv(y){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,_.Z)(function*(y){const f=$v(y),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $v(y){if(tt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),p=new Uint8Array(f);for(let E=0;E<y.length;E++)p[E]=y.charCodeAt(E);return p}(0,k.Pz)("authIdTokenMaxAge"),function ly(y){(0,_e._registerComponent)(new G.wA("auth",(f,{options:p})=>{const E=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:q,authDomain:ce}=E.options;se(q&&!q.includes(":"),"invalid-api-key",{appName:E.name});const ze={apiKey:q,authDomain:ce,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(y)},et=new wl(E,A,R,ze);return function Yr(y,f){const p=f?.persistence||[],E=(Array.isArray(p)?p:[p]).map(Zn);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(E,f?.popupRedirectResolver)}(et,p),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,E)=>{f.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new G.wA("auth-internal",f=>{const p=An(f.getProvider("auth").getImmediate());return new Bh(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Vh,"0.23.2",function Wp(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,_e.registerVersion)(Vh,"0.23.2","esm2017")}("Browser");class Tu extends as{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,_.Z)(function*(){yield f.initPromise})()}}function Yp(y){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,_.Z)(function*(y){const f=yield Go()._get(sd(y));return f&&(yield Go()._remove(sd(y))),f})).apply(this,arguments)}function fy(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const E=Math.floor(Math.random()*f.length);y.push(f.charAt(E))}return y.join("")}function Go(){return Zn(Ts)}function sd(y){return z("authEvent",y.config.apiKey,y.name)}function xu(y){if(!y?.includes("?"))return{};const[f,...p]=y.split("?");return(0,k.zd)(p.join("?"))}function Gh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}function Js(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Wh(y=(0,k.z$)()){return!("file:"!==Js()&&"ionic:"!==Js()&&"capacitor:"!==Js()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function rg(){try{const y=self.localStorage,f=Ss();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Hv(y=(0,k.z$)()){return function ng(){return(0,k.w1)()&&11===document?.documentMode}()||function od(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return ig()&&(0,k.hl)()}return!1}function ig(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sg(){return(function eg(){return"http:"===Js()||"https:"===Js()}()||(0,k.ru)()||Wh())&&!function tg(){return(0,k.b$)()||(0,k.UG)()}()&&rg()&&!ig()}function og(){return Wh()&&typeof document<"u"}function Fc(){return(Fc=(0,_.Z)(function*(){return!!og()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},Uc=se,Zh="persistence";function eo(y){return yo.apply(this,arguments)}function yo(){return(yo=(0,_.Z)(function*(y){yield y._initializationPromise;const f=Yh(),p=z(Zh,y.config.apiKey,y.name);f&&f.setItem(p,y._getPersistence())})).apply(this,arguments)}function Yh(){var y;try{return(null===(y=function Kh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Qh=se;class pi{constructor(){this.browserResolver=Zn(class xr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=fi,this._overrideRedirectResult=Zs}_openPopup(f,p,E,A){var R=this;return(0,_.Z)(function*(){var q;tt(null===(q=R.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=yield Tn(f,p,E,Gt(),A);return function Je(y,f,p,E=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-E)/2,0).toString();let ce="";const ze=Object.assign(Object.assign({},M),{width:E.toString(),height:A.toString(),top:R,left:q}),et=(0,k.z$)().toLowerCase();p&&(ce=nt(et)?"_blank":p),be(et)&&(f=f||"http://localhost",ze.scrollbars="yes");const yt=Object.entries(ze).reduce((Vn,[ds,dd])=>`${Vn}${ds}=${dd},`,"");if(function Dn(y=(0,k.z$)()){var f;return Ct(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(et)&&"_self"!==ce)return function Tt(y,f){const p=document.createElement("a");p.href=y,p.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(f||"",ce),new rt(null);const Dt=window.open(f||"",ce,yt);se(Dt,y,"popup-blocked");try{Dt.focus()}catch{}return new rt(Dt)}(f,ce,Ss())})()}_openRedirect(f,p,E,A){var R=this;return(0,_.Z)(function*(){return yield R._originValidation(f),function jl(y){Un().location.href=y}(yield Tn(f,p,E,Gt(),A)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:A,promise:R}=this.eventManagers[p];return A?Promise.resolve(A):(tt(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(f);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(f){var p=this;return(0,_.Z)(function*(){const E=yield function I(y){return C.apply(this,arguments)}(f),A=new as(f);return E.register("authEvent",R=>(se(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:A},p.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(go,{type:go},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[go];void 0!==q&&p(!!q),re(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xl(y){return zo.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return bn()||de()||Ct()}}),this.cordovaResolver=Zn(class Xp{constructor(){this._redirectPersistence=Vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fi,this._overrideRedirectResult=Zs}_initialize(f){var p=this;return(0,_.Z)(function*(){const E=f._key();let A=p.eventManagers.get(E);return A||(A=new Tu(f),p.eventManagers.set(E,A),p.attachCallbackListeners(f,A)),A})()}_openPopup(f){re(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,E,A){var R=this;return(0,_.Z)(function*(){!function KE(y){var f,p,E,A,R,q,ce,ze,et,yt;const Dt=xa();se("function"==typeof(null===(f=Dt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(p=Dt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(R=null===(A=null===(E=Dt?.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(ze=null===(ce=null===(q=Dt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===ze?void 0:ze.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(yt=null===(et=Dt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===yt?void 0:yt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield R._initialize(f);yield q.initialized(),q.resetRedirect(),function Bp(){_r.clear()}(),yield R._originValidation(f);const ce=function Su(y,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:fy(),postBody:null,tenantId:y.tenantId,error:Se(y,"no-auth-event")}}(f,E,A);yield function $h(y,f){return Go()._set(sd(y),f)}(f,ce);const ze=yield function kc(y,f,p){return rd.apply(this,arguments)}(f,ce,p),et=yield function Kp(y){const{cordova:f}=xa();return new Promise(p=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function kt(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(A)})})}(ze);return function Cu(y,f,p){return id.apply(this,arguments)}(f,q,et)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function jh(y){return Nc.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:E,handleOpenURL:A,BuildInfo:R}=xa(),q=setTimeout((0,_.Z)(function*(){yield Yp(f),p.onEvent(Gh())}),500),ce=function(){var yt=(0,_.Z)(function*(Dt){clearTimeout(q);const Vn=yield Yp(f);let ds=null;Vn&&Dt?.url&&(ds=function Au(y,f){var p,E;const A=function Qp(y){const f=xu(y),p=f.link?decodeURIComponent(f.link):void 0,E=xu(p).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return xu(A).link||A||E||p||y}(f);if(A.includes("/__/auth/callback")){const R=xu(A),q=R.firebaseError?function py(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(E=null===(p=q?.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],ze=ce?Se(ce):null;return ze?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Vn,Dt.url)),p.onEvent(ds||Gh())});return function(Vn){return yt.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,ce);const ze=A,et=`${R.packageName.toLowerCase()}://`;xa().handleOpenURL=function(){var yt=(0,_.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(et)&&ce({url:Dt}),"function"==typeof ze)try{ze(Dt)}catch(Vn){console.error(Vn)}});return function(Dt){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vo,this._completeRedirectFn=fi,this._overrideRedirectResult=Zs}_initialize(f){var p=this;return(0,_.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,E,A){var R=this;return(0,_.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,p,E,A)})()}_openRedirect(f,p,E,A){var R=this;return(0,_.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,p,E,A)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return og()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,_.Z)(function*(){if(f.underlyingResolver)return;const p=yield function ag(){return Fc.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Xh(y){return y.unwrap()}function ad(y){return Jh(y)}function Jh(y){const{_tokenResponse:f}=y instanceof k.ZR?y.customData:y;if(!f)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return cr.credentialFromResult(y);const p=f.providerId;if(!p||"password"===p)return null;let E;switch(p){case"google.com":E=Tl;break;case"facebook.com":E=hi;break;case"github.com":E=ic;break;case"twitter.com":E=Sl;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:ce,nonce:ze}=f;return R||q||A||ce?ce?p.startsWith("saml.")?Qn._create(p,ce):zi._fromParams({providerId:p,signInMethod:p,pendingToken:ce,idToken:A,accessToken:R}):new Gi(p).credential({idToken:A,accessToken:R,rawNonce:ze}):null}return y instanceof k.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Pi(y,f){return f.catch(p=>{throw p instanceof k.ZR&&function ug(y,f){var p;const E=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new zv(y,function pc(y,f){var p;const E=(0,k.m9)(y),A=f;return se(f.customData.operationType,E,"argument-error"),se(null===(p=A.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Cs._fromError(E,A)}(y,f));else if(E){const A=Jh(f),R=f;A&&(R.credential=A,R.tenantId=E.tenantId||void 0,R.email=E.email||void 0,R.phoneNumber=E.phoneNumber||void 0)}}(y,p),p}).then(p=>{const A=p.user;return{operationType:p.operationType,credential:ad(p),additionalUserInfo:hc(p),user:wr.getOrCreate(A)}})}function ud(y,f){return cd.apply(this,arguments)}function cd(){return(cd=(0,_.Z)(function*(y,f){const p=yield f;return{verificationId:p.verificationId,confirm:E=>Pi(y,p.confirm(E))}})).apply(this,arguments)}class zv{constructor(f,p){this.resolver=p,this.auth=function _y(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Pi(Xh(this.auth),this.resolver.resolveSignIn(f))}}class wr{constructor(f){this._delegate=f,this.multiFactor=function hu(y){const f=(0,k.m9)(y);return Fo.has(f)||Fo.set(f,Lo._fromUser(f)),Fo.get(f)}(f)}static getOrCreate(f){return wr.USER_MAP.has(f)||wr.USER_MAP.set(f,new wr(f)),wr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,_.Z)(function*(){return Pi(p.auth,xl(p._delegate,f))})()}linkWithPhoneNumber(f,p){var E=this;return(0,_.Z)(function*(){return ud(E.auth,function uy(y,f,p){return bc.apply(this,arguments)}(E._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,_.Z)(function*(){return Pi(p.auth,function kh(y,f,p){return $o.apply(this,arguments)}(p._delegate,f,pi))})()}linkWithRedirect(f){var p=this;return(0,_.Z)(function*(){return yield eo(An(p.auth)),function Ac(y,f,p){return function jp(y,f,p){return dr.apply(this,arguments)}(y,f,p)}(p._delegate,f,pi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,_.Z)(function*(){return Pi(p.auth,zn(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return ud(this.auth,function Oh(y,f,p){return Cc.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Pi(this.auth,function Ia(y,f,p){return qt.apply(this,arguments)}(this._delegate,f,pi))}reauthenticateWithRedirect(f){var p=this;return(0,_.Z)(function*(){return yield eo(An(p.auth)),function os(y,f,p){return function Fh(y,f,p){return Hr.apply(this,arguments)}(y,f,p)}(p._delegate,f,pi)})()}sendEmailVerification(f){return function Ch(y,f){return cc.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,_.Z)(function*(){return yield function vh(y,f){return ns.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Cp(y,f){return uu((0,k.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function zs(y,f){return uu((0,k.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function As(y,f){return xt.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Th(y,f){return au.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Nl(y,f,p){return ko.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wr.USER_MAP=new WeakMap;const qo=se;let vy=(()=>{class y{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=p.options;qo(A,"invalid-api-key",{appName:p.name}),qo(A,"invalid-api-key",{appName:p.name});const R=typeof window<"u"?pi:void 0;this._delegate=E.initialize({options:{persistence:Gv(A,p.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(X),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function ih(y,f,p){const E=An(y);se(E._canInitEmulator,E,"emulator-config-failed"),se(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!p?.disableWarnings,R=yr(f),{host:q,port:ce}=function di(y){const f=yr(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const R=A[1];return{host:R,port:la(E.substr(R.length+1))}}{const[R,q]=E.split(":");return{host:R,port:la(q)}}}(f);E.config.emulator={url:`${R}//${q}${null===ce?"":`:${ce}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:q,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Yu(){function y(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,E)}applyActionCode(p){return function ac(y,f){return Jr.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Pl(this._delegate,p)}confirmPasswordReset(p,E){return function Rl(y,f,p){return nu.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var A=this;return(0,_.Z)(function*(){return Pi(A._delegate,function Ol(y,f,p){return su.apply(this,arguments)}(A._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function bh(y,f){return kl.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function iy(y,f){return"EMAIL_SIGNIN"===nc.parseLink(f)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,_.Z)(function*(){qo(sg(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function Iu(y,f){return Ca.apply(this,arguments)}(p._delegate,pi);return E?Pi(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Jp(y,f){An(y)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,E,A){const{next:R,error:q,complete:ce}=cg(p,E,A);return this._delegate.onAuthStateChanged(R,q,ce)}onIdTokenChanged(p,E,A){const{next:R,error:q,complete:ce}=cg(p,E,A);return this._delegate.onIdTokenChanged(R,q,ce)}sendSignInLinkToEmail(p,E){return function ga(y,f,p){return uc.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function ry(y,f,p){return pa.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,_.Z)(function*(){let A;switch(function my(y,f){Uc(Object.values(Mr).includes(f),y,"invalid-persistence-type"),(0,k.b$)()?Uc(f!==Mr.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Uc(f===Mr.NONE,y,"unsupported-persistence-type"):ig()?Uc(f===Mr.NONE||f===Mr.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Uc(f===Mr.NONE||rg(),y,"unsupported-persistence-type")}(E._delegate,p),p){case Mr.SESSION:A=Vo;break;case Mr.LOCAL:A=(yield Zn(vc)._isAvailable())?vc:Ts;break;case Mr.NONE:A=li;break;default:return re("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Pi(this._delegate,function gh(y){return mh.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Pi(this._delegate,Ai(this._delegate,p))}signInWithCustomToken(p){return Pi(this._delegate,function xi(y,f){return rs.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return Pi(this._delegate,function Ih(y,f,p){return Ai((0,k.m9)(y),Yn.credential(f,p))}(this._delegate,p,E))}signInWithEmailLink(p,E){return Pi(this._delegate,function dn(y,f,p){return Hs.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return ud(this._delegate,function Vp(y,f,p){return Dc.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,_.Z)(function*(){return qo(sg(),E._delegate,"operation-not-supported-in-this-environment"),Pi(E._delegate,function Wl(y,f,p){return Xn.apply(this,arguments)}(E._delegate,p,pi))})()}signInWithRedirect(p){var E=this;return(0,_.Z)(function*(){return qo(sg(),E._delegate,"operation-not-supported-in-this-environment"),yield eo(E._delegate),function Lh(y,f,p){return function Ql(y,f,p){return Ki.apply(this,arguments)}(y,f,p)}(E._delegate,p,pi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function iu(y,f){return Oo.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Mr,y})();function cg(y,f,p){let E=y;"function"!=typeof y&&({next:E,error:f,complete:p}=y);const A=E;return{next:q=>A(q&&wr.getOrCreate(q)),error:f,complete:p}}function Gv(y,f){const p=function yy(y,f){const p=Yh();if(!p)return[];const E=z(Zh,y,f);switch(p.getItem(E)){case Mr.NONE:return[li];case Mr.LOCAL:return[vc,Vo];case Mr.SESSION:return[Vo];default:return[]}}(y,f);if(typeof self<"u"&&!p.includes(vc)&&p.push(vc),typeof window<"u")for(const E of[Ts,Vo])p.includes(E)||p.push(E);return p.includes(li)||p.push(li),p}class lg{constructor(){this.providerId="phone",this._delegate=new cr(Xh(le.Z.auth()))}static credential(f,p){return cr.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}lg.PHONE_SIGN_IN_METHOD=cr.PHONE_SIGN_IN_METHOD,lg.PROVIDER_ID=cr.PROVIDER_ID;const qv=se;class Wv{constructor(f,p,E=le.Z.app()){var A;qv(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ic(f,p,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ld(y){y.INTERNAL.registerComponent(new G.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new vy(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Yn,FacebookAuthProvider:hi,GithubAuthProvider:ic,GoogleAuthProvider:Tl,OAuthProvider:Gi,SAMLAuthProvider:Mo,PhoneAuthProvider:lg,PhoneMultiFactorGenerator:cy,RecaptchaVerifier:Wv,TwitterAuthProvider:Sl,Auth:vy,AuthCredential:Vs,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(le.Z)},5861:(Mt,Be,V)=>{"use strict";function _(k,_e,we,Te,G,te,ae){try{var B=k[te](ae),H=B.value}catch(Q){return void we(Q)}B.done?_e(H):Promise.resolve(H).then(Te,G)}function le(k){return function(){var _e=this,we=arguments;return new Promise(function(Te,G){var te=k.apply(_e,we);function ae(H){_(te,Te,G,ae,B,"next",H)}function B(H){_(te,Te,G,ae,B,"throw",H)}ae(void 0)})}}V.d(Be,{Z:()=>le})}},Mt=>{Mt(Mt.s=9374)}]);